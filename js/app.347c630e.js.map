{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/views/AddEvent.vue?3ff8","webpack:///./src/views/Game.vue?d0a9","webpack:///./src/App.vue","webpack:///./src/components/Tag.vue?4fd1","webpack:///./src/components/GameBtn.vue?ac6c","webpack:///./src/components/GameBtn.vue","webpack:///./src/components/GameBtn.vue?03fe","webpack:///./src/components/GameBtn.vue?6520","webpack:///./src/App.vue?e9fb","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?4195","webpack:///./src/registerServiceWorker.ts","webpack:///./src/views/LoadGame.vue?3e73","webpack:///src/views/LoadGame.vue","webpack:///./src/views/LoadGame.vue?db0b","webpack:///./src/views/LoadGame.vue","webpack:///./src/views/Game.vue?e107","webpack:///./src/components/EditScene.vue?8fd5","webpack:///./src/utils/random.ts","webpack:///./src/components/EditDialog.vue?8ec7","webpack:///src/components/EditDialog.vue","webpack:///./src/components/EditDialog.vue?740c","webpack:///./src/components/EditDialog.vue","webpack:///./src/components/StringList.vue?881c","webpack:///./src/components/StringList.vue","webpack:///./src/components/StringList.vue?5b23","webpack:///./src/components/StringList.vue?0e5d","webpack:///./src/utils/names.ts","webpack:///./src/store/tags/types.ts","webpack:///./src/store/types.ts","webpack:///src/components/EditScene.vue","webpack:///./src/components/EditScene.vue?f6d4","webpack:///./src/components/EditScene.vue","webpack:///./src/components/EditCharacter.vue?5e38","webpack:///src/components/EditCharacter.vue","webpack:///./src/components/EditCharacter.vue?1a04","webpack:///./src/components/EditCharacter.vue","webpack:///./src/components/EditLog.vue?0a3a","webpack:///./src/components/Tag.vue?02d5","webpack:///src/components/Tag.vue","webpack:///./src/components/Tag.vue?e865","webpack:///./src/components/Tag.vue","webpack:///src/components/EditLog.vue","webpack:///./src/components/EditLog.vue?fd79","webpack:///./src/components/EditLog.vue","webpack:///./src/components/EditGoal.vue?41a0","webpack:///src/components/EditGoal.vue","webpack:///./src/components/EditGoal.vue?ffd2","webpack:///./src/components/EditGoal.vue","webpack:///./src/components/EditPlace.vue?cdbc","webpack:///src/components/EditPlace.vue","webpack:///./src/components/EditPlace.vue?9fae","webpack:///./src/components/EditPlace.vue","webpack:///./src/components/AddQuestion.vue?3d94","webpack:///src/components/AddQuestion.vue","webpack:///./src/components/AddQuestion.vue?39b1","webpack:///./src/components/AddQuestion.vue","webpack:///./src/components/AddComment.vue?6cae","webpack:///src/components/AddComment.vue","webpack:///./src/components/AddComment.vue?8030","webpack:///./src/components/AddComment.vue","webpack:///./src/views/AddEvent.vue?2dfe","webpack:///src/views/AddEvent.vue","webpack:///./src/views/AddEvent.vue?35ea","webpack:///./src/views/AddEvent.vue","webpack:///src/views/Game.vue","webpack:///./src/views/Game.vue?f01b","webpack:///./src/views/Game.vue","webpack:///./src/views/Tags.vue?f55f","webpack:///./src/views/Tags.vue","webpack:///./src/views/Tags.vue?c491","webpack:///./src/views/Tags.vue?b1c2","webpack:///./src/views/Lists.vue?911f","webpack:///src/views/Lists.vue","webpack:///./src/views/Lists.vue?0041","webpack:///./src/views/Lists.vue","webpack:///./src/store/index.ts","webpack:///./src/router/index.ts","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","extend","components","GameBtn","computed","disabled","this","current","characters","goals","places","footerText","process","VUE_APP_GIT_HASH","methods","watch","$route","handler","to","from","title","meta","game","immediate","mounted","showRemoteStorageWidget","render","_vm","_h","$createElement","_c","_self","isHidden","_e","attrs","on","onClick","_v","staticRenderFns","location","$router","isGo","routerPush","isClose","closeGame","isLoad","log","closeCurrentGame","b","routeEquals","$store","state","isGameLoaded","isOnGamePage","isOnLoadPage","VBtn","VIcon","component","$vuetify","breakpoint","lgAndUp","staticClass","staticStyle","_s","VApp","VAppBar","VContainer","VFooter","VMain","VSpacer","VToolbarItems","VToolbar","VToolbarTitle","ready","registered","cached","updatefound","updated","offline","ref","$event","preventDefault","submit","arguments","nameRules","model","callback","$$v","expression","availableTags","search","tagsRules","scopedSlots","_u","fn","_b","selected","remove","item","id","label","countValues","tags","_l","loadGame","join","deleteGame","games","createFakeGame","tagStorage","getOptions","map","enableDevUtils","index","values","filter","countSelected","trim","res","nbEntities","minCount","nbObjects","nbPlaces","nbActions","VAutocomplete","VCard","VCardActions","VCardText","VCardTitle","VChip","VForm","VTextField","tutorialStep","selectedSceneIndex","summary","context","aspect","sceneLog","icon","avatar","proxy","interpretation","mechanical","inspiration","currentSceneIndex","scenes","isDisabled","onReset","onSave","prevSummary","newRandomContext","aspects","randomize","elements","Math","floor","random","indexOf","split","cleanupRandomConstruct","replace","dialog","tooltip","_g","assign","_t","_k","keyCode","saveDialog","saveActionLabel","closeDialog","props","String","default","Boolean","isModification","$props","isNew","resetValues","$emit","VDialog","VDivider","VTooltip","v","hint","randomValue","$set","addEntry","randomTag","params","query","getRandom","required","Array","VList","VListItem","VListItemTitle","names","randomName","init","tagById","tagInfoById","Map","tagInfoByType","types","Set","filters","add","tag","isA","requires","excludes","groups","inherited","currentTags","isFormula","every","includes","some","g","getInternalRandom","options","newTags","ancestors","array","re","exec","reference","referencedTag","resolvedValue","existingInfo","tagObject","isInstance","parsedValue","TagStorage","splitTag","referenced","flatMap","pv","register","ancestorInfos","info","a","set","forEach","elt","x","clear","has","size","getAllThemeInfo","allThemes","getAllNonThemeInfo","lastIndex","lastTs","privateClient","prefix","hasChildren","endsWith","basePath","contentSuffix","removeSuffix","entity","uuidv4","ts","Date","now","createdDate","getListing","response","ids","keys","then","sort","vb","va","path","getObject","ensureId","k","debug","storeObject","JSON","stringify","entityOrId","recursiveRemove","obj","f","parseInt","crypto","getRandomValues","Uint8Array","toString","sceneCount","isLastScene","isPrevSummaryEnabled","isCurrentSummaryEnabled","activePlayerCharacters","updateScene","isActive","isChanged","isInterrupted","VTextarea","isPlayer","newRandomName","updateCharacter","VRadio","VRadioGroup","inspirations","updateSceneLog","newRandomGoal","activeNonPlayerCharacters","updateGoal","newRandomPlace","updatePlace","question","Number","randomAnswer","comment","addComment","addEvent","randomEvent","beforeRouteUpdate","next","currentLogs","oldScenes","sceneIndex","currentScene","goToTheEnd","panels","VAlert","VAvatar","VExpansionPanel","VExpansionPanelContent","VExpansionPanelHeader","VExpansionPanels","VTimeline","VTimelineItem","tagsByType","theme","labelOf","hover","tagBlock","nonEmptyOrDefault","list","defaultIfEmpty","getThemes","getAllNonThemeTags","thisThemes","thisNotThemes","themeMap","typeList","__theme","__name__","displayMap","VHover","character","activeGoals","goal","activePlaces","place","use","RSGameModule","builder","publicClient","declareType","properties","items","minimum","patternProperties","alteredContext","logs","scene","onChange","remoteStorage","logging","changeEvents","remote","local","conflict","rsGameModule","gm_emulator","access","claim","mergeInto","reverse","idx","findIndex","nextIdx","defaultIdx","insertIdx","userAddress","store","Store","getters","mutations","newGame","setFilters","savedGames","clearFilters","update","loadScene","actions","dispatch","createNewGame","commit","save","listSavedGames","loadSavedGame","characterPromise","placesPromise","goalsPromise","scenesPromise","payload","getCharacterById","find","getGoalById","getPlaceById","getSceneById","getLogById","answer","number","d100","relatedAspects","lastOne","attach","relativePath","elts","newValue","origin","oldValue","gameId","changedSceneId","currentScenes","currentSceneId","caching","enable","routes","alias","beforeEnter","LoadGame","Lists","router","customProperties","themes","light","primary","secondary","accent","success","warning","icons","iconfont","delete","config","productionTip","vuetify","h","App","$mount"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASY,EAAe5B,GACvB,OAAOyB,EAAoBI,EAAI,OAAS,CAAC,MAAQ,SAAS7B,IAAUA,GAAW,IAAM,CAAC,MAAQ,YAAYA,GAAW,MAItH,SAASyB,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU+B,QAGnC,IAAIC,EAASJ,EAAiB5B,GAAY,CACzCK,EAAGL,EACHiC,GAAG,EACHF,QAAS,IAUV,OANAjB,EAAQd,GAAUW,KAAKqB,EAAOD,QAASC,EAAQA,EAAOD,QAASL,GAG/DM,EAAOC,GAAI,EAGJD,EAAOD,QAKfL,EAAoBQ,EAAI,SAAuBjC,GAC9C,IAAIkC,EAAW,GAKXC,EAAqBxB,EAAgBX,GACzC,GAA0B,IAAvBmC,EAGF,GAAGA,EACFD,EAAStB,KAAKuB,EAAmB,QAC3B,CAEN,IAAIC,EAAU,IAAIC,SAAQ,SAASC,EAASC,GAC3CJ,EAAqBxB,EAAgBX,GAAW,CAACsC,EAASC,MAE3DL,EAAStB,KAAKuB,EAAmB,GAAKC,GAGtC,IACII,EADAC,EAASC,SAASC,cAAc,UAGpCF,EAAOG,QAAU,QACjBH,EAAOI,QAAU,IACbpB,EAAoBqB,IACvBL,EAAOM,aAAa,QAAStB,EAAoBqB,IAElDL,EAAOO,IAAMpB,EAAe5B,GAG5B,IAAIiD,EAAQ,IAAIC,MAChBV,EAAmB,SAAUW,GAE5BV,EAAOW,QAAUX,EAAOY,OAAS,KACjCC,aAAaT,GACb,IAAIU,EAAQ5C,EAAgBX,GAC5B,GAAa,IAAVuD,EAAa,CACf,GAAGA,EAAO,CACT,IAAIC,EAAYL,IAAyB,SAAfA,EAAMM,KAAkB,UAAYN,EAAMM,MAChEC,EAAUP,GAASA,EAAMQ,QAAUR,EAAMQ,OAAOX,IACpDC,EAAMW,QAAU,iBAAmB5D,EAAU,cAAgBwD,EAAY,KAAOE,EAAU,IAC1FT,EAAMY,KAAO,iBACbZ,EAAMQ,KAAOD,EACbP,EAAMa,QAAUJ,EAChBH,EAAM,GAAGN,GAEVtC,EAAgBX,QAAW+D,IAG7B,IAAIlB,EAAUmB,YAAW,WACxBxB,EAAiB,CAAEiB,KAAM,UAAWE,OAAQlB,MAC1C,MACHA,EAAOW,QAAUX,EAAOY,OAASb,EACjCE,SAASuB,KAAKC,YAAYzB,GAG5B,OAAOJ,QAAQ8B,IAAIjC,IAIpBT,EAAoB2C,EAAIvD,EAGxBY,EAAoB4C,EAAI1C,EAGxBF,EAAoB6C,EAAI,SAASxC,EAAS+B,EAAMU,GAC3C9C,EAAoB+C,EAAE1C,EAAS+B,IAClCtD,OAAOkE,eAAe3C,EAAS+B,EAAM,CAAEa,YAAY,EAAMC,IAAKJ,KAKhE9C,EAAoBmD,EAAI,SAAS9C,GACX,qBAAX+C,QAA0BA,OAAOC,aAC1CvE,OAAOkE,eAAe3C,EAAS+C,OAAOC,YAAa,CAAEC,MAAO,WAE7DxE,OAAOkE,eAAe3C,EAAS,aAAc,CAAEiD,OAAO,KAQvDtD,EAAoBuD,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQtD,EAAoBsD,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAK5E,OAAO6E,OAAO,MAGvB,GAFA3D,EAAoBmD,EAAEO,GACtB5E,OAAOkE,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOtD,EAAoB6C,EAAEa,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIR1D,EAAoB8D,EAAI,SAASxD,GAChC,IAAIwC,EAASxC,GAAUA,EAAOmD,WAC7B,WAAwB,OAAOnD,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAN,EAAoB6C,EAAEC,EAAQ,IAAKA,GAC5BA,GAIR9C,EAAoB+C,EAAI,SAASgB,EAAQC,GAAY,OAAOlF,OAAOC,UAAUC,eAAeC,KAAK8E,EAAQC,IAGzGhE,EAAoBI,EAAI,gBAGxBJ,EAAoBiE,GAAK,SAASC,GAA2B,MAApBC,QAAQ3C,MAAM0C,GAAYA,GAEnE,IAAIE,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAWjF,KAAK0E,KAAKO,GAC5CA,EAAWjF,KAAOf,EAClBgG,EAAaA,EAAWG,QACxB,IAAI,IAAI5F,EAAI,EAAGA,EAAIyF,EAAWvF,OAAQF,IAAKP,EAAqBgG,EAAWzF,IAC3E,IAAIU,EAAsBiF,EAI1B/E,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6EC5NT,W,u1qDCAA,W,iHC2Ce,cAAI+E,OAAO,CACxBpC,KAAM,MAENqC,WAAY,CACVC,QAAA,QAGFrG,KAAM,iBAAO,IAGbsG,SAAU,gDACL,eAAS,CAAC,aACV,eAAW,CAAC,yBAA0B,+BAFnC,IAGNC,SAHQ,WAGA,gBACN,QACE,UAAAC,KAAKC,eAAL,mBAAcC,kBAAd,SAA0BlG,QAA1B,UAAoCgG,KAAKC,eAAzC,iBAAoC,EAAcE,aAAlD,OAAoC,EAAqBnG,QAAzD,UAAmEgG,KAAKC,eAAxE,iBAAmE,EAAcG,cAAjF,OAAmE,EAAsBpG,SAG7FqG,WARQ,WAQE,UACR,+CAAqBC,SAArB,iBAAqB,4HAArB,aAAqB,EAAcC,wBAAnC,QAAuD,MAAvD,QAGJC,QAAS,kBACJ,eAAW,CAAC,6BAEjBC,MAAO,CACLC,OAAQ,CACNC,QADM,SACGC,EAAIC,GAAI,MACXC,EAAQF,EAAGG,KAAKD,OAAS,cAC7B,OAAId,WAAJ,IAAIA,MAAJ,UAAIA,KAAMC,eAAV,OAAI,EAAee,OACjBF,GAAS,MAAQd,KAAKC,QAAQe,KAAKzD,MAErCnB,SAAS0E,MAAQA,GAEnBG,WAAW,IAGfC,QArCwB,WAsCtBlB,KAAKmB,+B,0DCjFT,W,kCCAA,IAAIC,EAAS,WAAa,IAAIC,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAASD,EAAIK,SAAsPL,EAAIM,KAAhPH,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,IAAIC,GAAG,CAAC,MAAQR,EAAIS,UAAU,CAAET,EAAQ,KAAEG,EAAG,SAAS,CAACH,EAAIU,GAAG,mBAAoBV,EAAW,QAAEG,EAAG,SAAS,CAACH,EAAIU,GAAG,yBAA0BV,EAAU,OAAEG,EAAG,SAAS,CAACH,EAAIU,GAAG,wBAAwBV,EAAIM,MAAM,IACrVK,EAAkB,G,gJCkBD,EAArB,6KAIE,SAAazE,GACX,OAAOyC,KAAKU,OAAOnD,OAASA,IALhC,wBAQE,SAAY0E,GAGVjC,KAAKkC,QAAQ5H,KAAK2H,KAXtB,qBAcE,WACE,GAAIjC,KAAKmC,KAAM,CACb,IAAMF,EAAW,QACjBjC,KAAKoC,WAAWH,QACPjC,KAAKqC,QACdrC,KAAKsC,YACItC,KAAKuC,OACdvC,KAAKoC,WAAW,SAEhB9C,QAAQkD,IAAI,4CAvBlB,uBA2BE,WACExC,KAAKyC,mBACLzC,KAAKoC,WAAW,WA7BpB,wBAgCE,WACE,IAAMM,EAAI1C,KAAK2C,YAAY,QAE3B,OADArD,QAAQkD,IAAI,gBAAkBE,GACvBA,IAnCX,wBAsCE,WACE,IAAMA,EAAI1C,KAAK2C,YAAY,YAE3B,OADArD,QAAQkD,IAAI,gBAAkBE,GACvBA,IAzCX,wBA4CE,WAAgB,MACd,QAAQ,UAAC1C,KAAK4C,OAAOC,MAAM5C,eAAnB,QAAC,EAA2Be,QA7CxC,gBAgDE,WACE,IAAM0B,EAAa1C,KAAK8C,eAAiB9C,KAAK+C,aAE9C,OADAzD,QAAQkD,IAAI,SAAWE,GAChBA,IAnDX,mBAsDE,WACEpD,QAAQkD,IAAI,iBAAmBxC,KAAK8C,cACpCxD,QAAQkD,IAAI,iBAAmBxC,KAAK+C,cACpC,IAAML,EAAa1C,KAAK8C,cAAgB9C,KAAK+C,aAE7C,OADAzD,QAAQkD,IAAI,YAAcE,GACnBA,IA3DX,kBA8DE,WACE,IAAMA,GAAK1C,KAAK8C,aAEhB,OADAxD,QAAQkD,IAAI,WAAaE,GAClBA,IAjEX,oBAoEE,WACE,IAAMA,GAAK1C,KAAK8C,cAAgB9C,KAAKgD,aAErC,OADA1D,QAAQkD,IAAI,aAAeE,GACpBA,MAvEX,GAAqC,QAAhB,EAAO,gBAL3B,eAAU,CACT9C,WAAY,CAAEqD,OAAA,KAAMC,QAAA,MACpB1C,QAAS,kBAAK,eAAW,CAAC,sBAC1BV,SAAU,kBAAK,eAAS,CAAC,gBAEN,WCnB6W,I,iCCO9XqD,EAAY,eACd,EACA/B,EACAY,GACA,EACA,KACA,KACA,MAIa,OAAAmB,EAAiB,QAMhC,IAAkBA,EAAW,CAACF,OAAA,KAAKC,QAAA,Q,+ICxB/B,EAAS,WAAa,IAAI7B,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,QAAQ,CAACA,EAAG,YAAY,CAACI,MAAM,CAAC,eAAeP,EAAI+B,SAASC,WAAWC,QAAQ,IAAM,GAAG,MAAQ,UAAU,KAAO,KAAK,CAAC9B,EAAG,SAAS,CAACH,EAAIU,GAAG,wBAAwBP,EAAG,kBAAkB,CAAC+B,YAAY,YAAYC,YAAY,CAAC,MAAQ,UAAU,CAAChC,EAAG,OAAO,CAAC+B,YAAY,4BAA4B,CAAClC,EAAIU,GAAG,iBAAkBV,EAAW,QAAEG,EAAG,OAAO,CAAC+B,YAAY,cAAc,CAAC/B,EAAG,OAAO,CAAC+B,YAAY,sBAAsB,CAAClC,EAAIU,GAAG,SAASV,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAIpB,QAAQe,KAAKzD,SAAS8D,EAAIM,OAAOH,EAAG,YAAYA,EAAG,kBAAkB,CAAEH,EAAIpB,SAAWoB,EAAIpB,QAAQe,MAA4B,UAApBK,EAAIX,OAAOnD,KAAkBiE,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,GAAG,GAAK,SAAS,SAAWP,EAAItB,WAAW,CAACyB,EAAG,SAAS,CAACH,EAAIU,GAAG,sBAAsB,GAAGV,EAAIM,KAA0B,SAApBN,EAAIX,OAAOnD,KAAiBiE,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,GAAG,GAAK,UAAU,CAACJ,EAAG,SAAS,CAACH,EAAIU,GAAG,kBAAkB,GAAGV,EAAIM,KAAKH,EAAG,aAAa,GAAGA,EAAG,OAAO,CAACI,MAAM,CAAC,GAAK,2BAA2B,GAAGJ,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,gBAAgB,IAAI,GAAGA,EAAG,WAAW,CAACI,MAAM,CAAC,IAAM,KAAK,CAACP,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAIhB,gBAAgB,IACpmC2B,EAAkB,G,YCDsV,S,6ICOxWmB,EAAY,eACd,EACA,EACAnB,GACA,EACA,KACA,KACA,MAIa,EAAAmB,EAAiB,QAchC,IAAkBA,EAAW,CAACO,OAAA,KAAKC,UAAA,KAAQV,OAAA,KAAKW,aAAA,KAAWC,UAAA,KAAQX,QAAA,KAAMY,QAAA,KAAMC,UAAA,KAAQC,cAAAC,EAAA,KAAcC,cAAAD,EAAA,O,gBC3BnG,eAAS,GAAD,OAAI,gBAAJ,qBAA6C,CACnDE,MADmD,WAEjD7E,QAAQkD,IACN,uGAIJ4B,WAPmD,WAQjD9E,QAAQkD,IAAI,wCAEd6B,OAVmD,WAWjD/E,QAAQkD,IAAI,6CAEd8B,YAbmD,WAcjDhF,QAAQkD,IAAI,gCAEd+B,QAhBmD,WAiBjDjF,QAAQkD,IAAI,8CAEdgC,QAnBmD,WAoBjDlF,QAAQkD,IAAI,kEAEd7F,MAtBmD,SAsB5C,GACL2C,QAAQ3C,MAAM,4CAA6C,M,8CC5B7D,EAAS,WAAa,IAAI0E,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAACA,EAAG,eAAe,CAACH,EAAIU,GAAG,qBAAqBP,EAAG,cAAc,CAACA,EAAG,SAAS,CAACiD,IAAI,cAAc5C,GAAG,CAAC,OAAS,SAAS6C,GAAgC,OAAxBA,EAAOC,iBAAwBtD,EAAIuD,OAAOjK,MAAM,KAAMkK,cAAc,CAACrD,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,MAAQP,EAAIyD,aAAaC,MAAM,CAACtG,MAAO4C,EAAQ,KAAE2D,SAAS,SAAUC,GAAM5D,EAAI9D,KAAK0H,GAAKC,WAAW,UAAU1D,EAAG,iBAAiB,CAACI,MAAM,CAAC,MAAQP,EAAI8D,cAAc,YAAY,QAAQ,aAAa,KAAK,eAAe9D,EAAI+D,OAAO,MAAQ/D,EAAIgE,YAAY,2BAA2B,eAAe,MAAQ,GAAG,MAAQ,OAAO,SAAW,GAAG,gBAAgB,GAAG,KAAO,uCAAuC,SAAW,IAAIxD,GAAG,CAAC,qBAAqB,SAAS6C,GAAQrD,EAAI+D,OAAOV,GAAQ,sBAAsB,SAASA,GAAQrD,EAAI+D,OAAOV,GAAQ,MAAQ,SAASA,GAAQrD,EAAI+D,OAAS,KAAKE,YAAYjE,EAAIkE,GAAG,CAAC,CAACxG,IAAI,YAAYyG,GAAG,SAAShM,GAAM,MAAO,CAACgI,EAAG,SAASH,EAAIoE,GAAG,CAAC7D,MAAM,CAAC,cAAcpI,EAAKkM,SAAS,MAAQ,GAAG,MAAQ,IAAI7D,GAAG,CAAC,cAAc,SAAS6C,GAAQ,OAAOrD,EAAIsE,OAAOnM,EAAKoM,KAAKC,OAAO,SAASrM,EAAKoI,OAAM,GAAO,CAACP,EAAIU,GAAG,IAAIV,EAAIoC,GAAGjK,EAAKoM,KAAKE,OAAO,KAAKzE,EAAIoC,GAAGpC,EAAI0E,YAAYvM,EAAKoM,KAAKC,KAAK,WAAW,CAAC9G,IAAI,OAAOyG,GAAG,SAAShM,GAAM,MAAO,CAACgI,EAAG,IAAI,CAACH,EAAIU,GAAGV,EAAIoC,GAAGjK,EAAKoM,KAAKE,OAAO,OAAOtE,EAAG,QAAQ,CAACH,EAAIU,GAAG,cAAcV,EAAIoC,GAAGpC,EAAI0E,YAAYvM,EAAKoM,KAAKC,GAAI,aAAa,YAAYxE,EAAIoC,GAAGpC,EAAI0E,YAAYvM,EAAKoM,KAAKC,GAAI,YAAY,aAAaxE,EAAIoC,GAAGpC,EAAI0E,YAAYvM,EAAKoM,KAAKC,GAAI,aAAa,cAAcxE,EAAIoC,GAAGpC,EAAI0E,YAAYvM,EAAKoM,KAAKC,GAAI,aAAa,aAAad,MAAM,CAACtG,MAAO4C,EAAQ,KAAE2D,SAAS,SAAUC,GAAM5D,EAAI2E,KAAKf,GAAKC,WAAW,WAAW,IAAI,GAAG1D,EAAG,iBAAiB,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,SAAS,KAAO,eAAeC,GAAG,CAAC,MAAQ,SAAS6C,GAAQ,OAAOrD,EAAIuD,YAAY,CAACvD,EAAIU,GAAG,SAAS,IAAI,GAAGP,EAAG,SAAS,CAAC+B,YAAY,QAAQ,CAAC/B,EAAG,eAAe,CAACH,EAAIU,GAAG,wBAAwBP,EAAG,cAAc,CAACH,EAAI4E,GAAI5E,EAAS,OAAE,SAASuE,GAAM,OAAOpE,EAAG,KAAK,CAACzC,IAAI6G,EAAKC,IAAI,CAACrE,EAAG,KAAK,CAACA,EAAG,IAAI,CAACK,GAAG,CAAC,MAAQ,SAAS6C,GAAQ,OAAOrD,EAAI6E,SAASN,EAAKC,OAAO,CAACxE,EAAIU,GAAGV,EAAIoC,GAAGmC,EAAKrI,MAAM,KAAKiE,EAAG,QAAQ,CAACH,EAAIU,GAAG,IAAIV,EAAIoC,GAAGmC,EAAKI,KAAKG,KAAK,OAAO,SAAS3E,EAAG,IAAI,CAAC+B,YAAY,OAAO1B,GAAG,CAAC,MAAQ,SAAS6C,GAAQ,OAAOrD,EAAI+E,WAAWR,EAAKC,OAAO,CAACrE,EAAG,SAAS,CAACI,MAAM,CAAC,MAAQ,GAAG,MAAQ,cAAc,CAACP,EAAIU,GAAG,uBAAuB,UAAWV,EAAIgF,MAAMrM,OAAsDqH,EAAIM,KAAlDH,EAAG,IAAI,CAACH,EAAIU,GAAG,gCAAyC,IAAI,GAAIV,EAAkB,eAAEG,EAAG,SAAS,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,MAAQ,YAAY,CAACJ,EAAG,eAAe,CAACH,EAAIU,GAAG,mBAAmBP,EAAG,cAAc,CAACA,EAAG,QAAQ,CAACI,MAAM,CAAC,UAAU,IAAIC,GAAG,CAAC,MAAQ,SAAS6C,GAAQ,OAAOrD,EAAIiF,oBAAoB,CAACjF,EAAIU,GAAG,mCAAmC,IAAI,GAAGV,EAAIM,MAAM,IAC/sF,EAAkB,G,4IC0EtB,GACEpE,KAAM,WACN/D,KAFF,WAGI,MAAO,CACL+D,KAAM,WACN6H,OAAQ,GACRY,KAAM,KAGVlG,SAAU,OAAZ,OAAY,CAAZ,kBACA,wCADA,IAEIqF,cAFJ,WAGM,OAAOnF,KAAKuG,WAAWC,WAAW,WAAWC,KAAI,SAAvD,8GAEIC,eALJ,WAMM,OAAO,KAGXlG,QAAS,OAAX,OAAW,CAAX,kBACA,iDADA,IAEImF,OAFJ,SAEA,GACM,IAAN,uBACUgB,GAAS,GAAG3G,KAAKgG,KAAK9K,OAAOyL,EAAO,IAE1CZ,YANJ,SAMA,KACM,OAAI5I,EACK3D,EAAKoN,OAAOC,QAAO,SAAlC,iIAEerN,EAAKoN,OAAOC,QAAO,SAAlC,+EAGIC,cAbJ,SAaA,cACM,OAAO9G,KAAKgG,KAAKS,KAAI,SAA3B,uEAEI3B,UAhBJ,WAiBM,IAAN,KAIM,OAHgC,IAA5B9E,KAAKzC,KAAKwJ,OAAO/M,QACnBgN,EAAI1M,KAAK,kBAEJ0M,GAET3B,UAvBJ,WAwBM,IAAN,KAC+B,IAArBrF,KAAKgG,KAAKhM,QACZgN,EAAI1M,KAAK,2BAEX,IAAN,IACA,iCACU2M,EAAaC,GACfF,EAAI1M,KAAK,oDAAjB,+BAEM,IAAN,iCACU6M,EAAYD,GACdF,EAAI1M,KAAK,mDAAjB,+BAEM,IAAN,gCACU8M,EAAWF,GACbF,EAAI1M,KAAK,mDAAjB,+BAEM,IAAN,iCAIM,OAHI+M,EAAYH,GACdF,EAAI1M,KAAK,oDAAjB,+BAEa0M,GAET,OA/CJ,WA+CA,2JACA,+BADA,0CAEA,GAFA,uBAIA,6DAJA,uBAKA,uBALA,8CAOI,SAtDJ,SAsDA,2KACA,qCADA,uBAEA,uBAFA,+CAIA,oCAEE,QA9EF,WA8EA,wKACA,mBADA,+CCzJkV,I,wECO9U,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,IAAiB,QAchC,IAAkB,EAAW,CAACM,gBAAA,KAAcrE,OAAA,KAAKsE,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWC,QAAA,KAAMC,QAAA,KAAM1E,QAAA,KAAM2E,aAAA,OChC3G,IAAI,EAAS,WAAa,IAAIxG,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAQD,EAAIpB,QAAY,KAAEuB,EAAG,MAAM,CAACA,EAAG,MAAM,CAAC+B,YAAY,4BAA4B,CAAC/B,EAAG,OAAO,CAAC+B,YAAY,oBAAoB,CAAClC,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAIpB,QAAQe,KAAKzD,SAAS8D,EAAIU,GAAG,KAAKP,EAAG,QAAQ,CAAC+B,YAAY,qCAAqC,CAAClC,EAAIU,GAAG,IAAIV,EAAIoC,GAAGpC,EAAIpB,QAAQe,KAAKgF,KAAKG,KAAK,QAAQ,SAAS3E,EAAG,MAAM,CAAC+B,YAAY,6BAA8BlC,EAAIyG,aAAe,EAAGtG,EAAG,UAAU,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,KAAO,OAAO,KAAO,GAAG,SAAW,GAAG,MAAQ,GAAG,OAAS,OAAO,MAAQ,YAAY,CAACJ,EAAG,KAAK,CAAuB,IAArBH,EAAIyG,aAAoBtG,EAAG,KAAK,CAACA,EAAG,kBAAkBH,EAAIU,GAAG,wCAAwC,GAAGV,EAAIM,KAAMN,EAAIyG,aAAe,EAAGtG,EAAG,KAAK,CAACH,EAAIU,GAAG,kEAAkEV,EAAIM,KAA2B,IAArBN,EAAIyG,aAAoBtG,EAAG,KAAK,CAACA,EAAG,aAAaH,EAAIU,GAAG,yCAAyC,GAAGV,EAAIM,KAAMN,EAAIyG,aAAe,EAAGtG,EAAG,KAAK,CAACH,EAAIU,GAAG,qCAAqCV,EAAIM,KAA2B,IAArBN,EAAIyG,aAAoBtG,EAAG,KAAK,CAACA,EAAG,cAAcH,EAAIU,GAAG,4EAA4E,GAAGV,EAAIM,KAAMN,EAAIyG,aAAe,EAAGtG,EAAG,KAAK,CAACH,EAAIU,GAAG,mEAAmEV,EAAIM,KAA2B,IAArBN,EAAIyG,aAAoBtG,EAAG,KAAK,CAACA,EAAG,aAAaA,EAAG,gBAAgBA,EAAG,eAAeH,EAAIU,GAAG,oCAAoC,GAAGV,EAAIM,KAAMN,EAAIyG,aAAe,EAAGtG,EAAG,KAAK,CAACH,EAAIU,GAAG,6EAA6EV,EAAIM,SAASN,EAAIM,KAAKH,EAAG,qBAAqB,CAACI,MAAM,CAAC,UAAY,GAAG,OAAS,IAAImD,MAAM,CAACtG,MAAO4C,EAAsB,mBAAE2D,SAAS,SAAUC,GAAM5D,EAAI0G,mBAAmB9C,GAAKC,WAAW,uBAAuB7D,EAAI4E,GAAI5E,EAAIpB,QAAc,QAAE,SAAS2F,GAAM,OAAOpE,EAAG,oBAAoB,CAACzC,IAAI6G,EAAKC,IAAI,CAACrE,EAAG,2BAA2B,CAACA,EAAG,MAAM,CAACA,EAAG,IAAI,CAACH,EAAIU,GAAGV,EAAIoC,GAAGmC,EAAKrI,MAAQ,qBAAsBqI,EAAY,QAAEpE,EAAG,OAAO,CAACH,EAAIU,GAAG,MAAMV,EAAIoC,GAAGmC,EAAKoC,YAAY3G,EAAIM,KAAKH,EAAG,aAAa,CAACI,MAAM,CAAC,GAAKgE,EAAKC,OAAO,KAAKrE,EAAG,4BAA4B,CAAEoE,EAAY,QAAEpE,EAAG,SAAS,CAACA,EAAG,cAAc,CAACA,EAAG,MAAM,CAACH,EAAIU,GAAG,IAAIV,EAAIoC,GAAGmC,EAAKqC,YAAYzG,EAAG,MAAMH,EAAI4E,GAAIL,EAAY,SAAE,SAASsC,GAAQ,OAAO1G,EAAG,SAAS,CAACzC,IAAImJ,EAAOtG,MAAM,CAAC,MAAQ,KAAK,CAACP,EAAIU,GAAGV,EAAIoC,GAAGyE,SAAa,MAAM,GAAG7G,EAAIM,KAAKH,EAAG,aAAa,CAACI,MAAM,CAAC,MAAQ,KAAKP,EAAI4E,GAAI5E,EAAe,aAAE,SAAS8G,EAASrO,GAAG,OAAO0H,EAAG,kBAAkB,CAACzC,IAAIjF,EAAE8H,MAAM,CAAC,MAAQ,GAAG,WAAW,GAAG,KAAOuG,EAASC,MAAQ,eAAe9C,YAAYjE,EAAIkE,GAAG,CAAC,CAACxG,IAAI,OAAOyG,GAAG,WAAW,MAAO,CAAE2C,EAAe,OAAE3G,EAAG,WAAW,CAACA,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMuG,EAASE,OAAO,IAAM,WAAWhH,EAAIM,OAAO2G,OAAM,IAAO,MAAK,IAAO,CAAEH,EAAuB,eAAE3G,EAAG,SAAS,CAAC+B,YAAY,eAAe,CAAC/B,EAAG,cAAc,CAACH,EAAIU,GAAGV,EAAIoC,GAAG0E,EAASI,gBAAgB,KAAK/G,EAAG,WAAW,CAACI,MAAM,CAAC,GAAKuG,EAAStC,OAAO,IAAI,GAAGrE,EAAG,OAAO,CAAC+B,YAAY,wDAAwD,CAAClC,EAAIU,GAAGV,EAAIoC,GAAG0E,EAASK,YAAY,KAAKnH,EAAI4E,GAAIkC,EAAqB,cAAE,SAASM,EAAY3O,GAAG,OAAO0H,EAAG,MAAM,CAACzC,IAAIjF,EAAE8H,MAAM,CAAC,MAAQ6G,QAAiBjH,EAAG,WAAW,CAACI,MAAM,CAAC,GAAKuG,EAAStC,OAAO,IAAI,MAAK,IAAI,IAAI,MAAK,GAAIxE,EAAI0G,qBAAqB1G,EAAIqH,oBAAgD,IAA3BrH,EAAIqH,kBAA0BlH,EAAG,YAAY,CAACI,MAAM,CAAC,MAAQ,KAAK,CAACJ,EAAG,SAAS,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,MAAQ,KAAK,CAACP,EAAIU,GAAG,wBAAwBP,EAAG,YAAY,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,SAAW,MAAMJ,EAAG,cAAcA,EAAG,YAAY,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,SAAW,MAAMJ,EAAG,aAAaA,EAAG,eAAe,CAACI,MAAM,CAAC,UAAYP,EAAIpB,QAAQ0I,OAAO3O,UAAUwH,EAAG,cAAc,CAACI,MAAM,CAAC,UAAYP,EAAIpB,QAAQ0I,OAAO3O,UAAUwH,EAAG,YAAY,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,SAAW,MAAMJ,EAAG,kBAAkBA,EAAG,aAAaA,EAAG,cAAcA,EAAG,YAAY,CAACI,MAAM,CAAC,IAAM,IAAI0D,YAAYjE,EAAIkE,GAAG,CAAC,CAACxG,IAAI,YAAYyG,GAAG,SAASf,GACnwHA,EAAI5C,GACb,MAAO,CAACL,EAAG,QAAQ,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,MAAQ,UAAU,IAAM,GAAG,MAAQ,GAAG,SAAW,KAAK,CAACJ,EAAG,SAAS,CAACI,MAAM,CAAC,MAAQ,KAAK,CAACP,EAAIU,GAAG,mBAAmB,OAAO,MAAK,EAAM,aAAa,CAACP,EAAG,OAAO,CAACH,EAAIU,GAAG,eAAe,GAAGV,EAAIM,MAAM,GAAGN,EAAIM,MAClP,EAAkB,GCHlB,G,UAAS,WAAa,IAAIN,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,eAAe,GAAKP,EAAIwE,GAAG,SAAWxE,EAAIuH,YAAY/G,GAAG,CAAC,MAAQR,EAAIwH,QAAQ,KAAOxH,EAAIyH,SAAS,CAAC,CAAEzH,EAAwB,qBAAEG,EAAG,aAAa,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,YAAY,GAAG,SAAW,GAAG,UAAY,GAAG,MAAQ,gCAAgC,KAAO,kEAAkEmD,MAAM,CAACtG,MAAO4C,EAAe,YAAE2D,SAAS,SAAUC,GAAM5D,EAAI0H,YAAY9D,GAAKC,WAAW,iBAAiB7D,EAAIM,KAAMN,EAAwB,qBAAEG,EAAG,aAAaH,EAAIM,KAAKH,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,YAAc,mBAAmBmD,MAAM,CAACtG,MAAO4C,EAAQ,KAAE2D,SAAS,SAAUC,GAAM5D,EAAI9D,KAAK0H,GAAKC,WAAW,UAAU1D,EAAG,aAAa,CAACI,MAAM,CAAC,YAAY,GAAG,SAAW,GAAG,UAAY,GAAG,MAAQ,WAAW,cAAc,cAAc,KAAO,iGAAiGC,GAAG,CAAC,eAAeR,EAAI2H,kBAAkBjE,MAAM,CAACtG,MAAO4C,EAAW,QAAE2D,SAAS,SAAUC,GAAM5D,EAAI4G,QAAQhD,GAAKC,WAAW,aAAa7D,EAAIU,GAAG,cAAcP,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,SAAS,aAAa,YAAYmD,MAAM,CAACtG,MAAO4C,EAAW,QAAE2D,SAAS,SAAUC,GAAM5D,EAAI4H,QAAQhE,GAAKC,WAAW,aAAc7D,EAA2B,wBAAEG,EAAG,aAAa,CAACI,MAAM,CAAC,YAAY,GAAG,SAAW,GAAG,UAAY,GAAG,MAAQ,SAAS,KAAO,gEAAgEmD,MAAM,CAACtG,MAAO4C,EAAW,QAAE2D,SAAS,SAAUC,GAAM5D,EAAI2G,QAAQ/C,GAAKC,WAAW,aAAa7D,EAAIM,OAAO,KAC7kD,EAAkB,G,0CCDhB,SAAUuH,EAAcC,GACvBA,EAASnP,QACZsF,QAAQkD,IAAI,eAAgB2G,GAE9B,IAAMxC,EAAQyC,KAAKC,MAAMF,EAASnP,OAASoP,KAAKE,UAC5CtC,EAAMmC,EAASxC,GAMnB,MALmB,kBAARK,IAA0C,IAAtBA,EAAIuC,QAAQ,OAGzCvC,EAAMkC,EAAUlC,EAAIwC,MAAM,cAErBxC,EAGH,SAAUyC,EAAwBrO,GACtC,OAAOA,EACJsO,QAAQ,yBAA0B,SAClCA,QAAQ,iBAAkB,SAC1BA,QAAQ,gBAAiB,SACzBA,QAAQ,kBAAmB,MAC3BA,QAAQ,oBAAqB,MAC7BA,QAAQ,oBAAqB,MAC7BA,QAAQ,mBAAoB,MAC5BA,QAAQ,mBAAoB,OAC5BA,QAAQ,qCAAsC,SAC9CA,QAAQ,iBAAkB,OAC1BA,QAAQ,gBAAiB,MACzBA,QAAQ,mBAAoB,OAC5BA,QAAQ,mBAAoB,aAC5BA,QAAQ,kBAAmB,cAC3BA,QAAQ,gBAAiB,KACzBA,QAAQ,QAAS,KACjBA,QAAQ,SAAU,KChCvB,IAAI,EAAS,WAAa,IAAIrI,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,WAAW,CAACI,MAAM,CAAC,WAAa,GAAG,YAAY,OAAO0D,YAAYjE,EAAIkE,GAAG,CAAC,CAACxG,IAAI,YAAYyG,GAAG,SAASf,GAC1M,IAAIkF,EAASlF,EAAI5C,GACjB,MAAO,CAACL,EAAG,YAAY,CAACI,MAAM,CAAC,IAAM,IAAI0D,YAAYjE,EAAIkE,GAAG,CAAC,CAACxG,IAAI,YAAYyG,GAAG,SAASf,GAC1F,IAAImF,EAAUnF,EAAI5C,GAClB,MAAO,CAAER,EAAkB,eAAEG,EAAG,QAAQH,EAAIwI,GAAG,CAACtG,YAAY,OAAO3B,MAAM,CAAC,SAAWP,EAAItB,SAAS,UAAU,GAAG,KAAO,KAAK9F,OAAO6P,OAAO,GAAIF,EAASD,IAAS,CAACnI,EAAG,SAAS,CAACI,MAAM,CAAC,MAAQ,GAAG,MAAQ,cAAc,CAACP,EAAIU,GAAG,wBAAwB,GAAGP,EAAG,QAAQH,EAAIwI,GAAG,CAACtG,YAAY,OAAO3B,MAAM,CAAC,SAAWP,EAAItB,SAAS,MAAQ,UAAU,IAAM,GAAG,MAAQ,KAAK9F,OAAO6P,OAAO,GAAIF,EAASD,IAAS,CAACnI,EAAG,SAAS,CAACI,MAAM,CAAC,MAAQ,KAAK,CAACP,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAI+G,UAAU,OAAO,MAAK,IAAO,CAAC5G,EAAG,OAAO,CAACH,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAIP,iBAAiBiE,MAAM,CAACtG,MAAO4C,EAAU,OAAE2D,SAAS,SAAUC,GAAM5D,EAAIsI,OAAO1E,GAAKC,WAAW,WAAW,CAAC1D,EAAG,SAAS,CAACA,EAAG,eAAe,CAACI,MAAM,CAAC,gBAAgB,KAAK,CAACJ,EAAG,SAAS,CAAC+B,YAAY,QAAQ,CAAClC,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAI+G,SAAS/G,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAIP,SAAS,GAAGU,EAAG,aAAaA,EAAG,cAAc,CAACH,EAAI0I,GAAG,YAAY,GAAGvI,EAAG,aAAaA,EAAG,iBAAiB,CAACA,EAAG,YAAYA,EAAG,QAAQ,CAACI,MAAM,CAAC,MAAQ,UAAU,KAAO,IAAIC,GAAG,CAAC,SAAW,SAAS6C,GAAQ,OAAIA,EAAOvH,KAAKoM,QAAQ,QAAQlI,EAAI2I,GAAGtF,EAAOuF,QAAQ,QAAQ,GAAGvF,EAAO3F,IAAI,SAAkB,KAAcsC,EAAI6I,cAAc,MAAQ,SAASxF,GAAQ,OAAOrD,EAAI6I,gBAAgB,CAAC7I,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAI8I,oBAAoB3I,EAAG,QAAQ,CAACI,MAAM,CAAC,KAAO,IAAIC,GAAG,CAAC,SAAW,SAAS6C,GAAQ,OAAIA,EAAOvH,KAAKoM,QAAQ,QAAQlI,EAAI2I,GAAGtF,EAAOuF,QAAQ,MAAM,GAAGvF,EAAO3F,IAAI,CAAC,MAAM,WAAoB,KAAcsC,EAAI+I,eAAe,MAAQ,SAAS1F,GAAQ,OAAOrD,EAAI+I,iBAAiB,CAAC/I,EAAIU,GAAG,cAAc,IAAI,IAAI,IACp6C,EAAkB,GCkCtB,GACExE,KAAM,aACN8M,MAAO,CACLjC,KAAM,CACJjL,KAAMmN,OACNC,QAAS,IAEXxK,SAAU,CACR5C,KAAMqN,QACND,SAAS,GAEXzJ,MAAO,CACL3D,KAAMmN,OACNC,QAAS,IAEX1E,GAAIyE,QAEN9Q,KAjBF,WAkBI,MAAO,CACLmQ,QAAQ,IAGZ7J,SAAU,CACR2K,eADJ,WAEM,QAASzK,KAAK0K,OAAO7E,IAEvB8E,MAJJ,WAKM,OAAQ3K,KAAKyK,gBAEfN,gBAPJ,WAQM,OAAOnK,KAAKyK,eAAiB,cAAgB,UAGjDjK,QAAS,OAAX,OAAW,CAAX,kBACA,iCADA,IAEI4J,YAFJ,WAGMpK,KAAK2J,QAAS,EACd3J,KAAK4K,eAEPV,WANJ,WAOMlK,KAAK6K,MAAM,OAAQ7K,KAAK2K,OACxB3K,KAAK2J,QAAS,GAEhBiB,YAVJ,WAWM5K,KAAK6K,MAAM,QAAS7K,KAAKyK,mBAG7BhK,MAAO,CACLkJ,OADJ,SACA,GACUlL,GACFuB,KAAK4K,gBAIX1J,QAtDF,WAuDIlB,KAAK4K,gBC9F2U,I,oCCOhV,GAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,MAAiB,QAchC,IAAkB,GAAW,CAAC3H,OAAA,KAAKsE,QAAA,KAAMC,aAAA,OAAaC,UAAA,OAAUC,WAAA,OAAWoD,UAAA,KAAQC,WAAA,KAAS7H,QAAA,KAAMa,UAAA,KAAQiH,WAAA,OChC1G,IAAI,GAAS,WAAa,IAAI3J,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACH,EAAI4E,GAAI5E,EAAS,OAAE,SAAS4J,EAAEnR,GAAG,OAAO0H,EAAG,eAAe,CAACzC,IAAIjF,EAAE8H,MAAM,CAAC,MAAQ,GAAG,UAAY,GAAG,KAAOP,EAAI6J,KAAK,cAAc,eAAerJ,GAAG,CAAC,eAAe,SAAS6C,GAAQ,OAAOrD,EAAI8J,YAAYrR,KAAKiL,MAAM,CAACtG,MAAO4C,EAAI5C,MAAM3E,GAAIkL,SAAS,SAAUC,GAAM5D,EAAI+J,KAAK/J,EAAI5C,MAAO3E,EAAGmL,IAAMC,WAAW,kBAAkB7D,EAAI5C,MAAMzE,QAAUqH,EAAI5C,MAAM4C,EAAI5C,MAAMzE,OAAO,GAAIwH,EAAG,QAAQ,CAAC+B,YAAY,OAAO3B,MAAM,CAAC,UAAU,GAAG,KAAO,GAAG,MAAQ,aAAaC,GAAG,CAAC,MAAQR,EAAIgK,WAAW,CAAC7J,EAAG,SAAS,CAACI,MAAM,CAAC,MAAQ,KAAK,CAACP,EAAIU,GAAG,yBAAyB,GAAGV,EAAIM,MAAM,IACppB,GAAkB,G,kICmBD,GAArB,uOAYE,0GAEM3B,KAAKsL,UAFX,uBAGUC,EAAS,CAAEC,MAAOxL,KAAKsL,WAC7BhM,QAAQkD,IAAI,gBAAiB+I,GAJjC,SAKgBvL,KAAKyL,UAAUF,GAL/B,OAKIvE,EALJ,6BAOIA,EAAM,GAPV,OASEhH,KAAKvB,MAAMvD,OAAO8E,KAAKvB,MAAMzE,OAAQ,EAAGgN,GAT1C,iDAZF,2IAwBE,WAAmBL,GAAnB,6FAEM3G,KAAKsL,UAFX,uBAGUC,EAAS,CAAEC,MAAOxL,KAAKsL,WAC7BhM,QAAQkD,IAAI,gBAAiB+I,GAJjC,SAKgBvL,KAAKyL,UAAUF,GAL/B,OAKIvE,EALJ,6BAOIA,EAAM,GAPV,OASEhH,KAAKvB,MAAMvD,OAAOyL,EAAO,EAAGK,GAT9B,iDAxBF,+DAAwC,QAItC,iBADC,gBAAK,CAAE7J,KAAMmN,OAAQoB,UAAU,K,4BAIhC,iBADC,gBAAK,CAAEvO,KAAMmN,OAAQoB,UAAU,K,iCAIhC,iBADC,gBAAK,CAAEvO,KAAMwO,MAA6BpB,QAAS,iBAAM,O,6BATvC,GAAU,iBAJ9B,gBAAU,CACT3K,WAAY,CAAEqD,OAAA,KAAMC,QAAA,KAAO2E,aAAA,KAAY+D,SAAA,KAAOC,aAAA,KAAWC,eAAA,SACzDtL,QAAS,kBAAK,eAAW,CAAC,kBAEP,cCpBgX,MCOjY,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAACyC,OAAA,KAAKC,QAAA,KAAM2E,aAAA,O,wUCvB5BkE,I,wCAAQ,CAAC,QAAS,UAAW,UACxC,SAAU,SAAU,UACpB,QAAS,SAAU,SACnB,QAAS,QAAS,UAClB,SAAU,QAAS,QACnB,QAAS,QAAS,WAClB,UAAW,WAAY,SACvB,SAAU,QAAS,UACnB,SAAU,QAAS,QACnB,SAAU,QAAS,SACnB,OAAQ,QAAS,OACjB,QAAS,QAAS,UAClB,QAAS,OAAQ,QACjB,QACA,SAAU,SAAU,QACpB,SAAU,WAAY,WACtB,SAAU,QAAS,OACnB,QAAS,SAAU,OACnB,QAAS,QAAS,WAClB,QAAS,UAAW,SACpB,SAAU,SAAU,OACpB,WAAY,UAAW,WACvB,UAAW,UAAW,SACtB,UAAW,QAAS,WACpB,UAAW,WAAY,MACvB,QAAS,WAAY,SACrB,YAAa,SAAU,SACvB,UAAW,UAAW,SACtB,SAAU,SAAU,UACpB,SAAU,WAAY,SACtB,UAAW,SAAU,SACrB,SAAU,SAAU,WACpB,SAAU,UAAW,SACrB,QAAS,SAAU,UACnB,UAAW,UAAW,MACtB,UAAW,UAAW,UACtB,SAAU,SAAU,UACpB,QACA,SAAU,UAAW,MACrB,UAAW,UAAW,UACtB,UAAW,UAAW,WACtB,UAAW,QAAS,WACpB,SAAU,UAAW,UACrB,OAAQ,WAAY,WACpB,QAAS,SAAU,QACnB,UAAW,SAAU,SACrB,SAAU,YAAa,UACvB,OAAQ,UAAW,SACnB,UAAW,UAAW,OACtB,QAAS,UAAW,SACpB,OAAQ,OAAQ,SAChB,QAAS,UAAW,SACpB,QAAS,QACT,OAAQ,YAAa,UACrB,UAAW,MAAO,OAClB,QAAS,SAAU,SACnB,QAAS,SAAU,QACnB,OAAQ,UAAW,OACnB,SAAU,WAAY,UACtB,OAAQ,SAAU,QAClB,QAAS,SAAU,QACnB,SACA,UAAW,UAAW,WACtB,UAAW,SAAU,SACrB,UAAW,WAAY,SACvB,WAAY,SAAU,SACtB,UAAW,UAAW,SACtB,QAAS,MACT,WAAY,MAAO,SACnB,UAAW,WAAY,UACvB,UAAW,WAAY,UACvB,SAAU,OAAQ,MAClB,WAAY,SAAU,OACtB,MAAO,UAAW,SAClB,WAAY,WAAY,SACxB,OAAQ,SAAU,SAClB,UAAW,QAAS,UACpB,OACA,SAAU,SAAU,UACpB,WAAY,UAAW,QACvB,UAAW,SAAU,UACrB,SAAU,QACV,SAAU,OAAQ,UAClB,WAAY,SAAU,QACtB,UAAW,UAAW,WACtB,OAAQ,OAAQ,SAChB,QAAS,QAAS,UAClB,QAAS,SAAU,SACnB,MAAO,MAAO,QACd,MAAO,SAAU,UACjB,MAAO,SACP,QAAS,QAAS,SAClB,UAAW,MAAO,UAClB,QAAS,SAAU,UACnB,YAAa,SAAU,SACvB,MAAO,SAAU,QACjB,UAAW,QACX,WAAY,SAAU,UACtB,SAAU,OAAQ,SAClB,aAAc,QAAS,YACvB,QAAS,SAAU,MACnB,WAAY,QAAS,MACrB,WAAY,aAAc,QAC1B,OACA,aAAc,SAAU,UACxB,WAAY,UAAW,WACvB,SAAU,UAAW,QACrB,UAAW,SAAU,SACrB,UAAW,UAAW,QACtB,UAAY,WAAY,UACxB,OAAQ,UAAW,OACnB,SAAU,SAAU,OACpB,WAAY,eAAiB,QAC7B,SAAU,QAAS,QACnB,QAAS,UAAW,OACpB,SAAU,SACV,WAAY,UAAW,SACvB,SAAU,WAAY,WACtB,OAAQ,SAAU,SAClB,SAAU,SAAU,SACpB,SACA,QAAS,SAAU,UACnB,QAAS,SAAU,QACnB,WAAY,OAAQ,WACpB,QAAS,OAAQ,QACjB,UAAW,UACX,QAAS,QAAS,QAClB,SAAU,YAAa,SACvB,SAAU,SAAU,QACpB,WAAY,WAAY,WACxB,UAAW,QAAS,SACpB,UAAW,UAAW,UACtB,SAAU,QAAS,YACnB,YAAa,SAAU,QACvB,SAAU,QAAS,QACnB,OAAQ,QAAS,QACjB,QACA,YAAc,SAAU,UACxB,QAAS,SAAU,WACnB,OAAQ,SAAU,UAClB,UAAW,WAAY,UACvB,QAAS,SAAU,OACnB,QAAS,SAAU,SACnB,SAAU,SAAU,aACpB,QAAS,QAAS,QAClB,SAAU,SAAU,SACpB,UACA,QAAS,WAAY,UACrB,QAAS,QAAS,QAClB,QAAS,SAAU,QACnB,MAAO,QAAS,SAChB,YAAa,QAAS,SACtB,SAAU,WAAY,OACtB,QAAS,QAAS,aAClB,QAAS,QAAS,SAClB,UAAW,QAAS,QACpB,aAAe,SAAU,SACzB,WAAY,UAAW,QACvB,WAAY,SAAU,SACtB,OAAQ,SAAU,MAClB,OAAQ,UACR,YAAa,UAAW,WACxB,SAAU,UAAW,UACrB,WAAY,SAAU,SACtB,SAAU,WAAY,SACtB,SAAU,SAAU,YACpB,QAAS,SAAU,OACnB,UAAW,SAAU,YACrB,MAAO,WAAY,SACnB,QACA,SAAU,QAAS,OACnB,QAAS,QAAS,QAClB,SAAU,SAAU,UACpB,WAAY,WAAY,WACxB,SAAU,WAAY,SACtB,QAAS,SAAU,QACnB,SAAU,SAAU,UACpB,QAAS,UAAW,QACpB,SAAU,WACV,SAAU,SAAU,SACpB,UAAW,WAAY,QACvB,UAAW,UAAW,SACtB,WAAY,UAAW,UACvB,QAAS,QAAS,SAClB,MAAO,SAAU,OACjB,SAAU,QAAS,SACnB,OAAQ,QAAS,UACjB,QAAS,SAAU,OACnB,UAAW,MAAO,OAClB,QAAS,QAAS,QAElB,QAAS,WAAY,MACrB,WAAY,SAAU,SACtB,QAAS,SAAU,OACnB,YAAa,QAAS,UACtB,UAAW,MAAO,UAClB,MAAO,UAAW,UAClB,YAAa,QAAS,QACtB,QAAS,QAAS,OAClB,SAAU,WAAY,QACtB,QAAS,UAAW,WACpB,YACA,SAAU,SAAU,YACpB,QAAS,aAAc,QACvB,WAAY,YAAa,QACzB,UACA,YAAa,SAAU,SACvB,WAAY,YAAa,QACzB,UAAW,QAAS,SACpB,WACA,QAAS,YAAa,QACtB,OAAQ,UAAW,WACnB,QAAS,WACT,SAAU,UAAW,WACrB,OACA,QAAS,QAAS,QAClB,QAAS,OACT,UAAW,UAAW,YACtB,UAAW,UAAW,QACtB,SAAU,WACV,QAAS,UAAW,SACpB,SAAU,YAAa,SACvB,WAAY,UAAW,OACvB,UACA,UAAW,YAAa,SACxB,UAAW,SACX,WAAY,QAAS,SACrB,UAAW,SAAU,SACrB,SAAU,SAAU,SACpB,SAAU,SACV,YAAa,YAAa,OAC1B,UAAW,YAAa,YACxB,UAAW,UAAW,QACtB,QAAS,SAAU,SACnB,UAAW,UAAW,QACtB,SAAU,QAAS,SACnB,WAAY,YAAa,SACzB,WAAY,SAAU,UACtB,OAAQ,SAAU,WAClB,UAAW,QACX,SAAU,UAAW,SACrB,SAAU,UAAW,SACrB,SAAU,QAAS,SACnB,SAAU,SAAU,WACpB,SAAU,UACV,UAAW,SAAU,OACrB,QAAS,QAAS,SAClB,UAAW,UAAW,UACtB,WAAY,UACZ,SAAU,YAAa,UACvB,WAAY,QACZ,UAAW,QAAS,MACpB,SAAU,YAAa,SACvB,OAAQ,QAAS,SACjB,UAAW,UAAW,UACtB,QAAS,SAAU,QACnB,QAAS,OAAQ,UACjB,UAEI,SAAUC,KACd,OAAO9C,EAAU6C,ICvOZ,IAAM,GAAb,WA2HE,aAA+B,IAAXE,IAAW,iFA1HvB,KAAAC,QAA+B,GAC/B,KAAAC,YAAoC,IAAIC,IACxC,KAAAC,cAA2C,GAC3C,KAAAC,MAAqB,IAAIC,IACzB,KAAAC,QAAuB,IAAID,IAuH7BN,GACFjM,KAAKyM,IAAL,MAAAzM,KAAA,eACKxG,EAAKoN,OAAOH,KAAI,SAAA/H,GAAC,sBAAK,CACvBgO,IAAG,UAAEhO,EAAEgO,WAAJ,QAAWhO,EAAED,MAChBA,MAAK,UAAEC,EAAED,aAAJ,QAAaC,EAAEgO,IACpBC,IAAG,UAAEjO,EAAEiO,WAAJ,QAAW,GACdC,SAAQ,UAAElO,EAAEkO,gBAAJ,QAAgB,GACxBC,SAAQ,UAAEnO,EAAEmO,gBAAJ,QAAgB,GACxBC,OAAM,UAAEpO,EAAEoO,cAAJ,QAAc,GACpBC,UAAWrO,EAAEqO,gBArIvB,2CAOS,SAAKL,GACV,OAAO1M,KAAKmM,YAAY9N,IAAIqO,KARhC,wBAWS,SAAYA,GAAuC,aAA1BM,EAA0B,uDAAF,GAEtD,OADAA,EAAc,GAAH,sBAAOA,GAAP,eAAuBhN,KAAKwM,WAChC,UAACxM,KAAKqM,cAAcK,UAApB,QAA4B,IAAI7F,QAAO,SAAAnI,GAAC,aAC5CA,EAAEuO,aAAa,UAAC,EAAKZ,cAAc3N,EAAEgO,YAAtB,OAAC,EAA2B1S,UAC5C0E,EAAEkO,SAASM,OAAM,SAAAxO,GAAC,OAAIsO,EAAYG,SAASzO,QAC1CA,EAAEmO,SAASO,MAAK,SAAA1O,GAAC,OAAIsO,EAAYG,SAASzO,QAC1CA,EAAEoO,OAAOrG,KAAI,SAAA4G,GAAC,sBAAaA,MAAKD,MAAK,SAAA1O,GAAC,OAAIsO,EAAYG,SAASzO,WAjBtE,uBAqBS,SAAWgO,GAAuC,MAA1BM,EAA0B,uDAAF,GAC/ChG,EAAG,UAAGhH,KAAKsN,kBAAkBZ,EAAKM,UAA/B,aAAG,EAA0ChG,IACtD,GAAIA,EAAK,OAAOyC,EAAuBzC,KAvB3C,+BA2BU,SAAmB0F,GAAuC,QAA1BM,EAA0B,uDAAF,GAExDO,EAAUvN,KAAKwG,WAAWkG,EAAKM,GAErC,GAAI,OAACO,QAAD,IAACA,KAASvT,OAAd,CAGA,IAAM0L,EAAWwD,EAAUqE,GAEvBvG,EAAMtB,EAASjH,MACf+O,EAAU,GAAH,sBAAOR,GAAP,CAAoBtH,EAASgH,KAA7B,eAAqChH,EAAS+H,WAA9C,eAA4D/H,EAASoH,OAAOrG,KAAI,SAAA4G,GAAC,sBAAaA,QAMzG,GAJA,UAAIrG,SAAJ,OAAI,EAAKmG,SAAS,OAChBnG,EAAMkC,EAAUlC,EAAIwC,MAAM,OAG5B,UAAIxC,SAAJ,OAAI,EAAKmG,SAAS,KAAM,CACtB,IACIO,EADEC,EAAK,aAEX,MAAkC,QAA1BD,EAAQC,EAAGC,KAAK5G,IAAgB,CACtC,IAAM6G,EAAYH,EAAM,GAClBI,EAAgBJ,EAAM,GACtBK,EAAkC,aAAlBD,EAA+B,CACnD9G,IAAKgF,KACLwB,QAAS,IACPxN,KAAKsN,kBAAkBQ,EAAeN,GAC1C,IAAKO,EAAe,OACpB/G,EAAMA,EAAI0C,QAAQmE,EAAWE,EAAc/G,KAC3CwG,EAAUO,EAAcP,SAK5B,MAAO,CAAExG,MAAKwG,cA5DlB,sBA+DU,SAAUd,GAAW,WACrBsB,EAAehO,KAAKmM,YAAY9N,IAAIqO,GAC1C,GAAIsB,EAAc,OAAOA,EACpB,MACGC,EAAS,UAAQjO,KAAKkM,QAAQQ,UAArB,QAA6B,CAAEA,OACjC7G,EAA8GoI,EAAnHvB,IAAR,EAA2HuB,EAA1GxP,aAAjB,MAAyBoH,EAAzB,IAA2HoI,EAA9FtB,WAA7B,MAAmC,GAAnC,IAA2HsB,EAApFpB,gBAAvC,MAAkD,GAAlD,IAA2HoB,EAArErB,gBAAtD,MAAiE,GAAjE,IAA2HqB,EAAtDnB,cAArE,MAA8E,GAA9E,IAA2HmB,EAAzCC,kBAAlF,WAA2HD,EAArBlB,iBAAtG,SACMoB,EAAcC,EAAWC,SAAS5P,GAClC6P,EAAaH,EAAYI,SAAQ,SAAAC,GAAE,MAAgB,cAAZA,EAAGrR,KAAuBqR,EAAG9C,SAAW,MAC/E+B,EAAY,GAAH,6BAAOd,QAAP,IAAOA,IAAO,IAAd,gBAAqB,OAACA,QAAD,IAACA,IAAO,IAAI4B,SAAQ,SAAA7P,GAAC,sCAAQ,EAAK+P,SAAS/P,GAAG+O,iBAAzB,QAAsC,SACzFiB,EAAgBjB,EAAUc,SAAQ,SAAA7P,GAAC,OAAI,EAAK+P,SAAS/P,MACrDiQ,EAAgB,CACpBjC,IAAK7G,EACLpH,QACA0P,cACAlB,UAAWkB,EAAYnU,OAAS,KAAOsU,EAAWtU,OAClD2S,MACAE,SAAU,eAAI,IAAIN,IAAJ,yBAAYM,GAAZ,eAAyB6B,EAAcH,SAAQ,SAAAK,GAAC,OAAIA,EAAE/B,gBAAahG,QAAO,SAAAlL,GAAC,OAAKiR,EAASO,SAASxR,MAChHiR,SAAU,eAAI,IAAIL,IAAJ,yBAAYK,GAAZ,eAAyB8B,EAAcH,SAAQ,SAAAK,GAAC,OAAIA,EAAEhC,gBAAa/F,QAAO,SAAA/M,GAAC,OAAK+S,EAASM,SAASrT,MAChHgT,OAAQ,eAAI,IAAIP,IAAJ,yBAAYO,GAAZ,eAAuB4B,EAAcH,SAAQ,SAAAK,GAAC,OAAIA,EAAE9B,cAChEC,YACAmB,aACAT,UAAW,IAAIlB,IAAImC,EAAc7H,QAAO,SAAA+H,GAAC,OAAIA,EAAE7B,aAAWtG,KAAI,SAAAmI,GAAC,OAAIA,EAAElC,SAYvE,OAVA1M,KAAKmM,YAAY0C,IAAInC,EAAKiC,GAC1BlB,EAAUqB,SAAQ,SAAApQ,GAChB,IAAI6O,EAAU,EAAKlB,cAAc3N,GAC5B6O,IACH,EAAKlB,cAAc3N,GAAK6O,EAAU,GAClC,EAAKjB,MAAMG,IAAI/N,IAEjB6O,EAAQrS,OAAOqS,EAAQvT,OAAQ,EAAG2U,MAEpCL,EAAWQ,SAAQ,SAAApQ,GAAC,OAAI,EAAK+P,SAAS/P,MAC/BiQ,IAhGb,iBAsHS,WAAmB,kCAAX3I,EAAW,yBAAXA,EAAW,gBACxBA,EAAK8I,SAAQ,SAAAC,GAAS,EAAK7C,QAAQ6C,EAAIrC,KAAOqC,KAC9C/I,EAAK8I,SAAQ,SAAAC,GAAS,EAAKN,SAASM,EAAIrC,UAxH5C,wBA2IS,WAAgC,oCAAjBF,EAAiB,yBAAjBA,EAAiB,gBACjC,UAACA,SAAD,OAAC,EAASxS,SAAQwS,EAAU,CAAC,YACjC,IAAMwC,EAAIxC,EAAQ+B,SAAQ,SAAA7P,GAAC,eAAKA,GAAL,0CAAW,EAAKyN,YAAY9N,IAAIK,UAAhC,aAAW,EAAyB+O,iBAApC,QAAiD,QAG5E,OAFAzN,KAAKwM,QAAU,IAAID,IAAIyC,GACvB1P,QAAQkD,IAAI,mBAAoBxC,KAAKwM,SAC9BxM,OAhJX,0BAmJS,WAEL,OADAA,KAAKwM,QAAQyC,QACNjP,OArJX,6BAwJS,WACL,OAAO,eAAIA,KAAKmM,YAAYvF,UAAUC,QAAO,SAAAnI,GAAC,OAAIA,EAAE+O,UAAUyB,IAAI,YAAwB,YAAVxQ,EAAEgO,SAzJtF,gCA4JS,WACL,OAAO,eAAI1M,KAAKmM,YAAYvF,UAAUC,QAAO,SAAAnI,GAAC,QAAMA,EAAE+O,UAAUyB,IAAI,YAAwB,YAAVxQ,EAAEgO,UA7JxF,uBAgKS,WACL,OAAI1M,KAAKwM,QAAQ2C,KACf,eAAWnP,KAAKwM,SAETxM,KAAKoP,kBAAkB3I,KAAI,SAAA/H,GAAC,OAAIA,EAAEgO,SApK/C,gCAwKS,WAAkB,WACjB2C,EAAY,gBAAI9C,IAAP,eAAcvM,KAAKoP,kBAAkB3I,KAAI,SAAA3M,GAAC,OAAIA,EAAE4S,SAC/D,OAAO,eAAI1M,KAAKsP,sBAAsBzI,QAAO,SAAAnI,GAAC,OAAIA,EAAEkO,SAAS/F,QAAO,SAAAvI,GAAC,OAAI+Q,EAAUH,IAAI5Q,MAAI4O,OAAM,SAAA5O,GAAC,OAAI,EAAKkO,QAAQ0C,IAAI5Q,SAASI,EAAE+O,UAAUyB,IAAI,YAAwB,YAAVxQ,EAAEgO,QAAoBjG,KAAI,SAAA/H,GAAC,OAAIA,EAAEgO,UA1KnM,uBAoGU,SAAiBA,GACvB,IAGIgB,EAHA1G,EAAmB,GACjB2G,EAAK,cACPhH,EAAQ,EAEZ,MAAkC,QAA1B+G,EAAQC,EAAGC,KAAKlB,IAClB/F,IAAU+G,EAAM/G,QAClBK,EAAM,GAAH,sBAAOA,GAAP,CAAY,CAAE7J,KAAM,UAAWsB,MAAOiO,EAAIhN,MAAMiH,EAAO+G,EAAM/G,WAElEK,EAAM,GAAH,sBAAOA,GAAP,CAAY,CAAE7J,KAAM,YAAauO,SAAUgC,EAAM,GAAGlE,MAAM,QAC7D7C,EAAQgH,EAAG4B,UAAY,EAKzB,OAHI5I,IAAU+F,EAAI1S,SAChBgN,EAAM,GAAH,sBAAOA,GAAP,CAAY,CAAE7J,KAAM,UAAWsB,MAAOiO,EAAIhN,MAAMiH,EAAO+F,EAAI1S,YAEzDgN,MAnHX,KC2HIwI,GAAS,EAEA,GAAb,WAOE,WAAaC,EAA2BtS,GAA8C,IAAhCuS,EAAgC,uDAAvB,GAAIC,EAAmB,gFAChFD,IAAWA,EAAOE,SAAS,OAC7BF,GAAU,KAEZ1P,KAAK6P,SAAWH,EAASvS,EAAO,KAChC6C,KAAK8P,cAAiBH,EAAc,WAAa,GACjD3P,KAAK+P,aAAgBJ,EAAc,IAAM,GACzC3P,KAAK7C,KAAOA,EACZ6C,KAAKyP,cAAgBA,EAfzB,gDAkBS,SAAUO,GACf,IAAKA,EAAOnK,GAAI,CACdmK,EAAOnK,GAAK7F,KAAK6P,SAAW7P,KAAKiQ,SACjC,IAAIC,EAAKC,KAAKC,MACVF,GAAMV,KACRU,EAAKV,GAAS,GAEhBA,GAASU,EACTF,EAAOK,YAAcH,KA1B3B,2EA8BE,6HACyBlQ,KAAKyP,cAAca,WAAWtQ,KAAK6P,UAD5D,cACQU,EADR,OAEQC,EAAMvW,OAAOwW,KAAKF,GACrB1J,QAAO,SAAAjB,GAAI,OAAI2K,EAAS3K,IAAkB,YAATA,KACjCa,KAAI,SAAAb,GAAI,OAAIA,EAAK8D,QAAQ,MAAO,OAJrC,kBAKS3N,QAAQ8B,IAAI2S,EAAI/J,KAAI,SAAAZ,GAAE,OAAI,EAAKxH,IAAI,EAAKwR,SAAWhK,OACvD6K,MAAK,SAAAhV,GAAC,OAAIA,EAAEmL,QAAO,SAAAmI,GAAC,MAAiB,qBAANA,KAC7B2B,MAAK,SAAC/B,EAAGlM,GAAK,QACPkO,EAAE,UAAGlO,EAAE2N,mBAAL,QAAoB,EACtBQ,EAAE,UAAGjC,EAAEyB,mBAAL,QAAoB,EAC5B,OAAOO,EAAKC,EAAK,EAAIA,EAAKD,GAAM,EAAI,SAV5C,gDA9BF,mIA6CE,WAAW/K,GAAX,8FACQiL,EAAOjL,EAAK7F,KAAK8P,cADzB,SAEe9P,KAAKyP,cAAcsB,UAAUD,GAF5C,wFA7CF,qIAkDE,WAAYd,GAAZ,0FACOA,EADP,sBACqB,IAAIpT,MAAJ,qBAAwBoT,EAAxB,gBAAsChQ,KAAK7C,KAA3C,aADrB,cAEE6C,KAAKgR,SAAShB,GACRc,EAAOd,EAAOnK,GAAK7F,KAAK8P,cAHhC,SAKI7V,OAAOwW,KAAKT,GAAQlB,SAAQ,SAAA/P,GAC1B,IAAMkS,EAAIlS,EACJkM,EAAI+E,EAAOiB,GACA,qBAANhG,UACF+E,EAAOiB,MAGlB3R,QAAQ4R,MAAM,UAAYlR,KAAK7C,KAAM6S,GAZzC,SAaUhQ,KAAKyP,cAAc0B,YAAYnR,KAAK7C,KAAM2T,EAAMd,GAb1D,kEAeU,IAAIpT,MAAJ,2BAA8BoD,KAAK7C,KAAnC,uCAA0DiU,KAAKC,UAAUrB,KAfnF,iCAiBSA,GAjBT,0DAlDF,uIAsEE,WAAcsB,GAAd,4FAGIzL,EADwB,kBAAfyL,EACJA,EAEH,UAAGA,EAAWzL,UAAd,QAAoB,IAEpBA,EAPN,yCAQW7F,KAAKuR,gBAAgB1L,EAAK7F,KAAK+P,cAAcW,MAAK,gBAR7D,gCAUW3U,QAAQC,aAAQyB,IAV3B,gDAtEF,gJAoFU,WAAuBqT,GAAvB,oGACFA,EAAKlB,SAAS,KADZ,iCAEc5P,KAAKyP,cAAcsB,UAAUD,GAF3C,cAEEU,EAFF,OAGE5V,EAAW3B,OAAOwW,KAAKe,GAAK/K,KAAI,SAAAgL,GAAC,OAAI,EAAKF,gBAAgBT,EAAOW,MAHnE,SAIS1V,QAAQ8B,IAAIjC,GAAU8U,MAAK,eAJpC,yEAMG1Q,KAAKyP,cAAc9J,OAAOmL,GAAMJ,MAAK,gBANxC,iDApFV,8EA8FU,WACN,MAAO,uCAAwChH,QAAQ,UAAU,SAAC3L,GAAD,OAC9D2T,SAAS3T,GAAK4T,OAAOC,gBAAgB,IAAIC,WAAW,IAAI,GAAK,IAAMH,SAAS3T,GAAK,GAAG+T,SAAS,WAhGpG,KAsJa,GAAb,qCACE,KAAA7R,aAQIxC,EAEJ,KAAA4I,MAAkB,GAClB,KAAAL,KAAiB,GACjB,KAAAO,WAAyB,IAAI,IClS/B,IACEhJ,KAAM,YACNqC,WAAY,CAAd,6BACEyK,MAAO,CACLxE,GAAIyE,QAEN9Q,KANF,WAOI,MAAO,CACL+D,KAAM,GACN0K,QAAS,GACTD,QAAS,GACTiB,QAAS,GACTF,YAAa,KAGjBjJ,SAAU,OAAZ,OAAY,CAAZ,iCACA,6BACA,2DAFA,IAGI6K,MAHJ,WAIM,OAAQ3K,KAAKyK,gBAEfA,eANJ,WAOM,QAASzK,KAAK6F,IAEhBkM,WATJ,WASA,UACM,OAAN,iHAEIC,YAZJ,WAYA,UACM,OAAN,0IAEIC,qBAfJ,WAgBM,OAAOjS,KAAK2K,OAAS3K,KAAK+R,WAAa,GAEzCG,wBAlBJ,WAmBM,OAAOlS,KAAKyK,iBAAmBzK,KAAKgS,aAEtCpJ,WArBJ,WAsBM,OAAQ5I,KAAKmS,uBAAuBnY,SAAWgG,KAAKC,QAAQE,MAAMnG,UAGtEwG,QAAS,OAAX,OAAW,CAAX,kBACA,4DADA,IAEI,iBAFJ,WAEA,uKACA,2CADA,qBACA,uBADA,sCACA,+BADA,iCACA,EADA,eAEA,8BAFA,WAEA,EAFA,OAGA,2DACA,KACA,kBALA,kCAMA,+BANA,QAMA,EANA,OAOA,sCACA,GARA,+CAWIsI,OAbJ,SAaA,GACU6B,GACE3K,KAAKiS,sBACPjS,KAAKoS,YAAY,OAA3B,OAA2B,CAA3B,0FAEQpS,KAAKoS,YAAY,CACfvM,QAAIpI,EACJF,KAAMyC,KAAKzC,KACX0K,QAASjI,KAAKiI,QACdD,QAAS,GACTqK,UAAU,EACVC,WAAW,EACXC,eAAe,EACftJ,QAASjJ,KAAKiJ,QAAQpC,QAAO,SAAvC,qDAGQ7G,KAAKoS,YAAY,CACfvM,GAAI7F,KAAK6F,GACTtI,KAAMyC,KAAKzC,KACX0K,QAASjI,KAAKiI,QACdD,QAAShI,KAAKgI,QACdqK,UAAU,EACVC,WAAW,EACXC,eAAe,EACftJ,QAASjJ,KAAKiJ,QAAQpC,QAAO,SAAvC,qDAII,QAzCJ,SAyCA,+KACA,EADA,iCAEA,qBAFA,OAEA,EAFA,OAGA,iCAHA,EAGA,iBAHA,MAGA,GAHA,EAIA,SACA,YACA,YACA,4BAPA,wBASA,UACA,aACA,aACA,iBACA,aAbA,kDC9GmV,M,aCO/U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,WACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAACkE,WAAA,KAASlD,aAAA,KAAW2K,aAAA,OCzBlD,IAAI,GAAS,WAAa,IAAInR,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,aAAa,KAAO,qBAAqB,GAAKP,EAAIwE,IAAIhE,GAAG,CAAC,MAAQR,EAAIwH,QAAQ,KAAOxH,EAAIyH,SAAS,CAAC,CAACtH,EAAG,gBAAgB,CAACI,MAAM,CAAC,IAAM,IAAImD,MAAM,CAACtG,MAAO4C,EAAY,SAAE2D,SAAS,SAAUC,GAAM5D,EAAIoR,SAASxN,GAAKC,WAAW,aAAa,CAAC1D,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,cAAc,OAAQ,KAAQJ,EAAG,UAAU,CAACI,MAAM,CAAC,MAAQ,mBAAmB,OAAQ,MAAU,GAAGJ,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,mBAAmB,cAAc,eAAeC,GAAG,CAAC,eAAeR,EAAIqR,eAAe3N,MAAM,CAACtG,MAAO4C,EAAQ,KAAE2D,SAAS,SAAUC,GAAM5D,EAAI9D,KAAK0H,GAAKC,WAAW,UAAU7D,EAAIU,GAAG,cAAcP,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,SAAS,aAAa,YAAYmD,MAAM,CAACtG,MAAO4C,EAAW,QAAE2D,SAAS,SAAUC,GAAM5D,EAAI4H,QAAQhE,GAAKC,WAAW,eAAe,IACr3B,GAAkB,GCqBtB,IACE3H,KAAM,gBACNqC,WAAY,CAAd,6BACEyK,MAAO,CACLxE,GAAIyE,QAEN9Q,KANF,WAOI,MAAO,CACL+D,KAAM,GACNkV,UAAU,EACVxJ,QAAS,KAGbnJ,SAAU,OAAZ,OAAY,CAAZ,GACA,6BAEEU,QAAS,OAAX,OAAW,CAAX,kBACA,oEADA,IAEIkS,cAFJ,WAGM1S,KAAKzC,KAAOyO,MAEdlD,OALJ,WAMM9I,KAAK2S,gBAAgB,CACnB9M,GAAI7F,KAAK6F,GACTtI,KAAMyC,KAAKzC,KACXkV,SAAUzS,KAAKyS,SACfJ,UAAU,EACVpJ,QAASjJ,KAAKiJ,QAAQpC,QAAO,SAArC,qDAGI,QAdJ,SAcA,+KACA,EADA,iCAEA,yBAFA,gBAEA,EAFA,EAEA,OAFA,EAEA,SAFA,IAEA,eAFA,MAEA,GAFA,EAGA,SACA,aACA,4BALA,wBAOA,YACA,cACA,aACA,IAVA,aAUA,yBAVA,6BAWA,UAXA,KAWA,iBAXA,UAWA,kDAXA,yBAWA,OAXA,eAWA,EAXA,cAUA,IAVA,kECpDuV,M,0BCOnV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAOhC,IAAkB,GAAW,CAAC+L,UAAA,KAAOC,eAAA,KAAYhL,aAAA,OCzBjD,IAAI,GAAS,WAAa,IAAIxG,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAOP,EAAI+G,MAAQ,cAAc,GAAK/G,EAAIwE,IAAIhE,GAAG,CAAC,MAAQR,EAAIwH,QAAQ,KAAOxH,EAAIyH,SAAS,CAAC,CAACtH,EAAG,MAAM,CAAC+B,YAAY,QAAQ,CAAElC,EAAc,WAAEG,EAAG,MAAM,CAACH,EAAIU,GAAG,IAAIV,EAAIoC,GAAGpC,EAAImH,YAAY,OAAOnH,EAAIM,KAAMN,EAAIyR,aAAmB,OAAEtR,EAAG,MAAM,CAACH,EAAIU,GAAG,kBAAkBV,EAAI4E,GAAI5E,EAAgB,cAAE,SAASoH,EAAY3O,GAAG,OAAO0H,EAAG,MAAM,CAACzC,IAAIjF,EAAE8H,MAAM,CAAC,MAAQ6G,SAAkB,GAAGpH,EAAIM,KAAKH,EAAG,aAAa,CAACI,MAAM,CAAC,YAAY,GAAG,SAAW,GAAG,UAAY,GAAG,MAAQ,iBAAiB,KAAO,4BAA4BmD,MAAM,CAACtG,MAAO4C,EAAkB,eAAE2D,SAAS,SAAUC,GAAM5D,EAAIkH,eAAetD,GAAKC,WAAW,qBAAqB,KAAK,IACtvB,GAAkB,GCDlB,GAAS,WAAa,IAAI7D,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAQD,EAAS,MAAEG,EAAG,SAAS,CAAC+B,YAAY,YAAY3B,MAAM,CAAC,UAAU,GAAG,KAAO,KAAK,CAACP,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAIyE,UAAUzE,EAAIM,MAC9M,GAAkB,GCGtB,IACEpE,KAAM,MACN8M,MAAO,CACLvE,MAAO,CACL3I,KAAMmN,OACNC,QAAS,MCT8T,MCQzU,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,MAAiB,QAKhC,IAAkB,GAAW,CAAC5C,QAAA,OCF9B,QACEpK,KAAM,UACNqC,WAAY,CAAd,sBACEyK,MAAO,CACLxE,GAAIyE,QAEN9Q,KANF,WAOI,MAAO,CACL4O,KAAM,GACNC,OAAQ,GACRG,WAAY,GACZD,eAAgB,GAChBuK,aAAc,KAGlBhT,SAAU,GAEVU,QAAS,OAAX,OAAW,CAAX,kBACA,iDADA,IAEIsI,OAFJ,SAEA,SACM9I,KAAK+S,eAAe,CAClBlN,GAAI7F,KAAK6F,GACTuC,KAAMpI,KAAKoI,KACXC,OAAQrI,KAAKqI,OACbG,WAAYxI,KAAKwI,WACjBD,eAAgBvI,KAAKuI,eACrBuK,aAAc,OAAtB,OAAsB,CAAtB,kDAGI,QAZJ,SAYA,uKACA,EADA,iCAEA,mBAFA,OAEA,EAFA,OAGA,cACA,kBACA,0BACA,kCACA,0EAPA,wBASA,UACA,YACA,gBACA,oBACA,kBAbA,kDCnDiV,MCO7U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACN,aAAA,OCvB9B,IAAI,GAAS,WAAa,IAAInR,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,WAAW,KAAO,wBAAwB,GAAKP,EAAIwE,GAAG,SAAWxE,EAAItB,UAAU8B,GAAG,CAAC,MAAQR,EAAIwH,QAAQ,KAAOxH,EAAIyH,SAAS,CAAC,CAACtH,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,WAAW,KAAO,4CAA4C,cAAc,eAAeC,GAAG,CAAC,eAAeR,EAAI2R,eAAejO,MAAM,CAACtG,MAAO4C,EAAS,MAAE2D,SAAS,SAAUC,GAAM5D,EAAIyE,MAAMb,GAAKC,WAAW,aAAa,IACtf,GAAkB,GCoBtB,IACE3H,KAAM,WACNqC,WAAY,CAAd,eACEyK,MAAO,CACLxE,GAAIyE,QAEN9Q,KANF,WAOI,MAAO,CACLsM,MAAO,GACPuM,UAAU,IAGdvS,SAAU,OAAZ,OAAY,CAAZ,iCACA,wEACA,6BAFA,IAGIC,SAHJ,WAIM,OAAQC,KAAKmS,uBAAuBnY,SAAWgG,KAAKiT,0BAA0BjZ,UAGlFwG,QAAS,OAAX,OAAW,CAAX,kBACA,0DADA,IAEI,cAFJ,WAEA,wKACA,8BADA,OACA,QADA,qDAGIsI,OALJ,SAKA,GACM9I,KAAKkT,WAAW,CACdrN,GAAI7F,KAAK6F,GACTC,MAAO9F,KAAK8F,MACZuM,SAAUrS,KAAKqS,YAGnB,QAZJ,SAYA,yKACA,EADA,iCAEA,oBAFA,gBAEA,EAFA,EAEA,QAFA,EAEA,SACA,UACA,aAJA,yCAMA,kBANA,QAOA,cAPA,kDCpDkV,MCO9U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACxK,aAAA,OCvB9B,IAAI,GAAS,WAAa,IAAIxG,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,QAAQ,KAAO,0BAA0B,GAAKP,EAAIwE,IAAIhE,GAAG,CAAC,MAAQR,EAAIwH,QAAQ,KAAOxH,EAAIyH,SAAS,CAAC,CAACtH,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,MAAM,KAAO,eAAe,cAAc,eAAeC,GAAG,CAAC,eAAeR,EAAI8R,gBAAgBpO,MAAM,CAACtG,MAAO4C,EAAQ,KAAE2D,SAAS,SAAUC,GAAM5D,EAAI9D,KAAK0H,GAAKC,WAAW,UAAU7D,EAAIU,GAAG,cAAcP,EAAG,cAAc,CAACI,MAAM,CAAC,KAAO,SAAS,aAAa,YAAYmD,MAAM,CAACtG,MAAO4C,EAAW,QAAE2D,SAAS,SAAUC,GAAM5D,EAAI4H,QAAQhE,GAAKC,WAAW,eAAe,IAC7mB,GAAkB,GCgBtB,IACE3H,KAAM,YACNqC,WAAY,CAAd,6BACEyK,MAAO,CACLxE,GAAIyE,QAEN9Q,KANF,WAOI,MAAO,CACL+D,KAAM,GACN8U,UAAU,EACVpJ,QAAS,KAGbnJ,SAAU,OAAZ,OAAY,CAAZ,GACA,6BAEEU,QAAS,OAAX,OAAW,CAAX,kBACA,4DADA,IAEI,eAFJ,WAEA,wKACA,uDADA,OACA,OADA,qDAGIsI,OALJ,WAMM9I,KAAKoT,YAAY,CACfvN,GAAI7F,KAAK6F,GACTtI,KAAMyC,KAAKzC,KACX8U,SAAUrS,KAAKqS,SACfpJ,QAASjJ,KAAKiJ,QAAQpC,QAAO,SAArC,qDAGI,QAbJ,SAaA,6KACA,EADA,iCAEA,qBAFA,gBAEA,EAFA,EAEA,OAFA,EAEA,SAFA,IAEA,eAFA,MAEA,GAFA,EAGA,SACA,aACA,4BALA,yCAOA,mBAPA,QAQA,cACA,aATA,kDC9CmV,MCO/U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACgB,aAAA,OCvB9B,IAAI,GAAS,WAAa,IAAIxG,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,WAAW,KAAO,yBAAyB,SAAWP,EAAItB,UAAU8B,GAAG,CAAC,MAAQR,EAAIwH,QAAQ,KAAOxH,EAAIyH,SAAS,CAAC,CAACtH,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,WAAW,KAAO,4FAA4F,YAAc,uCAAuCmD,MAAM,CAACtG,MAAO4C,EAAY,SAAE2D,SAAS,SAAUC,GAAM5D,EAAIgS,SAASpO,GAAKC,WAAW,gBAAgB,IACthB,GAAkB,GCatB,I,UAAA,CACE3H,KAAM,cACNqC,WAAY,CAAd,eACEyK,MAAO,CACL1D,MAAO2M,OACPvT,SAAUyK,SAEZhR,KAPF,WAQI,MAAO,CACL6Z,SAAU,KAGdvT,SAAU,GAEVU,QAAS,OAAX,OAAW,CAAX,kBACA,kCADA,IAEIsI,OAFJ,SAEA,GACU6B,GACF3K,KAAKuT,aAAavT,KAAKqT,WAG3BxK,QAPJ,WAQM7I,KAAKqT,SAAW,QCpC+T,MCOjV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAACxL,aAAA,OCvB9B,IAAI,GAAS,WAAa,IAAIxG,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,cAAc,CAACI,MAAM,CAAC,MAAQ,cAAc,KAAO,qBAAqB,SAAWP,EAAItB,UAAU8B,GAAG,CAAC,MAAQR,EAAIwH,QAAQ,KAAOxH,EAAIyH,SAAS,CAAC,CAACtH,EAAG,eAAe,CAACI,MAAM,CAAC,MAAQ,cAAc,KAAO,gEAAgEmD,MAAM,CAACtG,MAAO4C,EAAW,QAAE2D,SAAS,SAAUC,GAAM5D,EAAImS,QAAQvO,GAAKC,WAAW,eAAe,IACpc,GAAkB,GCYtB,IACE3H,KAAM,aACNqC,WAAY,CAAd,eACEyK,MAAO,CACL1D,MAAO2M,OACPvT,SAAUyK,SAEZhR,KAPF,WAQI,MAAO,CACLga,QAAS,KAGb1T,SAAU,GAEVU,QAAS,OAAX,OAAW,CAAX,kBACA,gCADA,IAEIsI,OAFJ,SAEA,GACU6B,GACF3K,KAAKyT,WAAWzT,KAAKwT,UAGzB3K,QAPJ,WAQM7I,KAAKwT,QAAU,OCnC+T,MCOhV,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAKhC,IAAkB,GAAW,CAAC3L,aAAA,OCvB9B,IAAI,GAAS,WAAa,IAAIxG,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,YAAY,CAACI,MAAM,CAAC,IAAM,IAAI0D,YAAYjE,EAAIkE,GAAG,CAAC,CAACxG,IAAI,YAAYyG,GAAG,SAASf,GAClL,IAAI5C,EAAK4C,EAAI5C,GACb,MAAO,CAACL,EAAG,QAAQH,EAAIwI,GAAG,CAACtG,YAAY,OAAO3B,MAAM,CAAC,MAAQ,UAAU,IAAM,GAAG,MAAQ,GAAG,SAAWP,EAAItB,UAAU8B,GAAG,CAAC,MAAQR,EAAIqS,WAAW7R,GAAI,CAACL,EAAG,SAAS,CAACI,MAAM,CAAC,MAAQ,KAAK,CAACP,EAAIU,GAAG,kBAAkB,SAAS,CAACP,EAAG,OAAO,CAACH,EAAIU,GAAG,kBACvO,GAAkB,GCUtB,IACExE,KAAM,YACN8M,MAAO,GAEPvK,SAAU,OAAZ,OAAY,CAAZ,kBACA,6BADA,IAEIC,SAFJ,WAEA,QACM,OAAN,sFAGES,QAAS,OAAX,OAAW,CAAX,kBACA,iCADA,IAEIkT,SAFJ,WAGM1T,KAAK2T,kBC1BuU,MCQ9U,I,UAAY,eACd,GACA,GACA,IACA,EACA,KACA,KACA,OAIa,MAAiB,QAOhC,IAAkB,GAAW,CAAC1Q,OAAA,KAAKC,QAAA,KAAM8H,WAAA,OCwFzC,QACEzN,KAAM,OACNqC,WAAY,CAAd,mHACEgU,kBAHF,SAGA,aACItU,QAAQkD,IAAI,MAAQ5B,EAAI,QAAUC,GACtC,4CAGMgT,IAFAA,EAAK,UAKTra,KAXF,WAYI,MAAO,CACLuO,mBAAoB,KAGxBjI,SAAU,OAAZ,OAAY,CAAZ,iCACA,gBACA,aAEA,gBACA,sEALA,IAOI4I,kBAPJ,WAOA,UACM,OAAN,oHAEIoL,YAVJ,WAUA,QACM,OAAN,+EAEIC,UAbJ,WAcM,OAAO/T,KAAKC,QAAQ0I,OAAOjJ,MAAM,EAAGM,KAAKC,QAAQ+T,aAEnDC,aAhBJ,WAiBM,OAAOjU,KAAKC,QAAQ0I,OAAOjJ,MAAMM,KAAK0I,oBAExCZ,aAnBJ,WAoBM,IAAN,EAeM,OAbEd,EADEhH,KAAKC,QAAQ0I,OAAO3O,OAAS,EACzB,EACd,yBACc,EACd,2BACc,EACd,wBACc,EACd,mCACc,EAEA,EAERsF,QAAQkD,IAAI,eAAgBwE,GACrBA,KAGXxG,QAAS,OAAX,OAAW,CAAX,kBACA,gEADA,IAEI0T,WAFJ,WAGMxW,YAAW,WAAjB,iDAGE+C,MAAO,CACLwT,aADJ,WAEMjU,KAAK+H,mBAAqB/H,KAAK0I,kBAC/B1I,KAAKkU,cAEP,mBALJ,WAKA,6JACA,yBADA,gCAEA,kCAFA,+CAMEhT,QAvEF,WAwEIlB,KAAKmU,OAAS,CAACnU,KAAKC,QAAQ0I,OAAO3O,OAAS,GACxCgG,KAAK0I,mBAAqB,IAC5B1I,KAAK+H,mBAAqB/H,KAAK0I,qBC5LyS,M,iICQ1U,GAAY,eACd,GACA,EACA,GACA,EACA,KACA,KACA,MAIa,MAAiB,QAoBhC,IAAkB,GAAW,CAAC0L,UAAA,KAAOC,WAAA,KAAQpR,OAAA,KAAKsE,QAAA,KAAME,UAAA,OAAUE,QAAA,KAAMoD,WAAA,KAASuJ,mBAAA,KAAgBC,0BAAA,KAAuBC,yBAAA,KAAsBC,oBAAA,KAAiBvR,QAAA,KAAMwR,aAAA,KAAUC,iBAAA,KAAc1Q,SAAA,QAAS+G,WAAA,OCvCtM,IAAI,GAAS,WAAa,IAAI3J,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACH,EAAIU,GAAG,SAAUV,EAAe,YAAEG,EAAG,OAAO,CAAC+B,YAAY,qCAAqC,CAAClC,EAAIU,GAAG,IAAIV,EAAIoC,GAAGpC,EAAI2L,aAAa,OAAO3L,EAAIM,OAAON,EAAI4E,GAAI5E,EAAe,aAAE,SAASuT,EAAWC,GAAO,OAAOrT,EAAG,SAAS,CAACzC,IAAI8V,EAAMtR,YAAY,QAAQ,CAAC/B,EAAG,eAAe,CAACH,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAIyT,QAAQD,OAAWrT,EAAG,cAAcH,EAAI4E,GAAG,GAAa,SAASD,EAAK7I,GAAM,OAAOqE,EAAG,MAAM,CAACzC,IAAI8V,EAAQ1X,GAAM,CAACqE,EAAG,KAAK,CAACH,EAAIU,GAAGV,EAAIoC,GAAGpC,EAAIyT,QAAQ3X,IAAO,KAAKqE,EAAG,QAAQ,CAACH,EAAIU,GAAG,IAAIV,EAAIoC,GAAGuC,EAAKhM,QAAQ,SAASqH,EAAI4E,GAAG,GAAO,SAASyG,GAAK,OAAOlL,EAAG,UAAU,CAACzC,IAAI8V,EAAQ1X,EAAOuP,EAAIjO,MAAM6G,YAAYjE,EAAIkE,GAAG,CAAC,CAACxG,IAAI,UAAUyG,GAAG,SAASf,GACnuB,IAAIsQ,EAAQtQ,EAAIsQ,MAChB,MAAO,CAACvT,EAAG,SAAS,CAAC+B,YAAY,YAAY3B,MAAM,CAAC,MAAQ,GAAG,MAAQmT,IAAQ1T,EAAI4E,GAAIyG,EAAe,aAAE,SAASsI,EAASrO,GAAO,OAAOnF,EAAG,OAAO,CAACzC,IAAI4H,GAAO,CAAoB,cAAlBqO,EAAS7X,KAAsBqE,EAAG,IAAI,CAAC+B,YAAY,mBAAmB,CAAClC,EAAIU,GAAG,IAAIV,EAAIoC,GAAGuR,EAAStJ,SAASjF,KAAI,SAAU/H,GAAK,OAAO2C,EAAIyT,QAAQpW,MAAOyH,KAAK,MAAM,OAAO3E,EAAG,OAAO,CAAC+B,YAAY,qBAAqB,CAAClC,EAAIU,GAAG,IAAIV,EAAIoC,GAAGuR,EAASvW,OAAO,YAAW,OAAO,MAAK,SAAW,MAAK,IAAI,OAAM,IACtc,GAAkB,G,yBC0BtB,SAASwW,GAAsBC,EAAWC,GACxC,OAAOD,EAAKlb,OAAS,EAAIkb,EAAOC,EAMlC,IAAqB,GAArB,+KAGE,WAAe,UACb,OAAO,oBAACnV,KAAKC,eAAN,iBAAC,EAAce,YAAf,aAAC,EAAoBgF,YAArB,QAA6B,IAAIG,KAAK,OAAS,oBAJ1D,uBAOE,WAAe,WACPa,EAAiD,GACjDqI,EAAYrP,KAAKuG,WAAW6O,YAclC,OAbA,eAAIpV,KAAKuG,WAAW8O,sBAAsB5O,KAAI,SAAA/H,GAAC,OAAI,EAAK6H,WAAWlI,IAAIK,MACpEoQ,SAAQ,SAAApQ,GACP,GAAKA,EAAL,CACA,IAAM4W,EAAaL,GAAkB,eAAIvW,EAAEkO,UAAU/F,QAAO,SAAA+H,GAAC,OAAIS,EAAUlC,SAASyB,MAAK,CAAC,YACpF2G,EAAgB,eAAI7W,EAAEiO,KAAK9F,QAAO,SAAA+H,GAAC,OAAK0G,EAAWnI,SAASyB,IAAY,YAANA,KACxE0G,EAAWxG,SAAQ,SAAA+F,GAAQ,MACnBW,EAAYxO,EAAI6N,GAAJ,UAAa7N,EAAI6N,UAAjB,QAA2B,GAC7CU,EAAczG,SAAQ,SAAA3R,GAAO,MACrBsY,EAAYD,EAASrY,GAAT,UAAiBqY,EAASrY,UAA1B,QAAmC,GACrDsY,EAASva,OAAOua,EAASzb,OAAQ,EAAG0E,aAIrCsI,IAvBX,sBA0BE,WACE,MAAO,CACL0O,QAAS,SACTC,SAAU,mBA7BhB,qBAiCE,SAASxY,GAAY,UACnB,2BAAO6C,KAAK4V,WAAWzY,UAAvB,kBAAgC6C,KAAKuG,WAAWlI,IAAIlB,UAApD,aAAgC,EAA2BsB,aAA3D,QAAoEtB,MAlCxE,GAAkC,QAAb,GAAI,iBAJxB,gBAAU,CACTyC,WAAY,CAAE2H,QAAA,KAAOG,WAAA,OAAYD,UAAA,OAAWoO,UAAA,KAAQlO,QAAA,MACpD7H,SAAU,kBAAK,eAAS,CAAC,aAAc,gBAEpB,cCpC0W,MCO3X,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAShC,IAAkB,GAAW,CAACyH,QAAA,KAAME,UAAA,OAAUC,WAAA,OAAWC,QAAA,KAAMkO,UAAA,OC3B/D,IAAI,GAAS,WAAa,IAAIxU,EAAIrB,KAASsB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,SAAS,CAAC+B,YAAY,QAAQ,CAAC/B,EAAG,eAAe,CAACA,EAAG,SAAS,CAACH,EAAIU,GAAG,wBAAwBV,EAAIU,GAAG,eAAe,GAAGP,EAAG,aAAaA,EAAG,cAAc,CAAEH,EAAI8Q,uBAAuBnY,OAASqH,EAAI4R,0BAA0BjZ,OAAQwH,EAAG,KAAK,CAACH,EAAI4E,GAAI5E,EAA0B,wBAAE,SAASyU,GAAW,OAAOtU,EAAG,KAAK,CAACzC,IAAI+W,EAAUjQ,IAAI,CAACrE,EAAG,IAAI,CAACH,EAAIU,GAAGV,EAAIoC,GAAGqS,EAAUvY,MAAM,eAAe8D,EAAIU,GAAG,KAAKV,EAAI4E,GAAI6P,EAAiB,SAAE,SAAS5N,GAAQ,OAAO1G,EAAG,SAAS,CAACzC,IAAImJ,EAAO3E,YAAY,OAAO3B,MAAM,CAAC,UAAU,GAAG,KAAO,KAAK,CAACP,EAAIU,GAAGV,EAAIoC,GAAGyE,SAAa7G,EAAIU,GAAG,KAAKP,EAAG,iBAAiB,CAACI,MAAM,CAAC,GAAKkU,EAAUjQ,OAAO,MAAKxE,EAAI4E,GAAI5E,EAA6B,2BAAE,SAASyU,GAAW,OAAOtU,EAAG,KAAK,CAACzC,IAAI+W,EAAUjQ,IAAI,CAACxE,EAAIU,GAAGV,EAAIoC,GAAGqS,EAAUvY,MAAM,KAAK8D,EAAI4E,GAAI6P,EAAiB,SAAE,SAAS5N,GAAQ,OAAO1G,EAAG,SAAS,CAACzC,IAAImJ,EAAO3E,YAAY,OAAO3B,MAAM,CAAC,UAAU,GAAG,KAAO,KAAK,CAACP,EAAIU,GAAGV,EAAIoC,GAAGyE,SAAa7G,EAAIU,GAAG,KAAKP,EAAG,iBAAiB,CAACI,MAAM,CAAC,GAAKkU,EAAUjQ,OAAO,OAAM,GAAGrE,EAAG,OAAO,CAACH,EAAIU,GAAG,cAAc,GAAGP,EAAG,SAAS,CAAC+B,YAAY,QAAQ,CAAC/B,EAAG,eAAe,CAACA,EAAG,SAAS,CAACH,EAAIU,GAAG,2BAA2BV,EAAIU,GAAG,cAAc,GAAGP,EAAG,aAAaA,EAAG,cAAc,CAAEH,EAAI0U,YAAkB,OAAEvU,EAAG,KAAKH,EAAI4E,GAAI5E,EAAe,aAAE,SAAS2U,GAAM,OAAOxU,EAAG,KAAK,CAACzC,IAAIiX,EAAKnQ,IAAI,CAACxE,EAAIU,GAAGV,EAAIoC,GAAGuS,EAAKlQ,OAAO,KAAKtE,EAAG,YAAY,CAACI,MAAM,CAAC,GAAKoU,EAAKnQ,OAAO,MAAK,GAAGrE,EAAG,OAAO,CAACH,EAAIU,GAAG,cAAc,GAAGP,EAAG,SAAS,CAAC+B,YAAY,QAAQ,CAAC/B,EAAG,eAAe,CAACA,EAAG,SAAS,CAACH,EAAIU,GAAG,6BAA6BV,EAAIU,GAAG,UAAU,GAAGP,EAAG,aAAaA,EAAG,cAAc,CAAEH,EAAI4U,aAAmB,OAAEzU,EAAG,KAAKH,EAAI4E,GAAI5E,EAAgB,cAAE,SAAS6U,GAAO,OAAO1U,EAAG,KAAK,CAACzC,IAAImX,EAAMrQ,IAAI,CAACxE,EAAIU,GAAG,IAAIV,EAAIoC,GAAGyS,EAAM3Y,MAAM,KAAKiE,EAAG,aAAa,CAACI,MAAM,CAAC,GAAKsU,EAAMrQ,OAAO,MAAK,GAAGrE,EAAG,OAAO,CAACH,EAAIU,GAAG,cAAc,IAAI,IAC30D,GAAkB,GC6CtB,IACExE,KAAM,YACNqC,WAAY,CAAd,2CACEE,SAAU,OAAZ,OAAY,CAAZ,GACA,sGClD+U,MCO3U,GAAY,eACd,GACA,GACA,IACA,EACA,KACA,WACA,MAIa,MAAiB,QAUhC,IAAkB,GAAW,CAACyH,QAAA,KAAME,UAAA,OAAUC,WAAA,OAAWC,QAAA,KAAMoD,WAAA,KAAS7H,QAAA,O,wECfxE,OAAIiT,IAAI,QA8CR,IAAMC,GAAe,CACnB7Y,KAAM,cACN8Y,QAAS,SAAU5G,EAA2B6G,GAC5C7G,EAAc8G,YAAY,OAAQ,CAChCpZ,KAAM,SACNqZ,WAAY,CACV3Q,GAAI,CAAE1I,KAAM,UACZI,KAAM,CAAEJ,KAAM,UACd6I,KAAM,CACJ7I,KAAM,QACNsZ,MAAO,SACPC,QAAS,GAEX9B,WAAY,CACVzX,KAAM,SACNwZ,kBAAmB,CACjB,KAAM,CAAExZ,KAAM,QAASsZ,MAAO,SAAUC,QAAS,MAIvDhL,SAAU,CAAC,KAAM,OAAQ,UAE3B+D,EAAc8G,YAAY,YAAa,CACrCpZ,KAAM,SACNqZ,WAAY,CACV3Q,GAAI,CAAE1I,KAAM,UACZI,KAAM,CAAEJ,KAAM,UACdsV,SAAU,CAAEtV,KAAM,WAClBkV,SAAU,CAAElV,KAAM,WAClB8L,QAAS,CAAE9L,KAAM,QAASsZ,MAAO,WAEnC/K,SAAU,CAAC,KAAM,OAAQ,WAAY,cAEvC+D,EAAc8G,YAAY,QAAS,CACjCpZ,KAAM,SACNqZ,WAAY,CACV3Q,GAAI,CAAE1I,KAAM,UACZI,KAAM,CAAEJ,KAAM,UACdkV,SAAU,CAAElV,KAAM,WAClB8L,QAAS,CAAE9L,KAAM,QAASsZ,MAAO,WAEnC/K,SAAU,CAAC,KAAM,OAAQ,cAE3B+D,EAAc8G,YAAY,OAAQ,CAChCpZ,KAAM,SACNqZ,WAAY,CACV3Q,GAAI,CAAE1I,KAAM,UACZ2I,MAAO,CAAE3I,KAAM,UACfkV,SAAU,CAAElV,KAAM,YAEpBuO,SAAU,CAAC,KAAM,QAAS,cAE5B+D,EAAc8G,YAAY,QAAS,CACjCpZ,KAAM,SACNqZ,WAAY,CACV3Q,GAAI,CAAE1I,KAAM,UACZI,KAAM,CAAEJ,KAAM,UACdkV,SAAU,CAAElV,KAAM,WAClB8K,QAAS,CAAE9K,KAAM,UACjB6K,QAAS,CAAE7K,KAAM,UACjB8L,QAAS,CAAE9L,KAAM,QAASsZ,MAAO,UACjCnE,UAAW,CAAEnV,KAAM,WACnBoV,cAAe,CAAEpV,KAAM,WACvByZ,eAAgB,CAAEzZ,KAAM,WAE1BuO,SAAU,CAAC,KAAM,UAEnB+D,EAAc8G,YAAY,MAAO,CAC/BpZ,KAAM,SACNqZ,WAAY,CACV3Q,GAAI,CAAE1I,KAAM,UACZiL,KAAM,CAAEjL,KAAM,UACdkL,OAAQ,CAAElL,KAAM,UAChBqL,WAAY,CAAErL,KAAM,UACpBoL,eAAgB,CAAEpL,KAAM,UACxB2V,aAAc,CAAE3V,KAAM,QAASsZ,MAAO,SAAUC,QAAS,IAE3DhL,SAAU,CAAC,KAAM,UAGnB,IAAMlQ,EAAsBvB,OAAO6P,OACjC,IAAI,GAAmB2F,EAAe,OAAQ,IAAI,GAClD,CACEvP,WADF,SACcc,GAAgB,OAAO,IAAI,GAAwByO,EAAe,YAAazO,EAAK6E,KAChGzF,OAFF,SAEUY,GAAgB,OAAO,IAAI,GAAoByO,EAAe,QAASzO,EAAK6E,KACpF1F,MAHF,SAGSa,GAAgB,OAAO,IAAI,GAAmByO,EAAe,OAAQzO,EAAK6E,KACjF8C,OAJF,SAIU3H,GAAgB,OAAO,IAAI,GAAoByO,EAAe,QAASzO,EAAK6E,IAAI,IACxFgR,KALF,SAKQC,GAAkB,OAAO,IAAI,GAAkBrH,EAAe,MAAOqH,EAAMjR,KACjFkR,SANF,SAMYpW,GACR8O,EAAc5N,GAAG,UAAU,SAAAlG,GAAC,OAAIgF,EAAQhF,SAK9C,MAAO,CAAEH,aAIPwb,GAAgB,IAAI,KAAc,CACtCC,SAAS,EACTC,aAAc,CACZ1X,QAAQ,EACR2X,QAAQ,EACRC,OAAO,EACPC,UAAU,GAEZ9c,QAAS,CAAC6b,MAGNkB,GAAiBN,GAAsBO,YAE7CP,GAAcQ,OAAOC,MAAM,cAAe,MAE1C,IAAM,GAAS,IAAI,KAAOT,GAAe,CAAEC,SAAS,IAoBpD,SAASS,GAA6BxC,EAAWnG,GAAuB,IAAf4I,EAAe,wDACtE,IAAK5I,EAAIlJ,GACP,MAAMjJ,MAAM,qBAEd,IAAMgb,EAAM1C,EAAK2C,WAAU,SAAAlc,GAAC,OAAIA,EAAEkK,KAAOkJ,EAAIlJ,MAC7C,GAAI+R,EAAM,EAAG,CACX,IAAME,EAAUH,EAAUzC,EAAK2C,WAAU,SAAAlc,GAAC,eAAI,UAACA,EAAE0U,mBAAH,QAAkB,IAAlB,UAAwBtB,EAAIsB,mBAA5B,QAA2C,MACrF6E,EAAK2C,WAAU,SAAAlc,GAAC,eAAI,UAACA,EAAE0U,mBAAH,QAAkB,IAAlB,UAAwBtB,EAAIsB,mBAA5B,QAA2C,MAC7D0H,EAAaJ,EAAU,EAAIzC,EAAKlb,OAChCge,EAAYF,EAAU,EAAIC,EAAaD,EAE7C,OADA5C,EAAKha,OAAO8c,EAAW,EAAGjJ,GACnB,CAAEpE,OAAO,EAAMhE,MAAOqR,GAG7B,OADA9C,EAAKha,OAAO0c,EAAK,EAAG7I,GACb,CAAEpE,OAAO,EAAOhE,MAAOiR,GAhClCZ,GAAcnV,GAAG,aAAa,WAC5B,IAAMoW,EAAcjB,GAAcG,OAAOc,YACzC3Y,QAAQ4R,MAAR,UAAiB+G,EAAjB,wCAGFjB,GAAcnV,GAAG,SAAS,WACxB,IAAMoW,EAAcjB,GAAcG,OAAOc,YACzC3Y,QAAQ4R,MAAR,UAAiB+G,EAAjB,gCAGFjB,GAAcnV,GAAG,mBAAmB,WAClCvC,QAAQ4R,MAAM,yBAGhB8F,GAAcnV,GAAG,kBAAkB,WACjCvC,QAAQ4R,MAAM,iCAqBhB,IAAMgH,GAAQ,IAAI,OAAKC,MAAM,CAC3BtV,MAAO,IAAI,GACXuV,QAAS,CACPjG,uBADO,SACiBtP,GAAgB,QACtC,OAAO,oBAACA,EAAM5C,eAAP,aAAC,EAAeC,kBAAhB,QAA8B,IAAI2G,QAAO,SAAA9I,GAAC,OAAIA,EAAEsU,UAAYtU,EAAE0U,aAEvEQ,0BAJO,SAIoBpQ,GAAgB,QACzC,OAAO,oBAACA,EAAM5C,eAAP,aAAC,EAAeC,kBAAhB,QAA8B,IAAI2G,QAAO,SAAA9I,GAAC,OAAIA,EAAEsU,WAAatU,EAAE0U,aAExEwD,aAPO,SAOOpT,GAAgB,QAC5B,OAAO,oBAACA,EAAM5C,eAAP,aAAC,EAAeG,cAAhB,QAA0B,IAAIyG,QAAO,SAAA9I,GAAC,OAAIA,EAAEsU,aAErD0D,YAVO,SAUMlT,GAAgB,QAC3B,OAAO,oBAACA,EAAM5C,eAAP,aAAC,EAAeE,aAAhB,QAAyB,IAAI0G,QAAO,SAAA9I,GAAC,OAAIA,EAAEsU,cAGtDgG,UAAW,CACTC,QADS,SACAzV,EAAkB7B,GAAY,MACrC0W,GAAU7U,EAAMwD,MAAOrF,GAAM,GAC7B6B,EAAM5C,QAAU,CACde,OACAd,WAAY,GACZE,OAAQ,GACRD,MAAO,GACPwI,OAAQ,GACRqL,YAAa,EACb6C,KAAM,KAER,EAAAhU,EAAM0D,YAAWgS,WAAjB,uBAA+BvX,EAAKgF,QAEtCwS,WAdS,SAcG3V,EAAkBwD,GAE5B,OADAxD,EAAMwD,MAAN,eAAkBA,GACXxD,GAETqD,SAlBS,SAkBCrD,EAlBD,GA0BR,MAR6B7B,EAQ7B,EAR6BA,KAAMd,EAQnC,EARmCA,WAAYE,EAQ/C,EAR+CA,OAAQD,EAQvD,EARuDA,MAAOwI,EAQ9D,EAR8DA,OAAQqL,EAQtE,EARsEA,WAAY6C,EAQlF,EARkFA,KASjFhU,EAAM5C,QAAU,CAAEe,OAAMd,aAAYE,SAAQD,QAAOwI,SAAQqL,aAAY6C,SACvE,EAAAhU,EAAM0D,YAAWgS,WAAjB,uBAA+BvX,EAAKgF,QAEtCI,WA9BS,SA8BGvD,EAAkBgD,GAAU,SAClC,UAAAhD,EAAM5C,eAAN,mBAAee,YAAf,eAAqB6E,MAAOA,IAC9BhD,EAAM5C,aAAUxC,GAElB,IAAMma,EAAM/U,EAAMwD,MAAMwR,WAAU,SAAAxK,GAAC,OAAIA,EAAExH,KAAOA,KAC5C+R,GAAO,GACT/U,EAAMwD,MAAMnL,OAAO0c,EAAK,IAG5BtV,UAvCS,SAuCEO,GACTA,EAAM5C,aAAUxC,EAChBoF,EAAM0D,WAAWkS,gBAEnBrG,YA3CS,SA2CIvP,EAAkB6V,GAAe,MAC5C,GAAI,UAAC7V,EAAM5C,eAAP,QAAC,EAAee,KAClB,MAAMpE,MAAM,kBAEd8a,GAAU7U,EAAM5C,QAAQ0I,OAAQ+P,IAElCC,UAjDS,SAiDE9V,EAjDF,GAiDqE,MAA/C8D,EAA+C,EAA/CA,MAAOkQ,EAAwC,EAAxCA,KACpC,GAAI,UAAChU,EAAM5C,eAAP,QAAC,EAAee,KAClB,MAAMpE,MAAM,kBAEdiG,EAAM5C,QAAQ+T,WAAarN,EAC3B9D,EAAM5C,QAAQ4W,KAAOA,GAEvBlE,gBAxDS,SAwDQ9P,EAAkB6V,GACjC,IAAK7V,EAAM5C,QACT,MAAMrD,MAAM,kBAEd8a,GAAU7U,EAAM5C,QAAQC,WAAYwY,IAEtCtF,YA9DS,SA8DIvQ,EAAkB6V,GAC7B,IAAK7V,EAAM5C,QACT,MAAMrD,MAAM,kBAEd8a,GAAU7U,EAAM5C,QAAQG,OAAQsY,IAElCxF,WApES,SAoEGrQ,EAAkB6V,GAAc,MAC1C,GAAI,UAAC7V,EAAM5C,eAAP,QAAC,EAAee,KAClB,MAAMpE,MAAM,kBAEd8a,GAAU7U,EAAM5C,QAAQE,MAAOuY,IAEjC3F,eA1ES,SA0EOlQ,EAAkB6V,GAChC,IAAK7V,EAAM5C,QACT,MAAMrD,MAAM,kBAEd8a,GAAU7U,EAAM5C,QAAQ4W,KAAM6B,KAGlCE,QAAS,CACDtS,eADC,YAC2B,kKAAVuS,EAAU,EAAVA,SAAU,SAC1BA,EAAS,gBAAiB,CAAEtb,KAAM,SAAUyI,KAAM,CAAC,aADzB,uBAE1B6S,EAAS,kBAAmB,CAAExG,UAAU,EAAMI,UAAU,EAAMlV,KAAM,kBAF1C,uBAG1Bsb,EAAS,kBAAmB,CAAExG,UAAU,EAAMI,UAAU,EAAMlV,KAAM,oBAH1C,uBAI1Bsb,EAAS,kBAAmB,CAAExG,UAAU,EAAMI,UAAU,EAAMlV,KAAM,kBAJ1C,wBAK1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,wDARwB,yBAU1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,kDAbwB,yBAe1Bsb,EAAS,kBAAmB,CAAExG,UAAU,EAAMI,UAAU,EAAOlV,KAAM,2CAf3C,yBAgB1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,iEAnBwB,yBAqB1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,kDAxBwB,yBA0B1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,gEA7BwB,yBA+B1Bsb,EAAS,kBAAmB,CAAExG,UAAU,EAAMI,UAAU,EAAOlV,KAAM,8BA/B3C,yBAgC1Bsb,EAAS,kBAAmB,CAAExG,UAAU,EAAMI,UAAU,EAAOlV,KAAM,sBAhC3C,yBAiC1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,mGApCwB,yBAsC1Bsb,EAAS,kBAAmB,CAAExG,UAAU,EAAMI,UAAU,EAAOlV,KAAM,4CAtC3C,yBAuC1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,qEA1CwB,yBA4C1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,sFA/CwB,yBAiD1Bsb,EAAS,kBAAmB,CAChCxG,UAAU,EACVI,UAAU,EACVlV,KAAM,sEApDwB,yBAsD1Bsb,EAAS,aAAc,CAAExG,UAAU,EAAMvM,MAAO,4CAtDtB,yBAuD1B+S,EAAS,aAAc,CAAExG,UAAU,EAAMvM,MAAO,kBAvDtB,yBAwD1B+S,EAAS,aAAc,CAAExG,UAAU,EAAMvM,MAAO,kBAxDtB,yBAyD1B+S,EAAS,aAAc,CAAExG,UAAU,EAAMvM,MAAO,2BAzDtB,yBA0D1B+S,EAAS,cAAe,CAAExG,UAAU,EAAM9U,KAAM,gDA1DtB,yBA2D1Bsb,EAAS,cAAe,CAC5BxG,UAAU,EACV9U,KAAM,yFA7DwB,yBA+D1Bsb,EAAS,cAAe,CAAExG,UAAU,EAAM9U,KAAM,iCA/DtB,yBAgE1Bsb,EAAS,cAAe,CAAExG,UAAU,EAAM9U,KAAM,qDAhEtB,yBAiE1Bsb,EAAS,cAAe,CAAExG,UAAU,EAAM9U,KAAM,4DAjEtB,yBAkE1Bsb,EAAS,cAAe,CAC5Btb,KAAM,uBACN0K,QAAS,6EACTD,QAAS,0XArEqB,yBA0E1B6Q,EAAS,cAAe,CAC5Btb,KAAM,+CACN0K,QAAS,iDACTD,QAAS,4PA7EqB,yBAiF1B6Q,EAAS,aAAc,mDAjFG,yBAkF1BA,EAAS,cAAe,CAC5Btb,KAAM,2BACN0K,QAAS,uCACTD,QAAS,gjBArFqB,yBA4F1B6Q,EAAS,cAAe,CAC5Btb,KAAM,uBACN0K,QAAS,gHAETD,QAAS,6KAhGqB,yBAmG1B6Q,EAAS,cAAe,CAC5Btb,KAAM,6BACN0K,QAAS,GACTD,QAAS,q4BAtGqB,yBAoH1B6Q,EAAS,cAAe,CAC5Btb,KAAM,8BACN0K,QAAS,GACTD,QAAS,i0BAvHqB,yBAiI1B6Q,EAAS,cAAe,CAC5Btb,KAAM,GACN0K,QAAS,GACTD,QAAS,KApIqB,yBAuI1B6Q,EAAS,gBAAiB,CAAEtb,KAAM,YAAayI,KAAM,CAAC,aAvI5B,QAwIvBlM,EAAI,EAxImB,aAwIhBA,EAAI,GAxIY,6BAyIxB+e,EAzIwB,KA0ItB7M,KA1IsB,UA8IpB6M,EAAS,YAAa,CAAErN,MAAO,WAAYxF,KAAM,CAAC,cA9I9B,qCA+IpB6S,EAAS,YAAa,CAAErN,MAAO,WAAYxF,KAAM,CAAC,cA/I9B,qCAgJpB6S,EAAS,YAAa,CAAErN,MAAO,WAAYxF,KAAM,CAAC,cAhJ9B,uDA0I5BzI,KA1I4B,KA2I5B8U,UAAU,EACVI,UAAU,EACVxJ,QA7I4B,yBAyIf,kBAzIe,cAwITnP,IAxIS,wBAoJvB,EAAI,EApJmB,aAoJhB,EAAI,GApJY,8BAqJxB+e,EArJwB,KAsJtB7M,KAtJsB,UA0JpB6M,EAAS,YAAa,CAAErN,MAAO,WAAYxF,KAAM,CAAC,cA1J9B,sCA2JpB6S,EAAS,YAAa,CAAErN,MAAO,WAAYxF,KAAM,CAAC,cA3J9B,wCA4JpB6S,EAAS,YAAa,CAAErN,MAAO,WAAYxF,KAAM,CAAC,cA5J9B,6DAsJ5BzI,KAtJ4B,KAuJ5B8U,UAAU,EACVI,UAAU,EACVxJ,QAzJ4B,2BAqJf,kBArJe,6BA+JxB4P,EA/JwB,WA+JcA,EAAS,YAAa,CAAErN,MAAO,mBA/J7C,oCA+JEjO,KA/JF,MA+JkE8U,UAAU,GA/J5E,qBA+Jf,cA/Je,6BAgKxBwG,EAhKwB,WAgKcA,EAAS,YAAa,CAAErN,MAAO,WAhK7C,oCAgKC1F,MAhKD,MAgK0DuM,UAAU,GAhKpE,qBAgKf,aAhKe,gBAoJT,IApJS,2CAkK1BwG,EAAS,cAAe,CAC5Btb,KAAM,mCACN0K,QAAS,gKACTD,QAAS,mFArKqB,SAuKvB,EAAI,EAvKmB,cAuKhB,EAAI,GAvKY,oCAwKxB6Q,EAAS,eAxKe,SAuKT,IAvKS,4CA0K1BA,EAAS,cAAe,CAC5Btb,KAAM,KA3KwB,SA6KvB,EAAI,EA7KmB,cA6KhB,EAAI,GA7KY,oCA8KxBsb,EAAS,eA9Ke,SA6KT,IA7KS,4CAgL1BA,EAAS,oBAhLiB,2BAkL1BA,EAAS,gBAAiB,CAC9Btb,KAAM,yCACNyI,KAAM,CAAC,UAAW,YAAa,UAAW,aApLZ,2BAsL1B6S,EAAS,cAAe,CAC5BlS,OAAQ,EACRpJ,KAAM,iBACN0K,QAAS,4FAzLqB,2BA4L1B4Q,EAAS,aAAc,CAAExG,UAAU,EAAMvM,MAAO,aA5LtB,2BA6L1B+S,EAAS,kBAAmB,CAAExG,UAAU,EAAMI,UAAU,EAAMlV,KAAM,oBA7L1C,2BA+L1Bsb,EAAS,iBAAkB,CAAEzQ,KAAM,cAAeI,WAAY,oDA/LpC,2BAgM1BqQ,EAAS,iBAAkB,CAC/BzQ,KAAM,cACNI,WAAY,8FAlMkB,gDAqM5BsQ,cAtMC,WAsMiC9X,GAAY,0JAA7B+X,EAA6B,EAA7BA,OAA6B,EAArBlW,MAAqB,KAClDkW,EADkD,SAC1BzB,GAAa0B,KAAKhY,GADQ,4BAC3C,UAD2C,oDAG9CiY,eAzMC,YAyMyB,0JAARF,EAAQ,EAARA,OAAQ,KAC9BA,EAD8B,SACFzB,GAAapC,OADX,mBACmByC,WADnB,QACvB,aADuB,oDAG1BuB,cA5MC,WA4M0BrT,GAAE,kLAAZkT,EAAY,EAAZA,OAAY,SACdzB,GAAajZ,IAAIwH,GADH,cAC3B7E,EAD2B,OAE3BmY,EAAmB7B,GAAapX,WAAWc,GAAMkU,OACjDkE,EAAgB9B,GAAalX,OAAOY,GAAMkU,OAC1CmE,EAAe/B,GAAanX,MAAMa,GAAMkU,OACxCoE,EAAgBhC,GAAa3O,OAAO3H,GAAMkU,OALf,UAM3BnZ,QAAQ8B,IAAI,CAACsb,EAAkBC,EAAeC,EAAcC,IANjC,yBAQzBH,EARyB,eAO1BjZ,EAP0B,iBASzBkZ,EATyB,eAOdhZ,EAPc,iBAUzBiZ,EAVyB,eAONlZ,EAPM,iBAWzBmZ,EAXyB,WAOC3Q,EAPD,OAa3BqL,EAAarL,EAAO3O,OAAS,EAC7B8c,EAAQ9C,GAAc,EAAIrL,EAAOqL,QAAcvW,GACxCqZ,EAfsB,CAAF,iCAeNQ,GAAaT,KAAKC,GAAO5B,OAfnB,iDAe4B,GAf5B,QAe3B2B,EAf2B,KAgBjCkC,EAAO,WAAY,CAAE/X,OAAMd,aAAYE,SAAQD,QAAOwI,SAAQqL,aAAY6C,SAhBzC,+CAkB7BzQ,WA9NC,WA8NuBP,GAAE,0JAAZkT,EAAY,EAAZA,OAAY,SACxBzB,GAAa3R,OAAOE,GADI,OAE9BkT,EAAO,aAAclT,GAFS,8CAIhCpD,iBAlOO,YAkOqB,IAARsW,EAAQ,EAARA,OAClBA,EAAO,cAEH3G,YArOC,WAqOyCmH,GAAgB,8JAA3CR,OAAQlW,EAAmC,EAAnCA,MAAOgW,EAA4B,EAA5BA,SAC7BhW,EAAM5C,QADqD,CAAF,qBACpCrD,MAAM,kBAD8B,cAExD+N,GAAS4O,EAAQ1T,GAFuC,SAGxDyR,GAAa3O,OAAO9F,EAAM5C,QAAQe,MAAMgY,KAAKO,GAHW,WAI1D5O,EAJ4D,CAAF,uBAKtDhE,EAAQ9D,EAAM5C,QAAQ0I,OAAOkP,WAAU,SAAAzc,GAAC,OAAIA,EAAEyK,KAAO0T,EAAQ1T,MALP,UAMtDgT,EAAS,YAAalS,GANgC,+CAS1DgS,UA9OC,WA8O6BhS,GAAa,0JAA9BoS,EAA8B,EAA9BA,OAAQlW,EAAsB,EAAtBA,MACpBA,EAAM5C,QADsC,CAAF,qBACrBrD,MAAM,kBADe,cAE/Cmc,EAAO,YAAa,CAAEpS,QAAOkQ,KAAM,KAFY,SAG5BS,GAAaT,KAAKhU,EAAM5C,QAAQ0I,OAAOhC,IAAQuO,OAHnB,OAGzC2B,EAHyC,OAI/CkC,EAAO,YAAa,CAAEpS,QAAOkQ,SAJkB,8CAM3ClE,gBApPC,WAoPmC4G,GAAoB,wJAArCR,OAAQlW,EAA6B,EAA7BA,MAC1BA,EAAM5C,QADmD,CAAF,qBAClCrD,MAAM,kBAD4B,uBAEtD0a,GAAapX,WAAW2C,EAAM5C,QAAQe,MAAMgY,KAAKO,GAFK,8CAIxDnG,YAxPC,WAwP+BmG,GAAgB,wJAAjCR,OAAQlW,EAAyB,EAAzBA,MACtBA,EAAM5C,QAD2C,CAAF,qBAC1BrD,MAAM,kBADoB,uBAE9C0a,GAAalX,OAAOyC,EAAM5C,QAAQe,MAAMgY,KAAKO,GAFC,8CAIhDxG,eA5PC,WA4PkCwG,GAAc,0JAA/BR,OAAQlW,EAAuB,EAAvBA,MACzBA,EAAM5C,QAD4C,CAAF,qBAC3BrD,MAAM,kBADqB,cAE/Cka,EAAQjU,EAAM5C,QAAQ0I,OAAO9F,EAAM5C,QAAQ+T,YAFI,SAG/CsD,GAAaT,KAAKC,GAAOkC,KAAKO,GAHiB,8CAKjDrG,WAjQC,WAiQ8BqG,GAAe,wJAAhCR,OAAQlW,EAAwB,EAAxBA,MACrBA,EAAM5C,QADyC,CAAF,qBACxBrD,MAAM,kBADkB,uBAE5C0a,GAAanX,MAAM0C,EAAM5C,QAAQe,MAAMgY,KAAKO,GAFA,8CAIpDC,iBArQO,WAqQsB3T,GAAU,IAAnBhD,EAAmB,EAAnBA,MAClB,IAAKA,EAAM5C,QAAS,MAAMrD,MAAM,kBAChC,IAAMoK,EAAMnE,EAAM5C,QAAQC,WAAWuZ,MAAK,SAAAle,GAAC,OAAIA,EAAEsK,KAAOA,KACxD,IAAKmB,EAAK,MAAM,IAAIpK,MAAJ,iCAAoCiJ,EAApC,MAChB,OAAOmB,GAET0S,YA3QO,WA2QiB7T,GAAU,IAAnBhD,EAAmB,EAAnBA,MACb,IAAKA,EAAM5C,QAAS,MAAMrD,MAAM,kBAChC,IAAMoK,EAAMnE,EAAM5C,QAAQE,MAAMsZ,MAAK,SAAAle,GAAC,OAAIA,EAAEsK,KAAOA,KACnD,IAAKmB,EAAK,MAAM,IAAIpK,MAAJ,4BAA+BiJ,EAA/B,MAChB,OAAOmB,GAET2S,aAjRO,WAiRkB9T,GAAU,IAAnBhD,EAAmB,EAAnBA,MACd,IAAKA,EAAM5C,QAAS,MAAMrD,MAAM,kBAChC,IAAMoK,EAAMnE,EAAM5C,QAAQG,OAAOqZ,MAAK,SAAAle,GAAC,OAAIA,EAAEsK,KAAOA,KACpD,IAAKmB,EAAK,MAAM,IAAIpK,MAAJ,6BAAgCiJ,EAAhC,MAChB,OAAOmB,GAET4S,aAvRO,WAuRkB/T,GAAU,IAAnBhD,EAAmB,EAAnBA,MACd,IAAKA,EAAM5C,QAAS,MAAMrD,MAAM,kBAChC,IAAMoK,EAAMnE,EAAM5C,QAAQ0I,OAAO8Q,MAAK,SAAAle,GAAC,OAAIA,EAAEsK,KAAOA,KACpD,IAAKmB,EAAK,MAAM,IAAIpK,MAAJ,6BAAgCiJ,EAAhC,MAChB,OAAOmB,GAET6S,WA7RO,WA6RgBhU,GAAU,IAAnBhD,EAAmB,EAAnBA,MACZ,IAAKA,EAAM5C,QAAS,MAAMrD,MAAM,kBAChC,IAAMoK,EAAMnE,EAAM5C,QAAQ4W,KAAK4C,MAAK,SAAAle,GAAC,OAAIA,EAAEsK,KAAOA,KAClD,IAAKmB,EAAK,MAAM,IAAIpK,MAAJ,2BAA8BiJ,EAA9B,MAChB,OAAOmB,GAEHuM,aAnSC,WAmSkCgG,GAAe,4JAAlCV,EAAkC,EAAlCA,SAAUhW,EAAwB,EAAxBA,MACzBA,EAAM5C,QAD6C,CAAF,qBAC5BrD,MAAM,kBADsB,UAEhDiG,EAAM5C,QAAQ+T,aAAenR,EAAM5C,QAAQ0I,OAAO3O,OAAS,EAFT,CAAF,qBAEqB4C,MAAM,qBAF3B,cAGlDkd,EAAS,GACPC,EAAS3Q,KAAKE,SAElBwQ,EADEC,EAAS,GACF,qBACAA,EAAS,GACT,MACAA,EAAS,GACT,eACAA,EAAS,GACT,eACAA,EAAS,GACT,MAEA,qBAhB2C,UAkBhDlB,EAAS,iBAAkB,CAAEzQ,KAAM,yBAA0BI,WAAY+Q,EAAU,IAAMO,IAlBzC,aAmBlD1Q,KAAKE,SAAW,IAnBkC,kCAoB9CuP,EAAS,eApBqC,+CAuBlDlF,YA1TC,YA0TwC,wLAA1BkF,EAA0B,EAA1BA,SAAUT,EAAgB,EAAhBA,QAASvV,EAAO,EAAPA,MACjCA,EAAM5C,QADoC,CAAF,qBACnBrD,MAAM,kBADa,UAEvCiG,EAAM5C,QAAQ+T,aAAenR,EAAM5C,QAAQ0I,OAAO3O,OAAS,EAFlB,CAAF,qBAE8B4C,MAAM,qBAFpC,OAGzC4L,EAAa,GAH4B,UAMrCwR,EAAO5Q,KAAKC,MAAsB,IAAhBD,KAAKE,UAAkB,IAC3C0Q,GAAQ,GAP+B,iBAQzCxR,EAAa,qBAR4B,6BAShCwR,GAAQ,IATwB,oBAUQ,IAA7C5B,EAAQnF,0BAA0BjZ,OAVG,uDAanC4L,EAAoBsD,EAAUkP,EAAQnF,2BAC5CzK,EAAa,kBAAoB5C,EAAKrI,KAAO,IAC7C0c,EAAiBrU,EAAKqD,QAfmB,6BAgBhC+Q,GAAQ,IAhBwB,kCAiBnCnB,EAAS,kBAAmB,CAAEtb,KAAMyO,KAAcqG,UAAU,EAAMI,UAAU,IAjBzC,QAkBnCyH,EAAU9B,EAAQnF,0BAA0BjZ,OAAS,EACrD,EAAoBoe,EAAQnF,0BAA0BiH,GAC5D1R,EAAa,gBAAkB,EAAKjL,KAAO,IAC3C0c,EAAiB,EAAKhR,QArBmB,6BAsBhC+Q,GAAQ,IAtBwB,oBAuBQ,IAA7C5B,EAAQnF,0BAA0BjZ,OAvBG,0DA0BN,IAA/Boe,EAAQrC,YAAY/b,OA1BiB,uDA6BnC,EAAekP,EAAUkP,EAAQrC,aACvCvN,EAAa,+BAAiC,EAAK1C,MAAQ,IA9BlB,6BA+BhCkU,GAAQ,IA/BwB,oBAgCN,IAA/B5B,EAAQrC,YAAY/b,OAhCiB,uDAmCnC,EAAekP,EAAUkP,EAAQrC,aACvCvN,EAAa,6BAA+B,EAAK1C,MAAQ,IApChB,6BAqChCkU,GAAQ,IArCwB,oBAsCN,IAA/B5B,EAAQrC,YAAY/b,OAtCiB,uDAyCnC,EAAekP,EAAUkP,EAAQrC,aACvCvN,EAAa,sBAAwB,EAAK1C,MAAQ,IA1CT,6BA2ChCkU,GAAQ,IA3CwB,oBA4CK,IAA1C5B,EAAQjG,uBAAuBnY,OA5CM,uDA+CnC,EAAoBkP,EAAUkP,EAAQjG,wBAC5C3J,EAAa,iCAAmC,EAAKjL,KAAO,IAC5D0c,EAAiB,EAAKhR,QAjDmB,6BAkDhC+Q,GAAQ,IAlDwB,oBAmDK,IAA1C5B,EAAQjG,uBAAuBnY,OAnDM,uDAsDnC,EAAoBkP,EAAUkP,EAAQjG,wBAC5C3J,EAAa,iCAAmC,EAAKjL,KAAO,IAC5D0c,EAAiB,EAAKhR,QAxDmB,6BAyDhC+Q,GAAQ,IAzDwB,iBA0DzCxR,EAAa,mBA1D4B,6BA2DhCwR,GAAQ,IA3DwB,oBA4DQ,IAA7C5B,EAAQnF,0BAA0BjZ,OA5DG,uDA+DnC,EAAoBkP,EAAUkP,EAAQnF,2BAC5CzK,EAAa,kCAAoC,EAAKjL,KAAO,IAC7D0c,EAAiB,EAAKhR,QAjEmB,2BAmEQ,IAA7CmP,EAAQnF,0BAA0BjZ,OAnEG,uDAsEnC,EAAoBkP,EAAUkP,EAAQnF,2BAC5CzK,EAAa,kCAAoC,EAAKjL,KAAO,IAC7D0c,EAAiB,EAAKhR,QAxEmB,iDA4EV,QAAd,EAAAgR,SAAA,SAAgBjgB,QAAUoP,KAAKE,SAAW,IA5ElB,sBA4EwB,CAACJ,EAAU+Q,IA5EnC,yCA6ErCpB,EAAS,YAAa,CAAErN,MAAO,aA7EM,qCA8ErCqN,EAAS,YAAa,CAAErN,MAAO,oBA9EM,oDA4EvCsH,EA5EuC,gBAgFvC+F,EAAS,iBAAkB,CAAEzQ,KAAM,cAAeI,aAAYsK,iBAhFvB,gDAkFzCrH,UA5YC,cA+YuD,kKAF1D5I,EAE0D,EAF1DA,MAEO6J,EAAmD,EAA1DlB,MAA0D,IAA9CxF,YAA8C,MAAvC,GAAuC,8BAErDnD,EAAM0D,WAAWkF,UAAUiB,EAAK1G,UAFqB,QAEZ,OAFY,8CAIxDyN,WAnZC,WAmZgCD,GAAe,wJAAlCqF,EAAkC,EAAlCA,SAAUhW,EAAwB,EAAxBA,MACvBA,EAAM5C,QAD2C,CAAF,qBAC1BrD,MAAM,kBADoB,UAE9CiG,EAAM5C,QAAQ+T,aAAenR,EAAM5C,QAAQ0I,OAAO3O,OAAS,EAFX,CAAF,qBAEuB4C,MAAM,qBAF7B,uBAG9Cic,EAAS,iBAAkB,CAAEzQ,KAAM,kBAAmBG,eAAgBiL,IAHxB,8CAKtDrS,wBAxZO,YAwZ4B,EAAR4X,OACzB,GAAOoB,OAAO,yBAEVlO,KA3ZC,YA2ZgC,8JAAzBpJ,EAAyB,EAAzBA,MAAOgW,EAAkB,EAAlBA,SAAUE,EAAQ,EAARA,OAAQ,SAC/BF,EAAS,kBADsB,OAErCvB,GAAaP,UAAS,SAAApb,GAAI,QACxB2D,QAAQ4R,MAAM,WAAavV,EAAEye,aAAcze,GAC3C,IAAM0e,EAAO1e,EAAEye,aAAa5Q,MAAM,KAC5B8Q,EAAwB,aAAb3e,EAAE4e,SAA0B,OAAD5e,QAAC,IAADA,GAAA,UAAAA,EAAG6e,gBAAH,eAAanK,cAAb,OAA2B1U,QAA3B,IAA2BA,GAA3B,UAA2BA,EAAG2e,gBAA9B,aAA2B,EAAajK,aAAc1U,EAAE6e,SAAW7e,EAAE2e,SAEjH,GAAoB,IAAhBD,EAAKrgB,OAEPsF,QAAQ4R,MAAM,mBACd2H,EAAS,uBACJ,GAAIld,EAAE2e,SAAU,SAEfG,EAASJ,EAAK3a,MAAM,EAAG,GAAGyG,KAAK,KACrC,IAAS,OAALtD,QAAK,IAALA,GAAA,UAAAA,EAAO5C,eAAP,mBAAgBe,YAAhB,eAAsB6E,MAAO4U,EAC/B,GAAoB,IAAhBJ,EAAKrgB,OAEP,OAAQqgB,EAAK,IACX,IAAK,aACH,OAAOtB,EAAO,kBAAmBuB,GACnC,IAAK,SACH,OAAOvB,EAAO,cAAeuB,GAC/B,IAAK,QACH,OAAOvB,EAAO,aAAcuB,GAC9B,cAEG,GAAID,EAAKrgB,QAAU,EAAG,aAGrB0gB,EAAiBL,EAAK3a,MAAM,EAAG,GAAGyG,KAAK,KACvCwU,EAAa,OAAG9X,QAAH,IAAGA,GAAH,UAAGA,EAAO5C,eAAV,aAAG,EAAgB0I,OAChCD,EAAiB,iBAAG7F,QAAH,IAAGA,GAAH,UAAGA,EAAO5C,eAAV,aAAG,EAAgB+T,kBAAnB,SAAkC,EACnD4G,EAAc,OAAGD,QAAH,IAAGA,GAAH,UAAGA,EAAgBjS,UAAnB,aAAG,EAAoC7C,GAC3D,OAAQwU,EAAK,IACX,IAAK,UACH,OAAOtB,EAAO,cAAeuB,GAC/B,IAAK,OACH,GAAIM,IAAmBF,EACrB,OAAO3B,EAAO,iBAAkBuB,GAElC,MACF,eAGFhb,QAAQ3C,MAAM,mBAAoB0d,OAK1CrD,GAAc6D,QAAQC,OAAO,iBAjDQ,+CAoDzCvgB,QAAS,KAGI,MAEfyc,GAAcnV,GAAG,SAAS,kBAAMqW,GAAMW,SAAS,WC9vB/C,OAAI1C,IAAI,QAER,IAAM4E,GAA6B,CACjC,CACEjK,KAAM,QACNvT,KAAM,OACN4F,UAAW,GACX6X,MAAO,IACPja,KAAM,CACJD,MAAO,oBAETma,YARF,SAQera,EAAIC,EAAMgT,GAAI,QACzBvU,QAAQkD,IAAI,iBAAZ,UAA8B,GAAMK,MAAM5C,eAA1C,aAA8B,EAAqBe,MACnD,UAAI,GAAM6B,MAAM5C,eAAhB,OAAI,EAAqBe,KACvB6S,IAEAA,EAAK,WAIX,CACE/C,KAAM,QACNvT,KAAM,WACN4F,UAAW+X,EACXna,KAAM,CACJD,MAAO,4BAGX,CACEgQ,KAAM,QACNvT,KAAM,OACN4F,UAAW,GACXpC,KAAM,CACJD,MAAO,sBAGX,CACEgQ,KAAM,SACNvT,KAAM,QACN4F,UAAWgY,GACXpa,KAAM,CACJD,MAAO,4BAGX,CACEgQ,KAAM,SACNvT,KAAM,QAIN4F,UAAW,kBAAM,0CAIfiY,GAAS,IAAI,OAAU,CAC3BL,YAGa,M,uBC/Df,OAAI5E,IAAI,SAEO,WAAI,QAAQ,CACzBtB,MAAO,CACLtH,QAAS,CACP8N,kBAAkB,GAEpBC,OAAQ,CACNC,MAAO,CACLC,QAAS,UACTC,UAAW,UACXC,OAAQ,UACR/e,MAAO,UACPgS,KAAM,UACNgN,QAAS,UACTC,QAAS,aAIfC,MAAO,CACLC,SAAU,KACVlV,OAAQ,CACNmV,OAAQ,eCnBd,OAAIC,OAAOC,eAAgB,EAE3B,IAAI,OAAI,CACNb,OAAA,GACAlD,MAAA,GACAgE,WACA9a,OAAQ,SAAA+a,GAAC,OAAIA,EAAEC,MACdC,OAAO","file":"js/app.347c630e.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"156802c0\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/gm-emulator/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddEvent.vue?vue&type=style&index=0&lang=sass&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=style&index=0&lang=sass&\"","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from 'vue'\nimport { mapActions, mapGetters, mapState } from 'vuex'\nimport GameBtn from '@/components/GameBtn.vue'\n\nexport default Vue.extend({\n  name: 'App',\n\n  components: {\n    GameBtn\n  },\n\n  data: () => ({\n    //\n  }),\n  computed: {\n    ...mapState(['current']),\n    ...mapGetters(['activePlayerCharacters', 'activeNonPlayerCharacters']),\n    disabled () {\n      return !(\n        this.current?.characters?.length || this.current?.goals?.length || this.current?.places?.length\n      )\n    },\n    footerText () {\n      return `Git Hash: '${process?.env?.VUE_APP_GIT_HASH ?? 'N/A'}'`\n    }\n  },\n  methods: {\n    ...mapActions(['showRemoteStorageWidget'])\n  },\n  watch: {\n    $route: {\n      handler (to, from) {\n        let title = to.meta.title || 'GM Emulator'\n        if (this?.current?.game) {\n          title += ' | ' + this.current.game.name\n        }\n        document.title = title\n      },\n      immediate: true\n    }\n  },\n  mounted () {\n    this.showRemoteStorageWidget()\n  }\n})\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tag.vue?vue&type=style&index=0&lang=sass&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.isHidden)?_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.onClick}},[(_vm.isGo)?_c('v-icon',[_vm._v(\"fas fa-scroll\")]):(_vm.isClose)?_c('v-icon',[_vm._v(\"fas fa-sign-out-alt\")]):(_vm.isLoad)?_c('v-icon',[_vm._v(\"far fa-folder-open\")]):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { mapActions, mapState } from 'vuex'\nimport Vue from 'vue'\nimport Component from 'vue-class-component'\nimport { VBtn, VIcon } from 'vuetify/lib'\n\n@Component({\n  components: { VBtn, VIcon },\n  methods: { ...mapActions(['closeCurrentGame']) },\n  computed: { ...mapState(['current']) }\n})\nexport default class GameBtn extends Vue {\n  /* Expose mapped store actions */\n  closeCurrentGame!: () => any\n\n  routeEquals (name: string): boolean {\n    return this.$route.name === name\n  }\n\n  routerPush (location: string) {\n    // eslint-disable-next-line dot-notation\n    // this['router'].push(location)\n    this.$router.push(location)\n  }\n\n  onClick () {\n    if (this.isGo) {\n      const location = '/game'\n      this.routerPush(location)\n    } else if (this.isClose) {\n      this.closeGame()\n    } else if (this.isLoad) {\n      this.routerPush('/load')\n    } else {\n      console.log('Unexpected state, shouldn\\'t be visible')\n    }\n  }\n\n  closeGame () {\n    this.closeCurrentGame()\n    this.routerPush('/load')\n  }\n\n  get isOnGamePage (): boolean {\n    const b = this.routeEquals('Game')\n    console.log('isOnGamePage:' + b)\n    return b\n  }\n\n  get isOnLoadPage (): boolean {\n    const b = this.routeEquals('LoadGame')\n    console.log('isOnLoadPage:' + b)\n    return b\n  }\n\n  get isGameLoaded (): boolean {\n    return !!this.$store.state.current?.game\n  }\n\n  get isGo (): boolean {\n    const b: boolean = this.isGameLoaded && !this.isOnGamePage\n    console.log('isGo: ' + b)\n    return b\n  }\n\n  get isClose (): boolean {\n    console.log('isGameLoaded: ' + this.isGameLoaded)\n    console.log('isOnGamePage: ' + this.isOnGamePage)\n    const b: boolean = this.isGameLoaded && this.isOnGamePage\n    console.log('isClose: ' + b)\n    return b\n  }\n\n  get isLoad (): boolean {\n    const b = !this.isGameLoaded\n    console.log('isLoad: ' + b)\n    return b\n  }\n\n  get isHidden (): boolean {\n    const b = !this.isGameLoaded && this.isOnLoadPage\n    console.log('isHidden: ' + b)\n    return b\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBtn.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GameBtn.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GameBtn.vue?vue&type=template&id=d93f88ee&\"\nimport script from \"./GameBtn.vue?vue&type=script&lang=ts&\"\nexport * from \"./GameBtn.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VBtn,VIcon})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-app-bar',{attrs:{\"clipped-left\":_vm.$vuetify.breakpoint.lgAndUp,\"app\":\"\",\"color\":\"primary\",\"dark\":\"\"}},[_c('v-icon',[_vm._v(\"fas fa-feather-alt\")]),_c('v-toolbar-title',{staticClass:\"ml-0 pl-4\",staticStyle:{\"width\":\"300px\"}},[_c('span',{staticClass:\"hidden-sm-and-down title\"},[_vm._v(\"GM Emulator\")]),(_vm.current)?_c('span',{staticClass:\"subtitle-1\"},[_c('span',{staticClass:\"hidden-sm-and-down\"},[_vm._v(\" — \")]),_vm._v(_vm._s(_vm.current.game.name))]):_vm._e()]),_c('v-spacer'),_c('v-toolbar-items',[(_vm.current && _vm.current.game && _vm.$route.name !== 'Lists')?_c('v-btn',{attrs:{\"icon\":\"\",\"to\":\"/lists\",\"disabled\":_vm.disabled}},[_c('v-icon',[_vm._v(\"far fa-list-alt\")])],1):_vm._e(),(_vm.$route.name !== 'Tags')?_c('v-btn',{attrs:{\"icon\":\"\",\"to\":\"/tags\"}},[_c('v-icon',[_vm._v(\"fas fa-tags\")])],1):_vm._e(),_c('game-btn')],1),_c('span',{attrs:{\"id\":\"remotestorage-widget\"}})],1),_c('v-main',[_c('v-container',[_c('router-view')],1)],1),_c('v-footer',{attrs:{\"app\":\"\"}},[_vm._v(_vm._s(_vm.footerText))])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=5b84a498&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VContainer } from 'vuetify/lib/components/VGrid';\nimport { VFooter } from 'vuetify/lib/components/VFooter';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VMain } from 'vuetify/lib/components/VMain';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VToolbarItems } from 'vuetify/lib/components/VToolbar';\nimport { VToolbarTitle } from 'vuetify/lib/components/VToolbar';\ninstallComponents(component, {VApp,VAppBar,VBtn,VContainer,VFooter,VIcon,VMain,VSpacer,VToolbarItems,VToolbarTitle})\n","/* eslint-disable no-console */\n\nimport { register } from 'register-service-worker'\n\nif (process.env.NODE_ENV === 'production') {\n  register(`${process.env.BASE_URL}service-worker.js`, {\n    ready () {\n      console.log(\n        'App is being served from cache by a service worker.\\n' +\n        'For more details, visit https://goo.gl/AFskqB'\n      )\n    },\n    registered () {\n      console.log('Service worker has been registered.')\n    },\n    cached () {\n      console.log('Content has been cached for offline use.')\n    },\n    updatefound () {\n      console.log('New content is downloading.')\n    },\n    updated () {\n      console.log('New content is available; please refresh.')\n    },\n    offline () {\n      console.log('No internet connection found. App is running in offline mode.')\n    },\n    error (error) {\n      console.error('Error during service worker registration:', error)\n    }\n  })\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',[_c('v-card-title',[_vm._v(\"Nouvelle Partie\")]),_c('v-card-text',[_c('v-form',{ref:\"newGameForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('v-text-field',{attrs:{\"label\":\"Nom\",\"rules\":_vm.nameRules()},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-autocomplete',{attrs:{\"items\":_vm.availableTags,\"item-text\":\"label\",\"item-value\":\"id\",\"search-input\":_vm.search,\"rules\":_vm.tagsRules(),\"data-DISABLED-menu-props\":\"closeOnClick\",\"dense\":\"\",\"label\":\"Tags\",\"multiple\":\"\",\"hide-selected\":\"\",\"hint\":\"Sélectionner des tags pour la partie\",\"outlined\":\"\"},on:{\"update:searchInput\":function($event){_vm.search=$event},\"update:search-input\":function($event){_vm.search=$event},\"input\":function($event){_vm.search = ''}},scopedSlots:_vm._u([{key:\"selection\",fn:function(data){return [_c('v-chip',_vm._b({attrs:{\"input-value\":data.selected,\"close\":\"\",\"small\":\"\"},on:{\"click:close\":function($event){return _vm.remove(data.item.id)}}},'v-chip',data.attrs,false),[_vm._v(\" \"+_vm._s(data.item.label)+\" (\"+_vm._s(_vm.countValues(data.item.id))+\") \")])]}},{key:\"item\",fn:function(data){return [_c('b',[_vm._v(_vm._s(data.item.label)+\" \")]),_c('small',[_vm._v(\" (entités: \"+_vm._s(_vm.countValues(data.item.id, '__entity'))+\", lieux: \"+_vm._s(_vm.countValues(data.item.id, '__place'))+\", objets: \"+_vm._s(_vm.countValues(data.item.id, '__object'))+\", actions: \"+_vm._s(_vm.countValues(data.item.id, '__action'))+\") \")])]}}]),model:{value:(_vm.tags),callback:function ($$v) {_vm.tags=$$v},expression:\"tags\"}})],1)],1),_c('v-card-actions',[_c('v-btn',{attrs:{\"type\":\"submit\",\"form\":\"newGameForm\"},on:{\"click\":function($event){return _vm.submit()}}},[_vm._v(\"OK\")])],1)],1),_c('v-card',{staticClass:\"mt-3\"},[_c('v-card-title',[_vm._v(\"Charger une partie\")]),_c('v-card-text',[_vm._l((_vm.games),function(item){return _c('ul',{key:item.id},[_c('li',[_c('a',{on:{\"click\":function($event){return _vm.loadGame(item.id)}}},[_vm._v(_vm._s(item.name)+\" \"),_c('small',[_vm._v(\"(\"+_vm._s(item.tags.join(', '))+\")\")])]),_c('a',{staticClass:\"ml-2\",on:{\"click\":function($event){return _vm.deleteGame(item.id)}}},[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"secondary\"}},[_vm._v(\"far fa-trash-alt\")])],1)])])}),(!_vm.games.length)?_c('i',[_vm._v(\"Aucune partie sauvegardée\")]):_vm._e()],2)],1),(_vm.enableDevUtils)?_c('v-card',{staticClass:\"mt-3\",attrs:{\"color\":\"#8fff96\"}},[_c('v-card-title',[_vm._v(\"Outils de dev\")]),_c('v-card-text',[_c('v-btn',{attrs:{\"x-small\":\"\"},on:{\"click\":function($event){return _vm.createFakeGame()}}},[_vm._v(\"Injecter des fausses données\")])],1)],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-card>\n      <v-card-title>Nouvelle Partie</v-card-title>\n      <v-card-text>\n        <v-form ref=\"newGameForm\" @submit.prevent=\"submit\">\n          <v-text-field label=\"Nom\" v-model=\"name\" :rules=\"nameRules()\"></v-text-field>\n          <v-autocomplete\n            v-model=\"tags\"\n            :items=\"availableTags\"\n            item-text=\"label\"\n            item-value=\"id\"\n            :search-input.sync=\"search\"\n            :rules=\"tagsRules()\"\n            @input=\"search = ''\"\n            data-DISABLED-menu-props=\"closeOnClick\"\n            dense\n            label=\"Tags\"\n            multiple\n            hide-selected\n            hint=\"Sélectionner des tags pour la partie\"\n            outlined>\n            <template v-slot:selection=\"data\">\n              <v-chip\n                v-bind=\"data.attrs\"\n                :input-value=\"data.selected\"\n                close\n                small\n                @click:close=\"remove(data.item.id)\"\n              >\n                {{ data.item.label }} ({{countValues(data.item.id)}})\n              </v-chip>\n            </template>\n            <template v-slot:item=\"data\">\n              <b>{{ data.item.label }} </b>\n              <small>\n                (entités: {{countValues(data.item.id, '__entity')}},\n                lieux: {{countValues(data.item.id, '__place')}},\n                objets: {{countValues(data.item.id, '__object')}},\n                actions: {{countValues(data.item.id, '__action')}})\n              </small>\n            </template>\n          </v-autocomplete>\n        </v-form>\n      </v-card-text>\n      <v-card-actions>\n        <v-btn type=\"submit\" form=\"newGameForm\" @click=\"submit()\">OK</v-btn>\n      </v-card-actions>\n    </v-card>\n    <v-card class=\"mt-3\">\n      <v-card-title>Charger une partie</v-card-title>\n      <v-card-text>\n        <ul v-for=\"item in games\" :key=\"item.id\">\n          <li>\n            <a @click=\"loadGame(item.id)\">{{ item.name }} <small>({{item.tags.join(', ')}})</small></a>\n            <a @click=\"deleteGame(item.id)\" class=\"ml-2\"><v-icon small color=\"secondary\">far fa-trash-alt</v-icon></a>\n          </li>\n        </ul>\n        <i v-if=\"!games.length\">Aucune partie sauvegardée</i>\n      </v-card-text>\n    </v-card>\n    <v-card class=\"mt-3\" color=\"#8fff96\" v-if=\"enableDevUtils\">\n      <v-card-title>Outils de dev</v-card-title>\n      <v-card-text>\n        <v-btn x-small @click=\"createFakeGame()\" >Injecter des fausses données</v-btn>\n      </v-card-text>\n    </v-card>\n  </div>\n</template>\n\n<script>\n\nimport data from '@/assets/data.json'\nimport { mapActions, mapState } from 'vuex'\n\nexport default {\n  name: 'LoadGame',\n  data () {\n    return {\n      name: 'Sans Nom',\n      search: '',\n      tags: []\n    }\n  },\n  computed: {\n    ...mapState(['games', 'tagStorage']),\n    availableTags () {\n      return this.tagStorage.getOptions('__theme').map(info => ({ id: info.tag ?? info.value, label: info.value ?? info.tag }))\n    },\n    enableDevUtils () {\n      return process.env.VUE_APP_ENABLE_DEV_UTILS === 'true'\n    }\n  },\n  methods: {\n    ...mapActions(['listSavedGames', 'deleteGame']),\n    remove (item) {\n      const index = this.tags.indexOf(item)\n      if (index >= 0) this.tags.splice(index, 1)\n    },\n    countValues (theme, type) {\n      if (type) {\n        return data.values.filter(x => (x.requires ?? []).includes(theme) && (x.isA ?? []).includes(type)).length\n      } else {\n        return data.values.filter(x => (x.requires ?? []).includes(theme)).length\n      }\n    },\n    countSelected (type) {\n      return this.tags.map(t => this.countValues(t, type)).reduce((a, b) => a + b, 0)\n    },\n    nameRules () {\n      const res = []\n      if (this.name.trim().length === 0) {\n        res.push('Choisir un nom')\n      }\n      return res\n    },\n    tagsRules () {\n      const res = []\n      if (this.tags.length === 0) {\n        res.push('Choisir au moins un tag')\n      }\n      const minCount = 0\n      const nbEntities = this.countSelected('__entity')\n      if (nbEntities < minCount) {\n        res.push(`Selectionner plus de tags (pas assez d'entités - ${nbEntities} / ${minCount})`)\n      }\n      const nbObjects = this.countSelected('__object')\n      if (nbObjects < minCount) {\n        res.push(`Selectionner plus de tags (pas assez d'objets - ${nbObjects} / ${minCount})`)\n      }\n      const nbPlaces = this.countSelected('__place')\n      if (nbPlaces < minCount) {\n        res.push(`Selectionner plus de tags (pas assez de lieux - ${nbPlaces} / ${minCount})`)\n      }\n      const nbActions = this.countSelected('__action')\n      if (nbActions < minCount) {\n        res.push(`Selectionner plus de tags (pas assez d'actions - ${nbActions} / ${minCount})`)\n      }\n      return res\n    },\n    async submit () {\n      if (!this.$refs.newGameForm.validate()) {\n        return false\n      }\n      await this.$store.dispatch('createNewGame', { name: this.name, tags: this.tags })\n      await this.$router.push('game')\n    },\n    async loadGame (id) {\n      await this.$store.dispatch('loadSavedGame', id)\n      await this.$router.push('game')\n    },\n    ...mapActions(['createFakeGame'])\n  },\n  async mounted () {\n    await this.listSavedGames()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadGame.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoadGame.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LoadGame.vue?vue&type=template&id=109d090f&scoped=true&\"\nimport script from \"./LoadGame.vue?vue&type=script&lang=js&\"\nexport * from \"./LoadGame.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"109d090f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCardActions,VCardText,VCardTitle,VChip,VForm,VIcon,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.current.game)?_c('div',[_c('div',{staticClass:\"display-1 d-inline-block\"},[_c('span',{staticClass:\"font-weight-bold\"},[_vm._v(_vm._s(_vm.current.game.name))]),_vm._v(\" \"),_c('small',{staticClass:\"text--secondary font-weight-light\"},[_vm._v(\"(\"+_vm._s(_vm.current.game.tags.join(\" / \"))+\")\")])]),_c('div',{staticClass:\"display-1 d-inline-block\"}),(_vm.tutorialStep < 6)?_c('v-alert',{staticClass:\"mb-2\",attrs:{\"type\":\"info\",\"text\":\"\",\"outlined\":\"\",\"dense\":\"\",\"border\":\"left\",\"color\":\"primary\"}},[_c('ul',[(_vm.tutorialStep === 0)?_c('li',[_c('edit-character'),_vm._v(\"Créez au moins un personnage joueur\")],1):_vm._e(),(_vm.tutorialStep > 0)?_c('li',[_vm._v(\"Ajoutez autant de personages que vous voulez, joueurs ou non\")]):_vm._e(),(_vm.tutorialStep === 2)?_c('li',[_c('edit-goal'),_vm._v(\"Créez au moins un objectif de groupe\")],1):_vm._e(),(_vm.tutorialStep > 2)?_c('li',[_vm._v(\"Ajoutez des objectifs au besoin\")]):_vm._e(),(_vm.tutorialStep === 3)?_c('li',[_c('edit-scene'),_vm._v(\"Vous pouvez maintenant créer une scène qui pourra utiliser ces éléments\")],1):_vm._e(),(_vm.tutorialStep > 3)?_c('li',[_vm._v(\"Quand la scène arrive à sa conclusion, créez-en une nouvelle.\")]):_vm._e(),(_vm.tutorialStep === 4)?_c('li',[_c('add-event'),_c('add-question'),_c('add-comment'),_vm._v(\"Ajouter des éléments à la scène\")],1):_vm._e(),(_vm.tutorialStep > 4)?_c('li',[_vm._v(\" Ajouter des éléments à la scène pour la dérouler jusqu'à sa conclusion\")]):_vm._e()])]):_vm._e(),_c('v-expansion-panels',{attrs:{\"accordion\":\"\",\"popout\":\"\"},model:{value:(_vm.selectedSceneIndex),callback:function ($$v) {_vm.selectedSceneIndex=$$v},expression:\"selectedSceneIndex\"}},_vm._l((_vm.current.scenes),function(item){return _c('v-expansion-panel',{key:item.id},[_c('v-expansion-panel-header',[_c('div',[_c('b',[_vm._v(_vm._s(item.name || 'Scène sans nom'))]),(item.summary)?_c('span',[_vm._v(\" : \"+_vm._s(item.summary))]):_vm._e(),_c('edit-scene',{attrs:{\"id\":item.id}})],1)]),_c('v-expansion-panel-content',[(item.context)?_c('v-card',[_c('v-card-text',[_c('div',[_vm._v(\" \"+_vm._s(item.context))]),_c('div',_vm._l((item.aspects),function(aspect){return _c('v-chip',{key:aspect,attrs:{\"small\":\"\"}},[_vm._v(_vm._s(aspect))])}),1)])],1):_vm._e(),_c('v-timeline',{attrs:{\"dense\":\"\"}},_vm._l((_vm.currentLogs),function(sceneLog,i){return _c('v-timeline-item',{key:i,attrs:{\"small\":\"\",\"fill-dot\":\"\",\"icon\":sceneLog.icon || 'fas fa-bolt'},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(sceneLog.avatar)?_c('v-avatar',[_c('img',{attrs:{\"src\":sceneLog.avatar,\"alt\":\"Log\"}})]):_vm._e()]},proxy:true}],null,true)},[(sceneLog.interpretation)?_c('v-card',{staticClass:\"elevation-3\"},[_c('v-card-text',[_vm._v(_vm._s(sceneLog.interpretation)+\" \"),_c('edit-log',{attrs:{\"id\":sceneLog.id}})],1)],1):_c('span',{staticClass:\"body-2 font-italic font-weight-light text--secondary\"},[_vm._v(_vm._s(sceneLog.mechanical)+\" \"),_vm._l((sceneLog.inspirations),function(inspiration,i){return _c('tag',{key:i,attrs:{\"label\":inspiration}})}),_c('edit-log',{attrs:{\"id\":sceneLog.id}})],2)],1)}),1)],1)],1)}),1),(_vm.selectedSceneIndex===_vm.currentSceneIndex || _vm.currentSceneIndex === -1)?_c('v-toolbar',{attrs:{\"dense\":\"\"}},[_c('v-icon',{staticClass:\"mr-3\",attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-plus-circle\")]),_c('v-divider',{staticClass:\"mr-2\",attrs:{\"vertical\":\"\"}}),_c('edit-scene'),_c('v-divider',{staticClass:\"mr-2\",attrs:{\"vertical\":\"\"}}),_c('add-event'),_c('add-question',{attrs:{\"disabled\":!_vm.current.scenes.length}}),_c('add-comment',{attrs:{\"disabled\":!_vm.current.scenes.length}}),_c('v-divider',{staticClass:\"mr-2\",attrs:{\"vertical\":\"\"}}),_c('edit-character'),_c('edit-goal'),_c('edit-place'),_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',{staticClass:\"mr-2\",attrs:{\"color\":\"primary\",\"fab\":\"\",\"small\":\"\",\"disabled\":\"\"}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-flask\")])],1)]}}],null,false,3766614918)},[_c('span',[_vm._v(\"Objets\")])])],1):_vm._e()],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('edit-dialog',{attrs:{\"title\":\"Scène\",\"icon\":\"far fa-image\",\"id\":_vm.id,\"disabled\":_vm.isDisabled},on:{\"reset\":_vm.onReset,\"save\":_vm.onSave}},[[(_vm.isPrevSummaryEnabled)?_c('v-textarea',{staticClass:\"mt-2\",attrs:{\"auto-grow\":\"\",\"outlined\":\"\",\"clearable\":\"\",\"label\":\"Résumé de la scène précédente\",\"hint\":\"Résumé de la scène précédente pour faciliter la vue d'ensemble\"},model:{value:(_vm.prevSummary),callback:function ($$v) {_vm.prevSummary=$$v},expression:\"prevSummary\"}}):_vm._e(),(_vm.isPrevSummaryEnabled)?_c('v-divider'):_vm._e(),_c('v-text-field',{attrs:{\"label\":\"Nom\",\"placeholder\":\"Nom de la scène\"},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_c('v-textarea',{attrs:{\"auto-grow\":\"\",\"outlined\":\"\",\"clearable\":\"\",\"label\":\"Contexte\",\"append-icon\":\"fas fa-dice\",\"hint\":\"Description de la situation initiale de la scène (lieu, partis en présence, ambiance, etc...)\"},on:{\"click:append\":_vm.newRandomContext},model:{value:(_vm.context),callback:function ($$v) {_vm.context=$$v},expression:\"context\"}}),_vm._v(\" Aspects: \"),_c('string-list',{attrs:{\"hint\":\"aspect\",\"random-tag\":\"__aspect\"},model:{value:(_vm.aspects),callback:function ($$v) {_vm.aspects=$$v},expression:\"aspects\"}}),(_vm.isCurrentSummaryEnabled)?_c('v-textarea',{attrs:{\"auto-grow\":\"\",\"outlined\":\"\",\"clearable\":\"\",\"label\":\"Résumé\",\"hint\":\"Résumé de la scène complète pour faciliter la vue d'ensemble\"},model:{value:(_vm.summary),callback:function ($$v) {_vm.summary=$$v},expression:\"summary\"}}):_vm._e()]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export function randomize<T> (elements: T[]): T {\n  if (!elements.length) {\n    console.log('weird list: ', elements)\n  }\n  const index = Math.floor(elements.length * Math.random())\n  let res = elements[index]\n  if (typeof res === 'string' && res.indexOf('/') !== -1) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-ignore\n    // @ts-ignore\n    res = randomize(res.split(/\\s*\\/\\s*/))\n  }\n  return res\n}\n\nexport function cleanupRandomConstruct (s: string) {\n  return s\n    .replace(/\\b(\\S+)-(une?\\s+)\\b/gim, '$2$1-')\n    .replace(/\\bdu +une\\b/gim, 'de la')\n    .replace(/\\bdu +un\\b/gim, 'de le')\n    .replace(/\\bde +une?\\b/gim, 'de')\n    .replace(/\\bun +(une?)\\b/gim, '$1')\n    .replace(/\\bl[ea] +une\\b/gim, 'la')\n    .replace(/\\bl[ea] +un\\b/gim, 'le')\n    .replace(/\\bles +une?\\b/gim, 'les')\n    .replace(/\\b([dl])[ea] +(h?[AEIUOYéÉÈÊË])/gim, '$1\\'$2')\n    .replace(/\\bde +les\\b/gim, 'des')\n    .replace(/\\bde +le\\b/gim, 'du')\n    .replace(/\\bdes +une?\\b/gim, 'des')\n    .replace(/\\bune +Homme-/gim, 'un Homme-')\n    .replace(/\\bun +Femme-/gim, 'une Femme-')\n    .replace(/\\* +une?\\b/gim, ' ')\n    .replace(/\\*/gim, ' ')\n    .replace(/\\s+/gim, ' ')\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"scrollable\":\"\",\"max-width\":\"500\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar dialog = ref.on;\nreturn [_c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar tooltip = ref.on;\nreturn [(_vm.isModification)?_c('v-btn',_vm._g({staticClass:\"px-0\",attrs:{\"disabled\":_vm.disabled,\"x-small\":\"\",\"text\":\"\"}},Object.assign({}, tooltip, dialog)),[_c('v-icon',{attrs:{\"small\":\"\",\"color\":\"secondary\"}},[_vm._v(\"fas fa-pencil-alt\")])],1):_c('v-btn',_vm._g({staticClass:\"mr-2\",attrs:{\"disabled\":_vm.disabled,\"color\":\"primary\",\"fab\":\"\",\"small\":\"\"}},Object.assign({}, tooltip, dialog)),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(_vm._s(_vm.icon))])],1)]}}],null,true)},[_c('span',[_vm._v(_vm._s(_vm.title))])])]}}]),model:{value:(_vm.dialog),callback:function ($$v) {_vm.dialog=$$v},expression:\"dialog\"}},[_c('v-card',[_c('v-card-title',{attrs:{\"primary-title\":\"\"}},[_c('v-icon',{staticClass:\"mr-2\"},[_vm._v(_vm._s(_vm.icon))]),_vm._v(_vm._s(_vm.title))],1),_c('v-divider'),_c('v-card-text',[_vm._t(\"default\")],2),_c('v-divider'),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"primary\",\"text\":\"\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.saveDialog()},\"click\":function($event){return _vm.saveDialog()}}},[_vm._v(_vm._s(_vm.saveActionLabel))]),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.closeDialog()},\"click\":function($event){return _vm.closeDialog()}}},[_vm._v(\"Annuler\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <v-dialog\n      v-model=\"dialog\"\n      scrollable\n      max-width=\"500\"\n    >\n\n      <template v-slot:activator=\"{ on: dialog }\">\n        <v-tooltip top>\n          <template v-slot:activator=\"{ on: tooltip }\">\n            <v-btn v-on=\"{ ...tooltip, ...dialog }\" v-if=\"isModification\" :disabled=\"disabled\" x-small text class=\"px-0\">\n              <v-icon small color=\"secondary\">fas fa-pencil-alt</v-icon>\n            </v-btn>\n            <v-btn v-on=\"{ ...tooltip, ...dialog }\" v-else :disabled=\"disabled\" color=\"primary\" fab small class=\"mr-2\">\n            <v-icon small>{{ icon }}</v-icon>\n            </v-btn>\n          </template>\n        <span>{{ title }}</span>\n        </v-tooltip>\n      </template>\n\n      <v-card>\n        <v-card-title primary-title><v-icon class=\"mr-2\">{{ icon }}</v-icon>{{ title }}</v-card-title>\n        <v-divider></v-divider>\n        <v-card-text>\n          <slot></slot>\n        </v-card-text>\n        <v-divider></v-divider>\n        <v-card-actions>\n          <v-spacer></v-spacer>\n          <v-btn color=\"primary\" text @keypress.enter=\"saveDialog()\" @click=\"saveDialog()\">{{saveActionLabel}}</v-btn>\n          <v-btn text @keypress.esc=\"closeDialog()\" @click=\"closeDialog()\">Annuler</v-btn>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nexport default {\n  name: 'EditDialog',\n  props: {\n    icon: {\n      type: String,\n      default: ''\n    },\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: ''\n    },\n    id: String\n  },\n  data () {\n    return {\n      dialog: false\n    }\n  },\n  computed: {\n    isModification () {\n      return !!this.$props.id\n    },\n    isNew () {\n      return !this.isModification\n    },\n    saveActionLabel () {\n      return this.isModification ? 'Enregistrer' : 'Créer'\n    }\n  },\n  methods: {\n    ...mapActions(['updateScene']),\n    closeDialog () {\n      this.dialog = false\n      this.resetValues()\n    },\n    saveDialog () {\n      this.$emit('save', this.isNew)\n      this.dialog = false\n    },\n    resetValues () {\n      this.$emit('reset', this.isModification)\n    }\n  },\n  watch: {\n    dialog (value) {\n      if (value) {\n        this.resetValues()\n      }\n    }\n  },\n  mounted () {\n    this.resetValues()\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditDialog.vue?vue&type=template&id=78387a25&scoped=true&\"\nimport script from \"./EditDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./EditDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"78387a25\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VDivider,VIcon,VSpacer,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.value),function(v,i){return _c('v-text-field',{key:i,attrs:{\"dense\":\"\",\"autofocus\":\"\",\"hint\":_vm.hint,\"append-icon\":\"fas fa-dice\"},on:{\"click:append\":function($event){return _vm.randomValue(i)}},model:{value:(_vm.value[i]),callback:function ($$v) {_vm.$set(_vm.value, i, $$v)},expression:\"value[i]\"}})}),(!_vm.value.length || _vm.value[_vm.value.length-1])?_c('v-btn',{staticClass:\"px-0\",attrs:{\"x-small\":\"\",\"text\":\"\",\"color\":\"secondary\"},on:{\"click\":_vm.addEntry}},[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-plus-circle\")])],1):_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport { mapActions, mapState } from 'vuex'\nimport Vue, { PropType } from 'vue'\nimport Component from 'vue-class-component'\nimport { VBtn, VIcon, VTextField, VList, VListItem, VListItemTitle } from 'vuetify/lib'\nimport { Prop } from 'vue-property-decorator'\n\n@Component({\n  components: { VBtn, VIcon, VTextField, VList, VListItem, VListItemTitle },\n  methods: { ...mapActions(['getRandom']) }\n})\nexport default class StringList extends Vue {\n  getRandom!: (params: { query: string; tags?: string[]}) => Promise<string>;\n\n  @Prop({ type: String, required: false })\n  private hint?: string;\n\n  @Prop({ type: String, required: false })\n  private randomTag?: string;\n\n  @Prop({ type: Array as PropType<string[]>, default: () => [] })\n  private value!: string[];\n\n  async addEntry () {\n    let res: string\n    if (this.randomTag) {\n      const params = { query: this.randomTag }\n      console.log('randomValue: ', params)\n      res = await this.getRandom(params)\n    } else {\n      res = ''\n    }\n    this.value.splice(this.value.length, 0, res)\n  }\n\n  async randomValue (index: number) {\n    let res: string\n    if (this.randomTag) {\n      const params = { query: this.randomTag }\n      console.log('randomValue: ', params)\n      res = await this.getRandom(params)\n    } else {\n      res = ''\n    }\n    this.value.splice(index, 1, res)\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StringList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StringList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StringList.vue?vue&type=template&id=9e3511b4&scoped=true&\"\nimport script from \"./StringList.vue?vue&type=script&lang=ts&\"\nexport * from \"./StringList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9e3511b4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VIcon,VTextField})\n","import { randomize } from '@/utils/random.ts'\n\nexport const names = ['Abaet', 'Abarden', 'Aboloft',\n  'Acamen', 'Achard', 'Ackmard',\n  'Adeen', 'Aerden', 'Afflon',\n  'Aghon', 'Agnar', 'Ahalfar',\n  'Ahburn', 'Ahdun', 'Aidan',\n  'Airen', 'Airis', 'Albright',\n  'Aldaren', 'Alderman', 'Aldren',\n  'Alkirk', 'Allso', 'Amerdan',\n  'Amitel', 'Anfar', 'Anumi',\n  'Anumil', 'Asden', 'Asdern',\n  'Asen', 'Aslan', 'Atar',\n  'Atgur', 'Atlin', 'Auchfor',\n  'Auden', 'Ault', 'Ayrie',\n  'Aysen',\n  'Bacohl', 'Badeek', 'Baduk',\n  'Balati', 'Baradeer', 'Barkydle',\n  'Basden', 'Bayde', 'Beck',\n  'Bedic', 'Beeron', 'Bein',\n  'Beson', 'Besur', 'Besurlde',\n  'Bewul', 'Biedgar', 'Bildon',\n  'Biston', 'Bithon', 'Boal',\n  'Boaldelr', 'Bolrock', 'Brakdern',\n  'Breanon', 'Bredere', 'Bredin',\n  'Bredock', 'Breen', 'Brighton',\n  'Bristan', 'Buchmeid', 'Bue',\n  'Busma', 'Buthomar', 'Bydern',\n  'Caelholdt', 'Cainon', 'Calden',\n  'Camchak', 'Camilde', 'Cardon',\n  'Casden', 'Cayold', 'Celbahr',\n  'Celorn', 'Celthric', 'Cemark',\n  'Cerdern', 'Cespar', 'Cether',\n  'Cevelt', 'Chamon', 'Chesmarn',\n  'Chidak', 'Cibrock', 'Cipyar',\n  'Ciroc', 'Codern', 'Colthan',\n  'Connell', 'Cordale', 'Cos',\n  'Cosdeer', 'Cuparun', 'Cusmirk',\n  'Cydare', 'Cylmar', 'Cythnar',\n  'Cyton',\n  'Daburn', 'Daermod', 'Dak',\n  'Dakamon', 'Dakkone', 'Dalburn',\n  'Dalmarn', 'Dapvhir', 'Darkboon',\n  'Darkkon', 'Darko', 'Darkspur',\n  'Darmor', 'Darpick', 'Dasbeck',\n  'Dask', 'Deathmar', 'Defearon',\n  'Derik', 'Derrin', 'Desil',\n  'Dessfar', 'Dinfar', 'Dismer',\n  'Doceon', 'Dochrohan', 'Dokoran',\n  'Dorn', 'Dosoman', 'Drakoe',\n  'Drakone', 'Drandon', 'Drit',\n  'Dritz', 'Drophar', 'Dryden',\n  'Dryn', 'Duba', 'Dukran',\n  'Duran', 'Durmark', 'Dusaro',\n  'Dyfar', 'Dyten',\n  'Efar', 'Egmardern', 'Eiridan',\n  'Ekgamut', 'Eli', 'Elik',\n  'Elson', 'Elthin', 'Enbane',\n  'Endor', 'Enidin', 'Enoon',\n  'Enro', 'Erikarn', 'Erim',\n  'Eritai', 'Escariet', 'Espardo',\n  'Etar', 'Etburn', 'Etdar',\n  'Ethen', 'Etmere', 'Etran',\n  'Eythil',\n  'Faoturk', 'Faowind', 'Fearlock',\n  'Fenrirr', 'Fetmar', 'Feturn',\n  'Ficadon', 'Fickfylo', 'Fildon',\n  'Firedorn', 'Firiro', 'Floran',\n  'Folmard', 'Fraderk', 'Fronar',\n  'Fydar', 'Fyn',\n  'Gafolern', 'Gai', 'Galain',\n  'Galiron', 'Gametris', 'Gauthus',\n  'Gemardt', 'Gemedern', 'Gemedes',\n  'Gerirr', 'Geth', 'Gib',\n  'Gibolock', 'Gibolt', 'Gith',\n  'Gom', 'Gosford', 'Gothar',\n  'Gothikar', 'Gresforn', 'Grimie',\n  'Gryn', 'Gundir', 'Gustov',\n  'Guthale', 'Gybol', 'Gybrush',\n  'Gyin',\n  'Hectar', 'Hecton', 'Heramon',\n  'Hermenze', 'Hermuck', 'Hezak',\n  'Hildale', 'Hildar', 'Hileict',\n  'Hydale', 'Hyten',\n  'Ieserk', 'Ikar', 'Ilgenar',\n  'Illilorn', 'Illium', 'Ingel',\n  'Ipedorn', 'Irefist', 'Ironmark',\n  'Isen', 'Isil', 'Ithric',\n  'Janus', 'Jayco', 'Jaython',\n  'Jesco', 'Jespar', 'Jethil',\n  'Jex', 'Jib', 'Jibar',\n  'Jin', 'Juktar', 'Julthor',\n  'Jun', 'Justal',\n  'Keran', 'Kesad', 'Kesmon',\n  'Kethren', 'Kib', 'Kibidon',\n  'Kiden', 'Kilbas', 'Kilburn',\n  'Kildarien', 'Kimdar', 'Kinorn',\n  'Kip', 'Kirder', 'Kodof',\n  'Kolmorn', 'Kyrad',\n  'Lafornon', 'Lahorn', 'Laracal',\n  'Ledale', 'Leit', 'Lephar',\n  'Lephidiles', 'Lerin', 'Lesphares',\n  'Letor', 'Lidorn', 'Lin',\n  'Liphanes', 'Loban', 'Lox',\n  'Ludokrin', 'Luphildern', 'Lupin',\n  'Lurd',\n  'Marderdeen', 'Mardin', 'Markard',\n  'Markdoon', 'Marklin', 'Mashasen',\n  'Mathar', 'Medarin', 'Medin',\n  'Mellamo', 'Meowol', 'Merdon',\n  'Meridan', 'Merkesh', 'Mesah',\n  'Mes\\'ard', 'Mesophan', 'Mesoton',\n  'Mezo', 'Michael', 'Mick',\n  'Mickal', 'Migorn', 'Milo',\n  'Miphates', 'Mi\\'talrythin', 'Mitar',\n  'Modric', 'Modum', 'Mudon',\n  'Mufar', 'Mujarin', 'Mylo',\n  'Mythik', 'Mythil',\n  'Naphates', 'Neowyld', 'Nidale',\n  'Nikpal', 'Nikrolin', 'Niktohal',\n  'Niro', 'Noford', 'Nothar',\n  'Nuthor', 'Nuwolf', 'Nydale',\n  'Nythil',\n  'O’tho', 'Ocarin', 'Occelot',\n  'Occhi', 'Odaren', 'Odeir',\n  'Ohethlic', 'Okar', 'Omaniron',\n  'Omarn', 'Orin', 'Ospar',\n  'Othelen', 'Oxbaren',\n  'Padan', 'Palid', 'Papur',\n  'Peitar', 'Pelphides', 'Pender',\n  'Pendus', 'Perder', 'Perol',\n  'Phairdon', 'Phemedes', 'Phexides',\n  'Phoenix', 'Picon', 'Pictal',\n  'Picumar', 'Pildoor', 'Pixdale',\n  'Ponith', 'Poran', 'Poscidion',\n  'Prothalon', 'Puthor', 'Pyder',\n  'Qeisan', 'Qidan', 'Quiad',\n  'Quid', 'Quiss', 'Qupar',\n  'Qysan',\n  'Radag\\'mal', 'Randar', 'Raysdan',\n  'Rayth', 'Reaper', 'Resboron',\n  'Reth', 'Rethik', 'Rhithik',\n  'Rhithin', 'Rhysling', 'Riandur',\n  'Rikar', 'Rismak', 'Riss',\n  'Ritic', 'Rogeir', 'Rogist',\n  'Rogoth', 'Rophan', 'Rulrindale',\n  'Rydan', 'Ryfar', 'Ryfar',\n  'Ryodan', 'Rysdan', 'Rythen',\n  'Rythern',\n  'Sabal', 'Sadareen', 'Safilix',\n  'Samon', 'Samot', 'Sasic',\n  'Scoth', 'Scythe', 'Secor',\n  'Sed', 'Sedar', 'Senick',\n  'Senthyril', 'Serin', 'Sermak',\n  'Seryth', 'Sesmidat', 'Seth',\n  'Setlo', 'Shade', 'Shadowbane',\n  'Shane', 'Shard', 'Shardo',\n  'Shillen', 'Silco', 'Sildo',\n  'Sil\\'forrin', 'Silpal', 'Sithik',\n  'Soderman', 'Sothale', 'Staph',\n  'Stenwulf', 'Steven', 'Suktor',\n  'Suth', 'Sutlin', 'Syr',\n  'Syth', 'Sythril',\n  'Temilfist', 'Tempist', 'Teslanar',\n  'Tespar', 'Tessino', 'Tethran',\n  'Thiltran', 'Tholan', 'Tibers',\n  'Tibolt', 'Ticharol', 'Tilner',\n  'Tithan', 'Tobale', 'Tol’Solie',\n  'Tolle', 'Tolsar', 'Toma',\n  'Tothale', 'Tousba', 'Towerlock',\n  'Tuk', 'Tuscanar', 'Tusdar',\n  'Tyden',\n  'Uerthe', 'Ugmar', 'Uhrd',\n  'Undin', 'Updar', 'Uther',\n  'Vaccon', 'Vacone', 'Valkeri',\n  'Valynard', 'Vectomon', 'Veldahar',\n  'Vespar', 'Vethelot', 'Victor',\n  'Vider', 'Vigoth', 'Vilan',\n  'Vildar', 'Vinald', 'Vinkolt',\n  'Virde', 'Voltain', 'Volux',\n  'Voudim', 'Vythethi',\n  'Wekmar', 'Werymn', 'Weshin',\n  'William', 'Willican', 'Wilte',\n  'Wiltmar', 'Wishane', 'Witfar',\n  'Wrathran', 'Wraythe', 'Wuthmon',\n  'Wyder', 'Wyeth', 'Wyvorn',\n  'Xex', 'Xithyl', 'Xuio',\n  'Yesirn', 'Yssik', 'Yssith',\n  'Zeke', 'Zerin', 'Zessfar',\n  'Zidar', 'Zigmal', 'Zile',\n  'Zilocke', 'Zio', 'Zoru',\n  'Zotar', 'Zutar', 'Zyten',\n\n  'Acele', 'Acholate', 'Ada',\n  'Adiannon', 'Adorra', 'Ahanna',\n  'Akara', 'Akassa', 'Akia',\n  'Amaerilde', 'Amara', 'Amarisa',\n  'Amarizi', 'Ana', 'Andonna',\n  'Ani', 'Annalyn', 'Archane',\n  'Ariannona', 'Arina', 'Arryn',\n  'Asada', 'Awnia', 'Ayne',\n  'Basete', 'Bathelie', 'Bethe',\n  'Brana', 'Brianan', 'Bridonna',\n  'Brynhilde',\n  'Calene', 'Calina', 'Celestine',\n  'Celoa', 'Cephenrene', 'Chani',\n  'Chivahle', 'Chrystyne', 'Corda',\n  'Cyelena',\n  'Dalavesta', 'Desini', 'Dylena',\n  'Ebatryne', 'Ecematare', 'Efari',\n  'Enaldie', 'Enoka', 'Enoona',\n  'Errinaya',\n  'Fayne', 'Frederika', 'Frida',\n  'Gene', 'Gessane', 'Gronalyn',\n  'Gvene', 'Gwethana',\n  'Halete', 'Helenia', 'Hildandi',\n  'Hyza',\n  'Idona', 'Ikini', 'Ilene',\n  'Illia', 'Iona',\n  'Jessika', 'Jezzine', 'Justalyne',\n  'Kassina', 'Kilayox', 'Kilia',\n  'Kilyne', 'Kressara',\n  'Laela', 'Laenaya', 'Lelani',\n  'Lenala', 'Linovahle', 'Linyah',\n  'Lloyanda', 'Lolinda', 'Lyna',\n  'Lynessa',\n  'Mehande', 'Melisande', 'Midiga',\n  'Mirayam', 'Mylene',\n  'Nachaloa', 'Naria', 'Narisa',\n  'Nelenna', 'Niraya', 'Nymira',\n  'Ochala', 'Olivia', 'Onathe',\n  'Ondola', 'Orwyne',\n  'Parthinia', 'Pascheine', 'Pela',\n  'Peri’el', 'Pharysene', 'Philadona',\n  'Prisane', 'Prysala', 'Pythe',\n  'Q’ara', 'Q’pala', 'Quasee',\n  'Rhyanon', 'Rivatha', 'Ryiah',\n  'Sanala', 'Sathe', 'Senira',\n  'Sennetta', 'Sepherene', 'Serane',\n  'Sevestra', 'Sidara', 'Sidathe',\n  'Sina', 'Sunete', 'Synestra',\n  'Sythini', 'Szene',\n  'Tabika', 'Tabithi', 'Tajule',\n  'Tamare', 'Teresse', 'Tolida',\n  'Tonica', 'Treka', 'Tressa',\n  'Trinsa', 'Tryane', 'Tybressa',\n  'Tycane', 'Tysinni',\n  'Undaria', 'Uneste', 'Urda',\n  'Usara', 'Useli', 'Ussesa',\n  'Venessa', 'Veseere', 'Voladea',\n  'Vysarane', 'Vythica',\n  'Wanera', 'Welisarne', 'Wellisa',\n  'Wesolyne', 'Wyeta',\n  'Yilvoxe', 'Ysane', 'Yve',\n  'Yviene', 'Yvonnette', 'Yysara',\n  'Zana', 'Zathe', 'Zecele',\n  'Zenobia', 'Zephale', 'Zephere',\n  'Zerma', 'Zestia', 'Zilka',\n  'Zoura', 'Zrye', 'Zyneste',\n  'Zynoa']\n\nexport function randomName (): string {\n  return randomize(names)\n}\n","import data from '@/assets/data.json'\nimport { cleanupRandomConstruct, randomize } from '@/utils/random'\nimport { randomName } from '@/utils/names'\n\ntype ParsedTag = { type: 'reference'; required: string[] } | { type: 'literal'; value: string }\n\nexport interface Tag {\n  tag: string; // tagIds\n  inherited?: boolean; // Whether propagated as ancestor in children, by default: true\n  isInstance?: boolean; // for non generative node (eg. H.P. Themes, Cthulhu, the One Ring, etc...), by default: false\n  value?: string; // can be literals or formulas\n  isA?: string[]; // tagIds (inherited)\n  requires?: string[]; // tagIds (inherited, how ?)\n  excludes?: string[]; // tagIds (inherited, how ?)\n  groups?: string[]; // tagIds (inherited, how ?)\n  // How are inherited requires/excludes conflicts resolved ?\n}\n\nexport interface TagInfo extends Tag {\n  isInstance: boolean;\n  inherited: boolean;\n  value: string;\n  parsedValue: ParsedTag[];\n  isFormula: boolean;\n  isA: string[]; // tagIds (inherited)\n  requires: string[]; // tagIds (inherited, how ?)\n  excludes: string[]; // tagIds (inherited, how ?)\n  groups: string[]; // tagIds (inherited, how ?)\n  ancestors: Set<string>;\n}\n\nexport class TagStorage {\n  private tagById: Record<string, Tag> = {}\n  private tagInfoById: Map<string, TagInfo> = new Map<string, TagInfo>()\n  private tagInfoByType: Record<string, TagInfo[]> = {}\n  private types: Set<string> = new Set<string>()\n  private filters: Set<string> = new Set<string>()\n\n  public get (tag: string): TagInfo|undefined {\n    return this.tagInfoById.get(tag)\n  }\n\n  public getOptions (tag: string, currentTags: string[] = []): TagInfo[] {\n    currentTags = [...currentTags, ...this.filters]\n    return (this.tagInfoByType[tag] ?? []).filter(t =>\n      (t.isFormula || !this.tagInfoByType[t.tag]?.length) &&\n      t.requires.every(t => currentTags.includes(t)) &&\n      !t.excludes.some(t => currentTags.includes(t)) &&\n      !t.groups.map(g => `group@${g}`).some(t => currentTags.includes(t))\n    )\n  }\n\n  public getRandom (tag: string, currentTags: string[] = []): string | undefined {\n    const res = this.getInternalRandom(tag, currentTags)?.res\n    if (res) return cleanupRandomConstruct(res)\n    return undefined\n  }\n\n  private getInternalRandom (tag: string, currentTags: string[] = []): { res: string; newTags: string[]} | undefined {\n    // console.log(`getInternalRandom(${tag}, ${currentTags})`)\n    const options = this.getOptions(tag, currentTags)\n    // console.log('options: ', options)\n    if (!options?.length) {\n      return undefined\n    }\n    const selected = randomize(options)\n    // console.log('selected: ', selected)\n    let res = selected.value\n    let newTags = [...currentTags, selected.tag, ...selected.ancestors, ...selected.groups.map(g => `group@${g}`)]\n\n    if (res?.includes('/')) {\n      res = randomize(res.split('/'))\n    }\n\n    if (res?.includes('#')) {\n      const re = /#{([^}]*)}/\n      let array\n      while ((array = re.exec(res)) !== null) {\n        const reference = array[0]\n        const referencedTag = array[1]\n        const resolvedValue = referencedTag === '__name__' ? {\n          res: randomName(),\n          newTags: []\n        } : this.getInternalRandom(referencedTag, newTags)\n        if (!resolvedValue) return undefined\n        res = res.replace(reference, resolvedValue.res) // [array[1]/* , ...tagSet */]))\n        newTags = resolvedValue.newTags\n      }\n    }\n    // console.log(`getInternalRandom(${tag}, ${currentTags}) => `, { res, newTags })\n\n    return { res, newTags }\n  }\n\n  private register (tag: string): TagInfo {\n    const existingInfo = this.tagInfoById.get(tag)\n    if (existingInfo) return existingInfo\n    else {\n      const tagObject: Tag = this.tagById[tag] ?? { tag }\n      const { tag: id, value = id, isA = [], excludes = [], requires = [], groups = [], isInstance = false, inherited = true } = tagObject\n      const parsedValue = TagStorage.splitTag(value)\n      const referenced = parsedValue.flatMap(pv => pv.type === 'reference' ? pv.required : [])\n      const ancestors = [...isA ?? [], ...(isA ?? []).flatMap(t => [...this.register(t).ancestors ?? []])]\n      const ancestorInfos = ancestors.flatMap(t => this.register(t))\n      const info: TagInfo = {\n        tag: id,\n        value,\n        parsedValue,\n        isFormula: parsedValue.length > 1 || !!referenced.length,\n        isA,\n        excludes: [...new Set([...excludes, ...ancestorInfos.flatMap(a => a.excludes)])].filter(e => !requires.includes(e)),\n        requires: [...new Set([...requires, ...ancestorInfos.flatMap(a => a.requires)])].filter(i => !excludes.includes(i)),\n        groups: [...new Set([...groups, ...ancestorInfos.flatMap(a => a.groups)])],\n        inherited,\n        isInstance,\n        ancestors: new Set(ancestorInfos.filter(a => a.inherited).map(a => a.tag))\n      }\n      this.tagInfoById.set(tag, info)\n      ancestors.forEach(t => {\n        let options = this.tagInfoByType[t]\n        if (!options) {\n          this.tagInfoByType[t] = options = []\n          this.types.add(t)\n        }\n        options.splice(options.length, 0, info)\n      })\n      referenced.forEach(t => this.register(t))\n      return info\n    }\n  }\n\n  private static splitTag (tag: string): ParsedTag[] {\n    let res: ParsedTag[] = []\n    const re = /#{([^}]*)}/g\n    let index = 0\n    let array\n    while ((array = re.exec(tag)) !== null) {\n      if (index !== array.index) {\n        res = [...res, { type: 'literal', value: tag.slice(index, array.index) }]\n      }\n      res = [...res, { type: 'reference', required: array[1].split(',') }]\n      index = re.lastIndex + 1\n    }\n    if (index !== tag.length) {\n      res = [...res, { type: 'literal', value: tag.slice(index, tag.length) }]\n    }\n    return res\n  }\n\n  public add (...tags: Tag[]) {\n    tags.forEach(elt => { this.tagById[elt.tag] = elt })\n    tags.forEach(elt => { this.register(elt.tag) })\n  }\n\n  public constructor (init = true) {\n    if (init) {\n      this.add(\n        ...data.values.map(t => ({\n          tag: t.tag ?? t.value,\n          value: t.value ?? t.tag,\n          isA: t.isA ?? [],\n          requires: t.requires ?? [],\n          excludes: t.excludes ?? [],\n          groups: t.groups ?? [],\n          inherited: t.inherited\n        }))\n      )\n    }\n  }\n\n  public setFilters (...filters: string[]) {\n    if (!filters?.length) filters = ['__theme']\n    const x = filters.flatMap(t => [t, ...this.tagInfoById.get(t)?.ancestors ?? []])\n    this.filters = new Set(x)\n    console.log('actual filters: ', this.filters)\n    return this\n  }\n\n  public clearFilters () {\n    this.filters.clear()\n    return this\n  }\n\n  public getAllThemeInfo () {\n    return [...this.tagInfoById.values()].filter(t => t.ancestors.has('__theme') || t.tag === '__theme')\n  }\n\n  public getAllNonThemeInfo () {\n    return [...this.tagInfoById.values()].filter(t => !(t.ancestors.has('__theme') || t.tag === '__theme'))\n  }\n\n  public getThemes () {\n    if (this.filters.size) {\n      return [...this.filters]\n    } else {\n      return this.getAllThemeInfo().map(t => t.tag)\n    }\n  }\n\n  public getAllNonThemeTags () {\n    const allThemes = new Set(...this.getAllThemeInfo().map(i => i.tag))\n    return [...this.getAllNonThemeInfo()].filter(t => t.requires.filter(r => allThemes.has(r)).every(r => this.filters.has(r)) && !(t.ancestors.has('__theme') || t.tag === '__theme')).map(t => t.tag)\n  }\n}\n","import BaseClient from 'remotestoragejs/release/types/baseclient'\nimport { TagInfo, TagStorage } from '@/store/tags/types'\n\ntype Scope = 'people' | 'place' | 'object' | 'action';\ntype CharacterRef = string;\ntype PlaceRef = number;\n\nexport class Aspect {\n  name = 'aspect';\n  scopes: Scope[] | null = null;\n  // tags: string[] = [];\n}\n\nexport class Goal {\n  index: number\n  label = 'goal';\n  isActive = true;\n  constructor (index: number) {\n    this.index = index\n  }\n}\n\nexport class Character {\n  id: CharacterRef;\n  name = 'personne';\n  isPlayer = false;\n  isActive = true;\n  aspects: Aspect[] = [];\n  goals: string[] = [];\n  relations: CharacterRef[] = [];\n  places: PlaceRef[] = [];\n\n  constructor (id: CharacterRef) {\n    this.id = id\n  }\n}\n\nexport class Place {\n  id: PlaceRef;\n  name = 'lieu';\n  isActive = true;\n  aspects: Aspect[] = [];\n  people: CharacterRef[] = [];\n\n  constructor (id: PlaceRef) {\n    this.id = id\n  }\n}\n\nexport class Question {\n  text: string;\n  result: 'exceptional_yes' | 'exceptional_no' | 'yes' | 'no';\n\n  constructor (text: string, likelihood = 0.5) {\n    this.text = text\n    if (Math.random() < likelihood) {\n      this.result = Math.random() < 0.2 ? 'exceptional_yes' : 'yes'\n    } else {\n      this.result = Math.random() < 0.2 ? 'exceptional_no' : 'no'\n    }\n  }\n}\n\nexport class TimelineEntry {\n  isMechanic = false;\n  question = '';\n  answer = '';\n  event = '';\n  relatedPC = '';\n  relatedNPC = '';\n  relatedThread = '';\n  technicalText = '';\n  interpretationText = '';\n}\n\nexport class SceneLog {\n  sceneIndex: number | undefined = undefined;\n  index: number | undefined = undefined;\n  icon: string | undefined = undefined;\n  avatar: string | undefined = undefined;\n  mechanical: string | undefined = undefined;\n  interpretation: string | undefined = undefined;\n  inspirations: string[] = [];\n\n  constructor (sceneIndex: number, logIndex: number) {\n    this.sceneIndex = sceneIndex\n    this.index = logIndex\n  }\n}\n\nexport class GameEvent {\n  type = '';\n  isYes: boolean = Math.random() < 0.5;\n  isExceptional: boolean = Math.random() < 0.2;\n\n  constructor () {\n    const d100 = Math.floor(Math.random() * 100) + 1\n    if (d100 <= 7) {\n      this.type = 'Evénement lointain'\n    } else if (d100 <= 28) {\n      this.type = 'Action de PNJ'\n    } else if (d100 <= 35) {\n      this.type = 'Nouveau PNJ'\n    } else if (d100 <= 45) {\n      this.type = 'Rapprochement d\\'objectif'\n    } else if (d100 <= 52) {\n      this.type = 'Eloignement d\\'objectif'\n    } else if (d100 <= 55) {\n      this.type = 'Objectif terminé'\n    } else if (d100 <= 67) {\n      this.type = 'Événement négatif pour un PJ'\n    } else if (d100 <= 75) {\n      this.type = 'Événement positif pour un PJ'\n    } else if (d100 <= 83) {\n      this.type = 'Événement ambigu'\n    } else if (d100 <= 92) {\n      this.type = 'Événement négatif pour un PNJ'\n    } else {\n      this.type = 'Événement positif pour un PNJ'\n    }\n  }\n}\n\nexport class Scene {\n  index: number;\n  name = '';\n  context = '';\n  summary = '';\n  isChanged: boolean = Math.random() < 0.1;\n  isInterrupted: boolean = Math.random() < 0.5;\n  alteredContext: string | null = null;\n  constructor (index: number) {\n    this.index = index\n  }\n}\n\nexport class Game {\n  id: string | null = null;\n  name = 'Partie';\n  tags: string[] = []; // also used for themes and tone\n  aspects: Aspect[] = [];\n  goals: Goal[] = [];\n  characters: Character[] = [];\n  logs: SceneLog[] = [];\n  sceneLogs: SceneLog[][] = []\n  places: Place[] = [];\n  scenes: Scene[] = [];\n  constructor ({ id, name, tags }: RSGame) {\n    this.id = id ?? ''\n    this.name = name\n    this.tags = tags\n  }\n}\n\nlet lastTs = 0\n\nexport class Repository<T extends Entity> {\n  private readonly privateClient: BaseClient;\n  private readonly basePath: string;\n  private readonly contentSuffix: string;\n  private readonly type: string;\n  private readonly removeSuffix: string;\n\n  constructor (privateClient: BaseClient, type: string, prefix = '', hasChildren = false) {\n    if (prefix && !prefix.endsWith('/')) {\n      prefix += '/'\n    }\n    this.basePath = prefix + type + 's/'\n    this.contentSuffix = (hasChildren ? '/content' : '')\n    this.removeSuffix = (hasChildren ? '/' : '')\n    this.type = type\n    this.privateClient = privateClient\n  }\n\n  public ensureId (entity: T) {\n    if (!entity.id) {\n      entity.id = this.basePath + this.uuidv4()\n      let ts = Date.now()\n      if (ts <= lastTs) {\n        ts = lastTs + 1\n      }\n      lastTs = ts\n      entity.createdDate = ts\n    }\n  };\n\n  async list (): Promise<T[]> {\n    const response = await this.privateClient.getListing(this.basePath) as Record<string, unknown>\n    const ids = Object.keys(response)\n      .filter(item => response[item] && item !== 'content')\n      .map(item => item.replace(/\\/$/, ''))\n    return Promise.all(ids.map(id => this.get(this.basePath + id)))\n      .then(l => l.filter(x => typeof x !== 'undefined')\n        .sort((a, b) => {\n          const vb = b.createdDate ?? 0\n          const va = a.createdDate ?? 0\n          return vb < va ? 1 : va < vb ? -1 : 0\n        })\n      )\n  };\n\n  async get (id: string): Promise<T> {\n    const path = id + this.contentSuffix\n    return await this.privateClient.getObject(path) as T\n  };\n\n  async save (entity: T) {\n    if (!entity) throw new Error(`Can't save ${entity} as '${this.type}' entity`)\n    this.ensureId(entity)\n    const path = entity.id + this.contentSuffix\n    try {\n      Object.keys(entity).forEach(key => {\n        const k = key as keyof T\n        const v = entity[k]\n        if (typeof v === 'undefined') {\n          delete entity[k]\n        }\n      })\n      console.debug('SAVING ' + this.type, entity)\n      await this.privateClient.storeObject(this.type, path, entity)\n    } catch (e) {\n      throw new Error(`Failed to store '${this.type}' entity: ${e}\\n${JSON.stringify(entity)}`)\n    }\n    return entity\n  };\n\n  async remove (entityOrId: T | string): Promise<void> {\n    let id: string\n    if (typeof entityOrId === 'string') {\n      id = entityOrId\n    } else {\n      id = entityOrId.id ?? ''\n    }\n    if (id) {\n      return this.recursiveRemove(id + this.removeSuffix).then(() => undefined)\n    } else {\n      return Promise.resolve(undefined)\n    }\n  }\n\n  private async recursiveRemove (path: string): Promise<void> {\n    if (path.endsWith('/')) {\n      const obj = await this.privateClient.getObject(path) as Record<string, unknown>\n      const promises = Object.keys(obj).map(f => this.recursiveRemove(path + f))\n      return await Promise.all(promises).then(() => undefined)\n    } else {\n      return this.privateClient.remove(path).then(() => undefined)\n    }\n  }\n\n  private uuidv4 () {\n    return ('' + 1e7 + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, (c: string) =>\n      (parseInt(c) ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> parseInt(c) / 4).toString(16)\n    )\n  }\n}\n\nexport interface Entity {\n  id?: string;\n  createdDate?: number;\n}\n\nexport interface RSGame extends Entity {\n  name: string;\n  tags: string[];\n}\n\nexport interface RSCharacter extends Entity {\n  name: string;\n  isPlayer: boolean;\n  isActive: boolean;\n  aspects?: string[];\n}\n\nexport interface RSPlace extends Entity {\n  name: string;\n  isActive: boolean;\n  aspects: string[];\n  // aspects: Aspect[];\n  // people: CharacterRef[];\n}\n\nexport interface RSGoal extends Entity {\n  label: string;\n  isActive: boolean;\n}\n\nexport interface RSScene extends Entity {\n  name: string;\n  isActive: boolean;\n  context: string;\n  summary: string;\n  aspects: string[];\n  isChanged: boolean;\n  isInterrupted: boolean;\n  alteredContext?: string;\n}\n\nexport interface RSLog extends Entity {\n  icon?: string;\n  avatar?: string;\n  mechanical?: string;\n  interpretation?: string;\n  inspirations?: string[];\n}\n\nexport class RootState {\n  current?: {\n    game: RSGame;\n    characters: RSCharacter[];\n    places: RSPlace[];\n    goals: RSGoal[];\n    scenes: RSScene[];\n    sceneIndex: number;\n    logs: RSLog[];\n  } = undefined;\n\n  games: RSGame[] = [];\n  tags: string[] = [];\n  tagStorage: TagStorage = new TagStorage();\n}\n\n/*\nFate:\n\n - Current issue(s)\n - Impeding issue(s)\n\nFor each issue:\n - faces\n - places\n\nFor each face/place:\n - name\n - short description\n - aspects / issues\n */\n\n/*\nMicroscope:\n\n - Palette\n - Big Picture\n - Book ends\n */\n\n/*\nPlaces:\n\n - hierarchical\n - proxymity\n - respect planarity ( planar graph generation [[][[][]]] )\n - conceptually:\n   - A sub-region can be introduced within an existing region\n   - neighboring regions are stable\n   - planarity is respected\n */\n\n/*\nRandom ideas:\n - Alternate aspects (eg. secretive version: \"une silhouette encapuchonnée\", from a distance version: \"un village perché au bord de la falaise\")\n - MJ only visibility\n */\n","<template>\n    <edit-dialog title=\"Scène\" icon=\"far fa-image\" @reset=\"onReset\" @save=\"onSave\" :id=\"id\" :disabled=\"isDisabled\">\n      <template>\n        <v-textarea v-if=\"isPrevSummaryEnabled\" auto-grow outlined clearable v-model=\"prevSummary\"\n                    label=\"Résumé de la scène précédente\" class=\"mt-2\"\n                    hint=\"Résumé de la scène précédente pour faciliter la vue d'ensemble\"\n        />\n        <v-divider v-if=\"isPrevSummaryEnabled\" />\n        <v-text-field label=\"Nom\" v-model=\"name\" placeholder=\"Nom de la scène\" />\n        <v-textarea auto-grow outlined clearable v-model=\"context\" label=\"Contexte\"\n                    append-icon=\"fas fa-dice\"\n                    @click:append=\"newRandomContext\"\n                    hint=\"Description de la situation initiale de la scène (lieu, partis en présence, ambiance, etc...)\"\n        />\n        Aspects:\n        <string-list v-model=\"aspects\" hint=\"aspect\" random-tag=\"__aspect\"/>\n        <v-textarea v-if=\"isCurrentSummaryEnabled\" auto-grow outlined clearable v-model=\"summary\" label=\"Résumé\"\n                    hint=\"Résumé de la scène complète pour faciliter la vue d'ensemble\"\n        />\n      </template>\n    </edit-dialog>\n</template>\n\n<script>\nimport { mapActions, mapGetters, mapState } from 'vuex'\nimport { randomize } from '@/utils/random.ts'\nimport EditDialog from '@/components/EditDialog'\nimport StringList from '@/components/StringList'\nimport { RSScene } from '@/store/types'\nexport default {\n  name: 'EditScene',\n  components: { StringList, EditDialog },\n  props: {\n    id: String\n  },\n  data () {\n    return {\n      name: '',\n      context: '',\n      summary: '',\n      aspects: [],\n      prevSummary: ''\n    }\n  },\n  computed: {\n    ...mapState(['current']),\n    ...mapGetters(['activePlayerCharacters', 'activePlaces']),\n    isNew () {\n      return !this.isModification\n    },\n    isModification () {\n      return !!this.id\n    },\n    sceneCount () {\n      return this.current?.scenes?.length ?? 0\n    },\n    isLastScene () {\n      return this.current?.scenes?.[this.sceneCount - 1]?.id === this.id\n    },\n    isPrevSummaryEnabled () {\n      return this.isNew && this.sceneCount > 0\n    },\n    isCurrentSummaryEnabled () {\n      return this.isModification && !this.isLastScene\n    },\n    isDisabled () {\n      return !this.activePlayerCharacters.length || !this.current.goals.length\n    }\n  },\n  methods: {\n    ...mapActions(['updateScene', 'getSceneById', 'getRandom']),\n    async newRandomContext () {\n      const place = Math.random() > 0.5 && this.activePlaces.length > 0 ? randomize(this.activePlaces).name : await this.getRandom({ query: '__place' })\n      const goal = await this.getRandom({ query: '__goal' })\n      this.context = ` - Objectif : ${goal}\n - Lieu : ${place}`\n      if (Math.random() < 0.2) {\n        const event = await this.getRandom({ query: '__event' })\n        this.context += `\n - Evénement : ${event}`\n      }\n    },\n    onSave (isNew) {\n      if (isNew) {\n        if (this.isPrevSummaryEnabled) {\n          this.updateScene({ ...this.current.scenes[this.sceneCount - 1], summary: this.prevSummary })\n        }\n        this.updateScene({\n          id: undefined,\n          name: this.name,\n          context: this.context,\n          summary: '',\n          isActive: true,\n          isChanged: false,\n          isInterrupted: false,\n          aspects: this.aspects.filter(v => v?.length)\n        })\n      } else {\n        this.updateScene({\n          id: this.id,\n          name: this.name,\n          context: this.context,\n          summary: this.summary,\n          isActive: true,\n          isChanged: false,\n          isInterrupted: false,\n          aspects: this.aspects.filter(v => v?.length)\n        })\n      }\n    },\n    async onReset (isModification) {\n      if (isModification) {\n        const sceneById = await this.getSceneById(this.id)\n        const { name, context, summary, aspects = [] } = sceneById\n        this.name = name\n        this.context = context\n        this.summary = summary\n        this.aspects = [...aspects]\n      } else {\n        this.name = ''\n        this.context = ''\n        this.summary = ''\n        this.prevSummary = ''\n        this.aspects = []\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditScene.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditScene.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditScene.vue?vue&type=template&id=38d84a3f&scoped=true&\"\nimport script from \"./EditScene.vue?vue&type=script&lang=js&\"\nexport * from \"./EditScene.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"38d84a3f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VDivider,VTextField,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('edit-dialog',{attrs:{\"title\":\"Personnage\",\"icon\":\"far fa-user-circle\",\"id\":_vm.id},on:{\"reset\":_vm.onReset,\"save\":_vm.onSave}},[[_c('v-radio-group',{attrs:{\"row\":\"\"},model:{value:(_vm.isPlayer),callback:function ($$v) {_vm.isPlayer=$$v},expression:\"isPlayer\"}},[_c('v-radio',{attrs:{\"label\":\"Joueur (PJ)\",\"value\":true}}),_c('v-radio',{attrs:{\"label\":\"Non-Joueur (PNJ)\",\"value\":false}})],1),_c('v-text-field',{attrs:{\"label\":\"Nom\",\"hint\":\"Nom du personage\",\"append-icon\":\"fas fa-dice\"},on:{\"click:append\":_vm.newRandomName},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" Aspects: \"),_c('string-list',{attrs:{\"hint\":\"aspect\",\"random-tag\":\"__aspect\"},model:{value:(_vm.aspects),callback:function ($$v) {_vm.aspects=$$v},expression:\"aspects\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <edit-dialog title=\"Personnage\" icon=\"far fa-user-circle\" @reset=\"onReset\" @save=\"onSave\" :id=\"id\">\n    <template>\n      <v-radio-group v-model=\"isPlayer\" row>\n        <v-radio label=\"Joueur (PJ)\" :value=\"true\"></v-radio>\n        <v-radio label=\"Non-Joueur (PNJ)\" :value=\"false\"></v-radio>\n      </v-radio-group>\n      <v-text-field label=\"Nom\" v-model=\"name\" hint=\"Nom du personage\"\n                    append-icon=\"fas fa-dice\"\n                    @click:append=\"newRandomName\" />\n      Aspects:\n      <string-list v-model=\"aspects\" hint=\"aspect\" random-tag=\"__aspect\"/>\n    </template>\n  </edit-dialog>\n</template>\n\n<script>\nimport { randomName } from '@/utils/names'\nimport EditDialog from '@/components/EditDialog'\nimport { mapActions, mapState } from 'vuex'\nimport StringList from '@/components/StringList'\n\nexport default {\n  name: 'EditCharacter',\n  components: { StringList, EditDialog },\n  props: {\n    id: String\n  },\n  data () {\n    return {\n      name: '',\n      isPlayer: false,\n      aspects: []\n    }\n  },\n  computed: {\n    ...mapState(['current'])\n  },\n  methods: {\n    ...mapActions(['updateCharacter', 'getCharacterById', 'getRandom']),\n    newRandomName () {\n      this.name = randomName()\n    },\n    onSave () {\n      this.updateCharacter({\n        id: this.id,\n        name: this.name,\n        isPlayer: this.isPlayer,\n        isActive: true,\n        aspects: this.aspects.filter(v => v?.length)\n      })\n    },\n    async onReset (isModification) {\n      if (isModification) {\n        const { name, isPlayer, aspects = [] } = await this.getCharacterById(this.id)\n        this.name = name\n        this.isPlayer = isPlayer\n        this.aspects = [...aspects]\n      } else {\n        this.name = randomName()\n        this.isPlayer = false\n        this.aspects = []\n        for (let i = 0; i < 5 && this.aspects.length < 3; i++) {\n          this.aspects.splice(this.aspects.length, 0, await this.getRandom({ query: '__aspect', tags: ['__entity'] }))\n        }\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCharacter.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCharacter.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCharacter.vue?vue&type=template&id=354b9b99&scoped=true&\"\nimport script from \"./EditCharacter.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCharacter.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"354b9b99\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VRadio,VRadioGroup,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('edit-dialog',{attrs:{\"title\":\"Log\",\"icon\":_vm.icon || 'fas fa-bolt',\"id\":_vm.id},on:{\"reset\":_vm.onReset,\"save\":_vm.onSave}},[[_c('div',{staticClass:\"mt-2\"},[(_vm.mechanical)?_c('div',[_vm._v(\" \"+_vm._s(_vm.mechanical)+\" \")]):_vm._e(),(_vm.inspirations.length)?_c('div',[_vm._v(\" Inspiration: \"),_vm._l((_vm.inspirations),function(inspiration,i){return _c('tag',{key:i,attrs:{\"label\":inspiration}})})],2):_vm._e(),_c('v-textarea',{attrs:{\"auto-grow\":\"\",\"outlined\":\"\",\"clearable\":\"\",\"label\":\"Interpretation\",\"hint\":\"Une meilleur description\"},model:{value:(_vm.interpretation),callback:function ($$v) {_vm.interpretation=$$v},expression:\"interpretation\"}})],1)]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.label)?_c('v-chip',{staticClass:\"mr-1 mb-1\",attrs:{\"x-small\":\"\",\"pill\":\"\"}},[_vm._v(_vm._s(_vm.label))]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-chip v-if=\"label\" class=\"mr-1 mb-1\" x-small pill>{{ label }}</v-chip>\n</template>\n<script>\nexport default {\n  name: 'tag',\n  props: {\n    label: {\n      type: String,\n      default: ''\n    }\n  }\n}\n</script>\n<style lang=\"sass\">\n$timeline-item-padding: 5px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tag.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tag.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Tag.vue?vue&type=template&id=13d92988&\"\nimport script from \"./Tag.vue?vue&type=script&lang=js&\"\nexport * from \"./Tag.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Tag.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VChip } from 'vuetify/lib/components/VChip';\ninstallComponents(component, {VChip})\n","<template>\n    <edit-dialog title=\"Log\" :icon=\"icon || 'fas fa-bolt'\" @reset=\"onReset\" @save=\"onSave\" :id=\"id\">\n      <template>\n        <div class=\"mt-2\">\n          <div v-if=\"mechanical\">\n            {{ mechanical }}\n          </div>\n          <div v-if=\"inspirations.length\">\n            Inspiration:\n            <tag  v-for=\"(inspiration, i) in inspirations\" :key=\"i\" :label=\"inspiration\" />\n          </div>\n          <v-textarea auto-grow outlined clearable v-model=\"interpretation\" label=\"Interpretation\"\n                      hint=\"Une meilleur description\" />\n        </div>\n      </template>\n    </edit-dialog>\n</template>\n\n<script>\nimport { mapActions, mapState } from 'vuex'\nimport EditDialog from '@/components/EditDialog'\nimport Tag from '@/components/Tag'\nexport default {\n  name: 'EditLog',\n  components: { EditDialog, Tag },\n  props: {\n    id: String\n  },\n  data () {\n    return {\n      icon: '',\n      avatar: '',\n      mechanical: '',\n      interpretation: '',\n      inspirations: []\n    }\n  },\n  computed: {\n  },\n  methods: {\n    ...mapActions(['updateSceneLog', 'getLogById']),\n    onSave (isNew) {\n      this.updateSceneLog({\n        id: this.id,\n        icon: this.icon,\n        avatar: this.avatar,\n        mechanical: this.mechanical,\n        interpretation: this.interpretation,\n        inspirations: [...this.inspirations ?? []]\n      })\n    },\n    async onReset (isModification) {\n      if (isModification) {\n        const item = await this.getLogById(this.id)\n        this.icon = item.icon\n        this.avatar = item.avatar\n        this.mechanical = item.mechanical\n        this.interpretation = item.interpretation\n        this.inspirations = [...item.inspirations ?? []]\n      } else {\n        this.icon = ''\n        this.avatar = ''\n        this.mechanical = ''\n        this.interpretation = ''\n        this.inspirations = []\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditLog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditLog.vue?vue&type=template&id=7c177de2&scoped=true&\"\nimport script from \"./EditLog.vue?vue&type=script&lang=js&\"\nexport * from \"./EditLog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c177de2\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('edit-dialog',{attrs:{\"title\":\"Objectif\",\"icon\":\"fas fa-location-arrow\",\"id\":_vm.id,\"disabled\":_vm.disabled},on:{\"reset\":_vm.onReset,\"save\":_vm.onSave}},[[_c('v-text-field',{attrs:{\"label\":\"Objectif\",\"hint\":\"Objectif poursuivi par le ou les joureurs\",\"append-icon\":\"fas fa-dice\"},on:{\"click:append\":_vm.newRandomGoal},model:{value:(_vm.label),callback:function ($$v) {_vm.label=$$v},expression:\"label\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <edit-dialog title=\"Objectif\" icon=\"fas fa-location-arrow\" @reset=\"onReset\" @save=\"onSave\" :id=\"id\" :disabled=\"disabled\">\n    <!--\n      fas fa-location-arrow\n      far fa-compass\n      fas fa-bullseye\n    -->\n    <template>\n      <v-text-field label=\"Objectif\" v-model=\"label\" hint=\"Objectif poursuivi par le ou les joureurs\"\n                    append-icon=\"fas fa-dice\"\n                    @click:append=\"newRandomGoal\"/>\n    </template>\n  </edit-dialog>\n</template>\n\n<script>\nimport { randomName } from '@/utils/names'\nimport EditDialog from '@/components/EditDialog'\nimport { mapActions, mapState, mapGetters } from 'vuex'\nimport { cleanupRandomConstruct, randomize } from '@/utils/random'\n\nexport default {\n  name: 'EditGoal',\n  components: { EditDialog },\n  props: {\n    id: String\n  },\n  data () {\n    return {\n      label: '',\n      isActive: true\n    }\n  },\n  computed: {\n    ...mapGetters(['activePlayerCharacters', 'activeNonPlayerCharacters']),\n    ...mapState(['current']),\n    disabled () {\n      return !this.activePlayerCharacters.length || !this.activeNonPlayerCharacters.length\n    }\n  },\n  methods: {\n    ...mapActions(['updateGoal', 'getGoalById', 'getRandom']),\n    async newRandomGoal () {\n      this.label = await this.getRandom({ query: '__goal' })\n    },\n    onSave (isNew) {\n      this.updateGoal({\n        id: this.id,\n        label: this.label,\n        isActive: this.isActive\n      })\n    },\n    async onReset (isModification) {\n      if (isModification) {\n        const { label, isActive } = await this.getGoalById(this.id)\n        this.label = label\n        this.isActive = isActive\n      } else {\n        await this.newRandomGoal()\n        this.isActive = true\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditGoal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditGoal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditGoal.vue?vue&type=template&id=fa634f38&scoped=true&\"\nimport script from \"./EditGoal.vue?vue&type=script&lang=js&\"\nexport * from \"./EditGoal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fa634f38\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('edit-dialog',{attrs:{\"title\":\"Lieux\",\"icon\":\"fas fa-place-of-worship\",\"id\":_vm.id},on:{\"reset\":_vm.onReset,\"save\":_vm.onSave}},[[_c('v-text-field',{attrs:{\"label\":\"Nom\",\"hint\":\"Nom du lieux\",\"append-icon\":\"fas fa-dice\"},on:{\"click:append\":_vm.newRandomPlace},model:{value:(_vm.name),callback:function ($$v) {_vm.name=$$v},expression:\"name\"}}),_vm._v(\" Aspects: \"),_c('string-list',{attrs:{\"hint\":\"aspect\",\"random-tag\":\"__aspect\"},model:{value:(_vm.aspects),callback:function ($$v) {_vm.aspects=$$v},expression:\"aspects\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <edit-dialog title=\"Lieux\" icon=\"fas fa-place-of-worship\" @reset=\"onReset\" @save=\"onSave\" :id=\"id\">\n    <template>\n      <v-text-field label=\"Nom\" v-model=\"name\" hint=\"Nom du lieux\"\n                    append-icon=\"fas fa-dice\"\n                    @click:append=\"newRandomPlace\" />\n      Aspects:\n      <string-list v-model=\"aspects\" hint=\"aspect\" random-tag=\"__aspect\"/>\n    </template>\n  </edit-dialog>\n</template>\n\n<script>\nimport EditDialog from '@/components/EditDialog'\nimport { mapActions, mapState } from 'vuex'\nimport StringList from '@/components/StringList'\n\nexport default {\n  name: 'EditPlace',\n  components: { StringList, EditDialog },\n  props: {\n    id: String\n  },\n  data () {\n    return {\n      name: '',\n      isActive: true,\n      aspects: []\n    }\n  },\n  computed: {\n    ...mapState(['current'])\n  },\n  methods: {\n    ...mapActions(['updatePlace', 'getPlaceById', 'getRandom']),\n    async newRandomPlace () {\n      this.name = await this.getRandom({ query: '__place_aspect', tags: ['__place'] })\n    },\n    onSave () {\n      this.updatePlace({\n        id: this.id,\n        name: this.name,\n        isActive: this.isActive,\n        aspects: this.aspects.filter(v => v?.length)\n      })\n    },\n    async onReset (isModification) {\n      if (isModification) {\n        const { name, isActive, aspects = [] } = await this.getPlaceById(this.id)\n        this.name = name\n        this.isActive = isActive\n        this.aspects = [...aspects]\n      } else {\n        await this.newRandomPlace()\n        this.isActive = true\n        this.aspects = []\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlace.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditPlace.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditPlace.vue?vue&type=template&id=45ab4b4f&scoped=true&\"\nimport script from \"./EditPlace.vue?vue&type=script&lang=js&\"\nexport * from \"./EditPlace.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"45ab4b4f\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('edit-dialog',{attrs:{\"title\":\"Question\",\"icon\":\"far fa-question-circle\",\"disabled\":_vm.disabled},on:{\"reset\":_vm.onReset,\"save\":_vm.onSave}},[[_c('v-text-field',{attrs:{\"label\":\"Question\",\"hint\":\"Posez une question fermée, concernant l'histoire, ses personnages, son environement, etc.\",\"placeholder\":\"Est-ce que ... ? (réponse: Oui/Non)\"},model:{value:(_vm.question),callback:function ($$v) {_vm.question=$$v},expression:\"question\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <edit-dialog title=\"Question\" icon=\"far fa-question-circle\" @reset=\"onReset\" @save=\"onSave\" :disabled=\"disabled\">\n    <template>\n      <v-text-field label=\"Question\" v-model=\"question\"\n                    hint=\"Posez une question fermée, concernant l'histoire, ses personnages, son environement, etc.\"\n                    placeholder=\"Est-ce que ... ? (réponse: Oui/Non)\" />\n    </template>\n  </edit-dialog>\n</template>\n\n<script>\nimport EditDialog from '@/components/EditDialog'\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'AddQuestion',\n  components: { EditDialog },\n  props: {\n    index: Number,\n    disabled: Boolean\n  },\n  data () {\n    return {\n      question: ''\n    }\n  },\n  computed: {\n  },\n  methods: {\n    ...mapActions(['randomAnswer']),\n    onSave (isNew) {\n      if (isNew) {\n        this.randomAnswer(this.question)\n      }\n    },\n    onReset () {\n      this.question = ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddQuestion.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddQuestion.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddQuestion.vue?vue&type=template&id=18e3bbfe&scoped=true&\"\nimport script from \"./AddQuestion.vue?vue&type=script&lang=js&\"\nexport * from \"./AddQuestion.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"18e3bbfe\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('edit-dialog',{attrs:{\"title\":\"Commentaire\",\"icon\":\"far fa-comment-alt\",\"disabled\":_vm.disabled},on:{\"reset\":_vm.onReset,\"save\":_vm.onSave}},[[_c('v-text-field',{attrs:{\"label\":\"Commentaire\",\"hint\":\"Ajouter des informations sur ce qu'il se passe dans la scène\"},model:{value:(_vm.comment),callback:function ($$v) {_vm.comment=$$v},expression:\"comment\"}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <edit-dialog title=\"Commentaire\" icon=\"far fa-comment-alt\" @reset=\"onReset\" @save=\"onSave\" :disabled=\"disabled\">\n    <template>\n      <v-text-field label=\"Commentaire\" v-model=\"comment\"\n                    hint=\"Ajouter des informations sur ce qu'il se passe dans la scène\" />\n    </template>\n  </edit-dialog>\n</template>\n\n<script>\nimport EditDialog from '@/components/EditDialog'\nimport { mapActions } from 'vuex'\n\nexport default {\n  name: 'AddComment',\n  components: { EditDialog },\n  props: {\n    index: Number,\n    disabled: Boolean\n  },\n  data () {\n    return {\n      comment: ''\n    }\n  },\n  computed: {\n  },\n  methods: {\n    ...mapActions(['addComment']),\n    onSave (isNew) {\n      if (isNew) {\n        this.addComment(this.comment)\n      }\n    },\n    onReset () {\n      this.comment = ''\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddComment.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddComment.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddComment.vue?vue&type=template&id=4b7cb5ac&scoped=true&\"\nimport script from \"./AddComment.vue?vue&type=script&lang=js&\"\nexport * from \"./AddComment.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4b7cb5ac\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-tooltip',{attrs:{\"top\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mr-2\",attrs:{\"color\":\"primary\",\"fab\":\"\",\"small\":\"\",\"disabled\":_vm.disabled},on:{\"click\":_vm.addEvent}},on),[_c('v-icon',{attrs:{\"small\":\"\"}},[_vm._v(\"fas fa-bolt\")])],1)]}}])},[_c('span',[_vm._v(\"Evénement\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-tooltip top>\n    <template v-slot:activator=\"{ on }\">\n      <v-btn color=\"primary\" fab small class=\"mr-2\" v-on=\"on\" :disabled=\"disabled\" @click=\"addEvent\">\n        <v-icon small>fas fa-bolt</v-icon>\n      </v-btn>\n    </template>\n    <span>Evénement</span>\n  </v-tooltip>\n</template>\n<script>\nimport { mapActions, mapState } from 'vuex'\n\nexport default {\n  name: 'add-event',\n  props: {\n  },\n  computed: {\n    ...mapState(['current']),\n    disabled () {\n      return !this.current.scenes?.length ?? 0\n    }\n  },\n  methods: {\n    ...mapActions(['randomEvent']),\n    addEvent () {\n      this.randomEvent()\n    }\n  }\n}\n</script>\n<style lang=\"sass\">\n$timeline-item-padding: 5px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddEvent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddEvent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddEvent.vue?vue&type=template&id=17cb4c61&\"\nimport script from \"./AddEvent.vue?vue&type=script&lang=js&\"\nexport * from \"./AddEvent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddEvent.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VIcon,VTooltip})\n","<template>\n  <div v-if=\"current.game\">\n    <div class=\"display-1 d-inline-block\"><span class=\"font-weight-bold\">{{ current.game.name }}</span> <small class=\"text--secondary font-weight-light\">({{ current.game.tags.join(\" / \")}})</small> </div>\n    <div class=\"display-1 d-inline-block\"></div>\n\n    <v-alert type=\"info\" text outlined dense border=\"left\" color=\"primary\" class=\"mb-2\" v-if=\"tutorialStep < 6\">\n      <ul>\n        <li v-if=\"tutorialStep === 0\"><edit-character/>Créez au moins un personnage joueur</li>\n        <li v-if=\"tutorialStep > 0\">Ajoutez autant de personages que vous voulez, joueurs ou non</li>\n        <li v-if=\"tutorialStep === 2\"><edit-goal />Créez au moins un objectif de groupe</li>\n        <li v-if=\"tutorialStep > 2\">Ajoutez des objectifs au besoin</li>\n        <li v-if=\"tutorialStep === 3\">\n          <edit-scene />Vous pouvez maintenant créer une scène qui pourra utiliser ces éléments</li>\n        <li v-if=\"tutorialStep > 3\">Quand la scène arrive à sa conclusion, créez-en une nouvelle.</li>\n        <li v-if=\"tutorialStep === 4\">\n          <add-event /><add-question /><add-comment />Ajouter des éléments à la scène</li>\n        <li v-if=\"tutorialStep > 4\">\n          Ajouter des éléments à la scène pour la dérouler jusqu'à sa conclusion</li>\n      </ul>\n    </v-alert>\n\n    <v-expansion-panels accordion popout v-model=\"selectedSceneIndex\">\n      <v-expansion-panel v-for=\"item in current.scenes\" :key=\"item.id\">\n        <v-expansion-panel-header>\n          <div>\n          <b>{{item.name || 'Scène sans nom'}}</b>\n            <span v-if=\"item.summary\"> : {{item.summary}}</span>\n          <edit-scene :id=\"item.id\"/>\n          </div>\n        </v-expansion-panel-header>\n        <v-expansion-panel-content>\n          <v-card v-if=\"item.context\">\n            <v-card-text>\n              <div> {{ item.context }}</div>\n              <div>\n                <v-chip v-for=\"aspect in item.aspects\" :key=\"aspect\" small>{{ aspect }}</v-chip>\n              </div>\n            </v-card-text>\n          </v-card>\n          <v-timeline dense>\n            <v-timeline-item small fill-dot v-for=\"(sceneLog, i) in currentLogs\" :key=\"i\" :icon=\"sceneLog.icon || 'fas fa-bolt'\"> <!-- hide-dot -->\n              <template v-slot:icon>\n                <v-avatar v-if=\"sceneLog.avatar\">\n                  <img :src=\"sceneLog.avatar\" alt=\"Log\">\n                  <!--\n                  <img src=\"https://live.staticflickr.com/130/364558161_bf6529e043_m.jpg\" v-if=\"i%6===2\">\n                  <img src=\"https://live.staticflickr.com/3164/2759452413_65b9d7c017_m.jpg\" v-if=\"i%6===5\">\n                  -->\n                </v-avatar>\n              </template>\n              <v-card class=\"elevation-3\" v-if=\"sceneLog.interpretation\">\n                <v-card-text>{{sceneLog.interpretation}} <edit-log :id=\"sceneLog.id\" /></v-card-text>\n              </v-card>\n              <span class=\"body-2 font-italic font-weight-light text--secondary\" v-else>{{sceneLog.mechanical}}\n                <tag  v-for=\"(inspiration, i) in sceneLog.inspirations\" :key=\"i\" :label=\"inspiration\" />\n                <edit-log :id=\"sceneLog.id\" />\n              </span>\n            </v-timeline-item>\n          </v-timeline>\n        </v-expansion-panel-content>\n      </v-expansion-panel>\n    </v-expansion-panels>\n\n    <v-toolbar dense v-if=\"selectedSceneIndex===currentSceneIndex || currentSceneIndex === -1\">\n\n      <v-icon small class=\"mr-3\">fas fa-plus-circle</v-icon>\n\n      <v-divider vertical class=\"mr-2\" />\n\n      <edit-scene />\n\n      <v-divider vertical class=\"mr-2\" />\n\n      <add-event />\n      <add-question :disabled=\"!current.scenes.length\"/>\n      <add-comment :disabled=\"!current.scenes.length\"/>\n\n      <v-divider vertical class=\"mr-2\" />\n\n      <edit-character />\n      <edit-goal />\n      <edit-place />\n      <v-tooltip top>\n        <template v-slot:activator=\"{ on }\" v-on=\"on\">\n          <v-btn color=\"primary\" fab small disabled class=\"mr-2\">\n            <v-icon small>fas fa-flask</v-icon>\n          </v-btn>\n        </template>\n        <span>Objets</span>\n      </v-tooltip>\n\n      <!--\n      fas fa-scroll               Logs\n      far fa-user-circle          PC\n      fas fa-chalkboard-teacher   NPC\n      far fa-compass              Threads\n      fas fa-bullseye\n      fas fa-plus-circle          Add\n      -->\n    </v-toolbar>\n  </div>\n</template>\n<script>\nimport { mapActions, mapGetters, mapState } from 'vuex'\nimport EditScene from '@/components/EditScene'\nimport EditCharacter from '@/components/EditCharacter'\nimport EditLog from '@/components/EditLog'\nimport Tag from '@/components/Tag'\nimport EditGoal from '@/components/EditGoal'\nimport EditPlace from '@/components/EditPlace'\nimport AddQuestion from '@/components/AddQuestion'\nimport AddComment from '@/components/AddComment'\nimport AddEvent from '@/views/AddEvent'\n\nexport default {\n  name: 'Game',\n  components: { AddEvent, AddComment, AddQuestion, Tag, EditCharacter, EditScene, EditLog, EditGoal, EditPlace },\n  beforeRouteUpdate (to, from, next) {\n    console.log('to:' + to, 'from:' + from)\n    if (!this.current?.game) {\n      next('/load')\n    } else {\n      next()\n    }\n  },\n  data () {\n    return {\n      selectedSceneIndex: []\n    }\n  },\n  computed: {\n    ...mapState([\n      'current'\n    ]),\n    ...mapGetters([\n      'activePlayerCharacters', 'activeNonPlayerCharacters', 'activeGoals'\n    ]),\n    currentSceneIndex () {\n      return (this.current?.scenes?.length ?? 0) - 1\n    },\n    currentLogs () {\n      return this.current?.logs ?? []\n    },\n    oldScenes () {\n      return this.current.scenes.slice(0, this.current.sceneIndex)\n    },\n    currentScene () {\n      return this.current.scenes.slice(this.currentSceneIndex)\n    },\n    tutorialStep () {\n      let res\n      if (this.current.scenes.length > 1) {\n        res = 6\n      } else if (this.current.logs.length) {\n        res = 5\n      } else if (this.current.scenes.length) {\n        res = 4\n      } else if (this.activeGoals.length) {\n        res = 3\n      } else if (this.activePlayerCharacters.length) {\n        res = 2\n      } else {\n        res = 0\n      }\n      console.log('tutorialStep', res)\n      return res\n    }\n  },\n  methods: {\n    ...mapActions(['closeCurrentGame', 'updatePlace', 'loadScene']),\n    goToTheEnd () {\n      setTimeout(() => document.body.scrollIntoView(false), 20)\n    }\n  },\n  watch: {\n    currentScene () {\n      this.selectedSceneIndex = this.currentSceneIndex\n      this.goToTheEnd()\n    },\n    async selectedSceneIndex () {\n      if (this.selectedSceneIndex >= 0) {\n        await this.loadScene(this.selectedSceneIndex)\n      }\n    }\n  },\n  mounted () {\n    this.panels = [this.current.scenes.length - 1]\n    if (this.currentSceneIndex >= 0) {\n      this.selectedSceneIndex = this.currentSceneIndex\n    }\n  }\n}\n</script>\n\n<style lang=\"sass\">\n  $timeline-item-padding: 5px\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Game.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Game.vue?vue&type=template&id=cc4dcb86&\"\nimport script from \"./Game.vue?vue&type=script&lang=js&\"\nexport * from \"./Game.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Game.vue?vue&type=style&index=0&lang=sass&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VAvatar } from 'vuetify/lib/components/VAvatar';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VExpansionPanel } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelContent } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanelHeader } from 'vuetify/lib/components/VExpansionPanel';\nimport { VExpansionPanels } from 'vuetify/lib/components/VExpansionPanel';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\nimport { VTimeline } from 'vuetify/lib/components/VTimeline';\nimport { VTimelineItem } from 'vuetify/lib/components/VTimeline';\nimport { VToolbar } from 'vuetify/lib/components/VToolbar';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VAlert,VAvatar,VBtn,VCard,VCardText,VChip,VDivider,VExpansionPanel,VExpansionPanelContent,VExpansionPanelHeader,VExpansionPanels,VIcon,VTimeline,VTimelineItem,VToolbar,VTooltip})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Tags \"),(_vm.currentTags)?_c('span',{staticClass:\"text--secondary font-weight-light\"},[_vm._v(\"(\"+_vm._s(_vm.currentTags)+\")\")]):_vm._e()]),_vm._l((_vm.tagsByTheme),function(tagsByType,theme){return _c('v-card',{key:theme,staticClass:\"ma-1\"},[_c('v-card-title',[_vm._v(_vm._s(_vm.labelOf(theme)))]),_c('v-card-text',_vm._l((tagsByType),function(tags,type){return _c('div',{key:theme + type},[_c('h3',[_vm._v(_vm._s(_vm.labelOf(type))+\" \"),_c('small',[_vm._v(\"(\"+_vm._s(tags.length)+\")\")])]),_vm._l((tags),function(tag){return _c('v-hover',{key:theme + type + tag.value,scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar hover = ref.hover;\nreturn [_c('v-chip',{staticClass:\"mr-1 mb-1\",attrs:{\"small\":\"\",\"close\":hover}},_vm._l((tag.parsedValue),function(tagBlock,index){return _c('span',{key:index},[(tagBlock.type === 'reference')?_c('u',{staticClass:\"secondary--text\"},[_vm._v(\"<\"+_vm._s(tagBlock.required.map(function (t) { return _vm.labelOf(t); }).join(','))+\">\")]):_c('span',{staticClass:\"white-space: pre;\"},[_vm._v(\"​\"+_vm._s(tagBlock.value)+\"​\")])])}),0)]}}],null,true)})})],2)}),0)],1)})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { mapState } from 'vuex'\nimport Component from 'vue-class-component'\nimport Vue from 'vue'\nimport { VCard, VCardText, VCardTitle, VChip, VHover } from 'vuetify/lib/components'\nimport { TagInfo, TagStorage } from '@/store/tags/types'\n\nfunction nonEmptyOrDefault<T> (list: T[], defaultIfEmpty: T[]): T[] {\n  return list.length > 0 ? list : defaultIfEmpty\n}\n@Component({\n  components: { VCard, VCardTitle, VCardText, VHover, VChip },\n  computed: { ...mapState(['tagStorage', 'current']) }\n})\nexport default class Tags extends Vue {\n  tagStorage!: TagStorage;\n  current?: { game?: { tags?: string[] } }\n  get currentTags () {\n    return (this.current?.game?.tags ?? []).join(', ') || 'Tous les thèmes'\n  }\n\n  get tagsByTheme () {\n    const res: Record<string, Record<string, TagInfo[]>> = {}\n    const allThemes = this.tagStorage.getThemes();\n    [...this.tagStorage.getAllNonThemeTags()].map(t => this.tagStorage.get(t))\n      .forEach(t => {\n        if (!t) return\n        const thisThemes = nonEmptyOrDefault([...t.requires].filter(a => allThemes.includes(a)), ['__theme'])\n        const thisNotThemes = [...t.isA].filter(a => !thisThemes.includes(a) && a !== '__theme')\n        thisThemes.forEach(theme => {\n          const themeMap = (res[theme] = res[theme] ?? {})\n          thisNotThemes.forEach(type => {\n            const typeList = (themeMap[type] = themeMap[type] ?? [])\n            typeList.splice(typeList.length, 0, t)\n          })\n        })\n      })\n    return res\n  }\n\n  get displayMap (): Record<string, string> {\n    return {\n      __theme: 'Défaut',\n      __name__: 'Nom Aléatoire'\n    }\n  }\n\n  labelOf (type: string): string {\n    return this.displayMap[type] ?? this.tagStorage.get(type)?.value ?? type\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tags.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tags.vue?vue&type=template&id=bba50ae8&scoped=true&\"\nimport script from \"./Tags.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tags.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bba50ae8\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VHover } from 'vuetify/lib/components/VHover';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VChip,VHover})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-card',{staticClass:\"mb-2\"},[_c('v-card-title',[_c('v-icon',[_vm._v(\"far fa-user-circle\")]),_vm._v(\"Personages\")],1),_c('v-divider'),_c('v-card-text',[(_vm.activePlayerCharacters.length + _vm.activeNonPlayerCharacters.length)?_c('ul',[_vm._l((_vm.activePlayerCharacters),function(character){return _c('li',{key:character.id},[_c('b',[_vm._v(_vm._s(character.name)+\" (joueur)\")]),_vm._v(\" \"),_vm._l((character.aspects),function(aspect){return _c('v-chip',{key:aspect,staticClass:\"mr-1\",attrs:{\"x-small\":\"\",\"pill\":\"\"}},[_vm._v(_vm._s(aspect))])}),_vm._v(\" \"),_c('edit-character',{attrs:{\"id\":character.id}})],2)}),_vm._l((_vm.activeNonPlayerCharacters),function(character){return _c('li',{key:character.id},[_vm._v(_vm._s(character.name)+\" \"),_vm._l((character.aspects),function(aspect){return _c('v-chip',{key:aspect,staticClass:\"mr-1\",attrs:{\"x-small\":\"\",\"pill\":\"\"}},[_vm._v(_vm._s(aspect))])}),_vm._v(\" \"),_c('edit-character',{attrs:{\"id\":character.id}})],2)})],2):_c('span',[_vm._v(\"Aucun\")])])],1),_c('v-card',{staticClass:\"mb-2\"},[_c('v-card-title',[_c('v-icon',[_vm._v(\"fas fa-location-arrow\")]),_vm._v(\"Objectifs\")],1),_c('v-divider'),_c('v-card-text',[(_vm.activeGoals.length)?_c('ul',_vm._l((_vm.activeGoals),function(goal){return _c('li',{key:goal.id},[_vm._v(_vm._s(goal.label)+\" \"),_c('edit-goal',{attrs:{\"id\":goal.id}})],1)}),0):_c('span',[_vm._v(\"Aucun\")])])],1),_c('v-card',{staticClass:\"mb-2\"},[_c('v-card-title',[_c('v-icon',[_vm._v(\"fas fa-place-of-worship\")]),_vm._v(\"Lieux\")],1),_c('v-divider'),_c('v-card-text',[(_vm.activePlaces.length)?_c('ul',_vm._l((_vm.activePlaces),function(place){return _c('li',{key:place.id},[_vm._v(\" \"+_vm._s(place.name)+\" \"),_c('edit-place',{attrs:{\"id\":place.id}})],1)}),0):_c('span',[_vm._v(\"Aucun\")])])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <v-card class=\"mb-2\">\n      <v-card-title><v-icon>far fa-user-circle</v-icon>Personages</v-card-title>\n      <v-divider></v-divider>\n      <v-card-text>\n        <ul v-if=\"activePlayerCharacters.length + activeNonPlayerCharacters.length\">\n          <li v-for=\"(character) in activePlayerCharacters\" :key=\"character.id\"><b>{{character.name}} (joueur)</b> <v-chip v-for=\"aspect in character.aspects\" :key=\"aspect\" class=\"mr-1\" x-small pill>{{ aspect }}</v-chip> <edit-character :id=\"character.id\" /></li>\n          <li v-for=\"(character) in activeNonPlayerCharacters\" :key=\"character.id\">{{character.name}} <v-chip v-for=\"aspect in character.aspects\" :key=\"aspect\" class=\"mr-1\" x-small pill>{{ aspect }}</v-chip> <edit-character :id=\"character.id\" /></li>\n        </ul>\n        <span v-else>Aucun</span>\n      </v-card-text>\n    </v-card>\n\n    <v-card class=\"mb-2\">\n      <v-card-title><v-icon>fas fa-location-arrow</v-icon>Objectifs</v-card-title>\n      <v-divider></v-divider>\n      <v-card-text>\n        <ul v-if=\"activeGoals.length\">\n          <li v-for=\"(goal) in activeGoals\" :key=\"goal.id\">{{goal.label}} <edit-goal :id=\"goal.id \" /></li>\n        </ul>\n        <span v-else>Aucun</span>\n      </v-card-text>\n    </v-card>\n\n    <v-card class=\"mb-2\">\n      <v-card-title><v-icon>fas fa-place-of-worship</v-icon>Lieux</v-card-title>\n      <v-divider></v-divider>\n      <v-card-text>\n        <ul v-if=\"activePlaces.length\">\n          <li v-for=\"(place) in activePlaces\" :key=\"place.id\">\n            {{ place.name }}\n            <edit-place :id=\"place.id \" />\n          </li>\n        </ul>\n        <span v-else>Aucun</span>\n      </v-card-text>\n    </v-card>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport EditCharacter from '@/components/EditCharacter'\nimport EditGoal from '@/components/EditGoal'\nimport EditPlace from '@/components/EditPlace'\nexport default {\n  name: 'ListsView',\n  components: { EditGoal, EditCharacter, EditPlace },\n  computed: {\n    ...mapGetters(['activePlayerCharacters', 'activeNonPlayerCharacters', 'activeGoals', 'activePlaces'])\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lists.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Lists.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Lists.vue?vue&type=template&id=393da42a&scoped=true&\"\nimport script from \"./Lists.vue?vue&type=script&lang=js&\"\nexport * from \"./Lists.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"393da42a\",\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VChip } from 'vuetify/lib/components/VChip';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VIcon } from 'vuetify/lib/components/VIcon';\ninstallComponents(component, {VCard,VCardText,VCardTitle,VChip,VDivider,VIcon})\n","import Vue from 'vue'\nimport Vuex from 'vuex'\n\nimport data from '@/assets/data.json'\nimport { randomName } from '@/utils/names.ts'\nimport { cleanupRandomConstruct, randomize } from '@/utils/random.ts'\nimport { Entity, Repository, RootState, RSCharacter, RSGame, RSGoal, RSLog, RSPlace, RSScene } from './types'\n\nimport RemoteStorage from 'remotestoragejs'\nimport Widget from 'remotestorage-widget'\nimport BaseClient from 'remotestoragejs/release/types/baseclient'\nimport { TagStorage } from '@/store/tags/types'\n\nVue.use(Vuex)\n\n/*\n/games/<uuid>/content                { created, modified, name, accessed }\n/games/<uuid>/tags/<uuid>         { created, modified, name, extends }\n/games/<uuid>/characters/<uuid>   { created, modified, name, active, player }\n/games/<uuid>/threads/<uuid>      { created, modified, name, active }\n/games/<uuid>/places/<uuid>       { created, modified, name, active }\n/games/<uuid>/scenes/<uuid>/content { created, modified, name }\n/games/<uuid>/scenes/<uuid>/logs/<uuid> { created, modified, name }\n */\n\nexport interface RSEvent {\n  // Absolute path of the changed node, from the storage root\n  path: string;\n  // Path of the changed node, relative to this baseclient's scope root\n  relativePath: string;\n  // See origin descriptions below\n  origin: 'window'|'local'|'remote'|'conflict';\n  // Old body of the changed node (local version in conflicts; undefined if creation)\n  oldValue: any;\n  // New body of the changed node (remote version in conflicts; undefined if deletion)\n  newValue: any;\n  // Old contentType of the changed node (local version for conflicts; undefined if creation)\n  oldContentType: string;\n  // New contentType of the changed node (remote version for conflicts; undefined if deletion)\n  newContentType: string;\n  // Most recent known common ancestor body of local and remote\n  lastCommonValue: any;\n  // Most recent known common ancestor contentType of local and remote\n  lastCommonContentType: any;\n}\n\nexport interface GameModule {\n  list: () => Promise<RSGame[]>;\n  get: (gameId: string) => Promise<RSGame>;\n  save: (game: RSGame) => Promise<RSGame>;\n  remove: (game: RSGame | string) => Promise<void>;\n  characters(game: RSGame): Repository<RSCharacter>;\n  places(game: RSGame): Repository<RSPlace>;\n  goals(game: RSGame): Repository<RSGoal>;\n  scenes(game: RSGame): Repository<RSScene>;\n  logs(game: RSScene): Repository<RSLog>;\n  onChange (handler: (event: RSEvent) => void): void;\n}\n\nconst RSGameModule = {\n  name: 'gm_emulator',\n  builder: function (privateClient: BaseClient, publicClient: BaseClient) {\n    privateClient.declareType('game', {\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n        name: { type: 'string' },\n        tags: {\n          type: 'array',\n          items: 'string',\n          minimum: 1\n        },\n        tagsByType: {\n          type: 'object',\n          patternProperties: {\n            '.*': { type: 'array', items: 'string', minimum: 1 }\n          }\n        }\n      },\n      required: ['id', 'name', 'tags']\n    })\n    privateClient.declareType('character', {\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n        name: { type: 'string' },\n        isPlayer: { type: 'boolean' },\n        isActive: { type: 'boolean' },\n        aspects: { type: 'array', items: 'string' }\n      },\n      required: ['id', 'name', 'isPlayer', 'isActive']\n    })\n    privateClient.declareType('place', {\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n        name: { type: 'string' },\n        isActive: { type: 'boolean' },\n        aspects: { type: 'array', items: 'string' }\n      },\n      required: ['id', 'name', 'isActive']\n    })\n    privateClient.declareType('goal', {\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n        label: { type: 'string' },\n        isActive: { type: 'boolean' }\n      },\n      required: ['id', 'label', 'isActive']\n    })\n    privateClient.declareType('scene', {\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n        name: { type: 'string' },\n        isActive: { type: 'boolean' },\n        context: { type: 'string' },\n        summary: { type: 'string' },\n        aspects: { type: 'array', items: 'string' },\n        isChanged: { type: 'boolean' },\n        isInterrupted: { type: 'boolean' },\n        alteredContext: { type: 'string' }\n      },\n      required: ['id', 'name']\n    })\n    privateClient.declareType('log', {\n      type: 'object',\n      properties: {\n        id: { type: 'string' },\n        icon: { type: 'string' },\n        avatar: { type: 'string' },\n        mechanical: { type: 'string' },\n        interpretation: { type: 'string' },\n        inspirations: { type: 'array', items: 'string', minimum: 0 }\n      },\n      required: ['id', 'icon']\n    })\n\n    const exports: GameModule = Object.assign(\n      new Repository<RSGame>(privateClient, 'game', '', true),\n      {\n        characters (game: RSGame) { return new Repository<RSCharacter>(privateClient, 'character', game.id) },\n        places (game: RSGame) { return new Repository<RSPlace>(privateClient, 'place', game.id) },\n        goals (game: RSGame) { return new Repository<RSGoal>(privateClient, 'goal', game.id) },\n        scenes (game: RSGame) { return new Repository<RSScene>(privateClient, 'scene', game.id, true) },\n        logs (scene: RSScene) { return new Repository<RSLog>(privateClient, 'log', scene.id) },\n        onChange (handler: (event: RSEvent) => void) {\n          privateClient.on('change', e => handler(e as RSEvent))\n        }\n      }\n    )\n\n    return { exports }\n  }\n}\n\nconst remoteStorage = new RemoteStorage({\n  logging: false,\n  changeEvents: {\n    window: true,\n    remote: true,\n    local: true,\n    conflict: true\n  },\n  modules: [RSGameModule]\n})\n\nconst rsGameModule = ((remoteStorage as any).gm_emulator as GameModule)\n\nremoteStorage.access.claim('gm_emulator', 'rw')\n\nconst widget = new Widget(remoteStorage, { logging: true })\n\nremoteStorage.on('connected', () => {\n  const userAddress = remoteStorage.remote.userAddress\n  console.debug(`${userAddress} connected their remote storage.`)\n})\n\nremoteStorage.on('ready', () => {\n  const userAddress = remoteStorage.remote.userAddress\n  console.debug(`${userAddress} remote storage is read.`)\n})\n\nremoteStorage.on('network-offline', () => {\n  console.debug('We\\'re offline now.')\n})\n\nremoteStorage.on('network-online', () => {\n  console.debug('Hooray, we\\'re back online.')\n})\n\nfunction mergeInto<T extends Entity> (list: T[], elt: T, reverse = false) {\n  if (!elt.id) {\n    throw Error('Element has no id')\n  }\n  const idx = list.findIndex(e => e.id === elt.id)\n  if (idx < 0) {\n    const nextIdx = reverse ? list.findIndex(e => (e.createdDate ?? 0) < (elt.createdDate ?? 0))\n      : list.findIndex(e => (e.createdDate ?? 0) > (elt.createdDate ?? 0))\n    const defaultIdx = reverse ? 0 : list.length\n    const insertIdx = nextIdx < 0 ? defaultIdx : nextIdx\n    list.splice(insertIdx, 0, elt)\n    return { isNew: true, index: insertIdx }\n  } else {\n    list.splice(idx, 1, elt)\n    return { isNew: false, index: idx }\n  }\n}\n\nconst store = new Vuex.Store({\n  state: new RootState(),\n  getters: {\n    activePlayerCharacters (state: RootState): RSCharacter[] {\n      return (state.current?.characters ?? []).filter(c => c.isActive && c.isPlayer)\n    },\n    activeNonPlayerCharacters (state: RootState): RSCharacter[] {\n      return (state.current?.characters ?? []).filter(c => c.isActive && !c.isPlayer)\n    },\n    activePlaces (state: RootState): RSPlace[] {\n      return (state.current?.places ?? []).filter(c => c.isActive)\n    },\n    activeGoals (state: RootState): RSGoal[] {\n      return (state.current?.goals ?? []).filter(c => c.isActive)\n    }\n  },\n  mutations: {\n    newGame (state: RootState, game: RSGame) {\n      mergeInto(state.games, game, true)\n      state.current = {\n        game,\n        characters: [],\n        places: [],\n        goals: [],\n        scenes: [],\n        sceneIndex: -1,\n        logs: []\n      }\n      state.tagStorage.setFilters(...game.tags)\n    },\n    savedGames (state: RootState, games: RSGame[]) {\n      state.games = [...games]\n      return state\n    },\n    loadGame (state: RootState, { game, characters, places, goals, scenes, sceneIndex, logs }: {\n      game: RSGame;\n      characters: RSCharacter[];\n      places: RSPlace[];\n      goals: RSGoal[];\n      scenes: RSScene[];\n      sceneIndex: number;\n      logs: RSLog[];\n    }) {\n      state.current = { game, characters, places, goals, scenes, sceneIndex, logs }\n      state.tagStorage.setFilters(...game.tags)\n    },\n    deleteGame (state: RootState, id: string) {\n      if (state.current?.game?.id === id) {\n        state.current = undefined\n      }\n      const idx = state.games.findIndex(g => g.id === id)\n      if (idx >= 0) {\n        state.games.splice(idx, 1)\n      }\n    },\n    closeGame (state: RootState) {\n      state.current = undefined\n      state.tagStorage.clearFilters()\n    },\n    updateScene (state: RootState, update: RSScene) {\n      if (!state.current?.game) {\n        throw Error('No loaded game')\n      }\n      mergeInto(state.current.scenes, update)\n    },\n    loadScene (state: RootState, { index, logs }: { index: number; logs: RSLog[] }) {\n      if (!state.current?.game) {\n        throw Error('No loaded game')\n      }\n      state.current.sceneIndex = index\n      state.current.logs = logs\n    },\n    updateCharacter (state: RootState, update: RSCharacter) {\n      if (!state.current) {\n        throw Error('No loaded game')\n      }\n      mergeInto(state.current.characters, update)\n    },\n    updatePlace (state: RootState, update: RSPlace) {\n      if (!state.current) {\n        throw Error('No loaded game')\n      }\n      mergeInto(state.current.places, update)\n    },\n    updateGoal (state: RootState, update: RSGoal) {\n      if (!state.current?.game) {\n        throw Error('No loaded game')\n      }\n      mergeInto(state.current.goals, update)\n    },\n    updateSceneLog (state: RootState, update: RSLog) {\n      if (!state.current) {\n        throw Error('No loaded game')\n      }\n      mergeInto(state.current.logs, update)\n    }\n  },\n  actions: {\n    async createFakeGame ({ dispatch }) {\n      await dispatch('createNewGame', { name: '7e mer', tags: ['Pirates'] })\n      await dispatch('updateCharacter', { isActive: true, isPlayer: true, name: 'Read (Thomas)' })\n      await dispatch('updateCharacter', { isActive: true, isPlayer: true, name: 'Eilissa (Marjo)' })\n      await dispatch('updateCharacter', { isActive: true, isPlayer: true, name: 'Ruby (Margot)' })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Batea, espion repenti de la CCA, petit ami de Liani'\n      })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Liani, espion de la CCA, petite amie de Batea'\n      })\n      await dispatch('updateCharacter', { isActive: true, isPlayer: false, name: 'Gustav Gregor Damaske, Hexe [Scélérat]' })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Kabu, chasseur, phobie de la mer, fils de l\\'ancêtre Nasa (H)'\n      })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Grand-Mère Nan, fille de l\\'ancêtre Karaya (F)'\n      })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Tit\\'Nan, pêcheuse de perles, petite fille de Grand-Mère Nan'\n      })\n      await dispatch('updateCharacter', { isActive: true, isPlayer: false, name: 'Enoon, marchand de perles' })\n      await dispatch('updateCharacter', { isActive: true, isPlayer: false, name: 'Capitaine du fort' })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Enrico Munafo, Capitaine du \"Vol au Vent\", Agent de la CCA, Chargement d\\'esclaves, [Scélérat]'\n      })\n      await dispatch('updateCharacter', { isActive: true, isPlayer: false, name: 'Capitaine du port, maitre des registres' })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Beeron, Agent du Riroco, Prisonnier de la CCA, Dénoncé par Batea'\n      })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Qidan, Tailleur de harpons, Veut libérer son père (Beeron), rancune contre la CCA'\n      })\n      await dispatch('updateCharacter', {\n        isActive: true,\n        isPlayer: false,\n        name: 'Le tavernier, à la potence pour avoir \"aidé les héros à s\\'enfuir'\n      })\n      await dispatch('updateGoal', { isActive: true, label: 'Faire péter le fort de la CCA sur l\\'île' })\n      await dispatch('updateGoal', { isActive: true, label: 'Faire fortune' })\n      await dispatch('updateGoal', { isActive: true, label: 'Boire du rhum' })\n      await dispatch('updateGoal', { isActive: true, label: 'Protéger sa/la liberté' })\n      await dispatch('updatePlace', { isActive: true, name: 'Le port, les personnages y  sont recherchés' })\n      await dispatch('updatePlace', {\n        isActive: true,\n        name: 'Le fort, de la poudre et des esclaves y sont enfermés avant d\\'être vendus en Jaragua'\n      })\n      await dispatch('updatePlace', { isActive: true, name: 'La planque de Batea et Liana' })\n      await dispatch('updatePlace', { isActive: true, name: 'La planque de l\\'Hexe, un cabanon  dans la jungle' })\n      await dispatch('updatePlace', { isActive: true, name: 'Le volcan, Ambiance sulfureuse (on y trouve du souffre)' })\n      await dispatch('updateScene', {\n        name: 'Grabuge à la taverne',\n        context: 'Read et Eilissa discutent avec deux Rahuris à la taverne du \"Vieux Faucon\"',\n        summary: 'Les personages (Read et Eilissa) sympathisent avec deux Rahuris (Batea et Liani). Ils boivent des ' +\n          'bières en réfléchissant à comment porter un coup à la Compagnie Commerciale Atabéenne. Malheureusement, des ' +\n          'brutes de la CCA dans la taverne ne l\\'entende pas de cette manière... et c\\'est la baston. Nos héros leur ' +\n          'mettent une raclée... puis à la garde de la CCA qui débarque. '\n      })\n      await dispatch('updateScene', {\n        name: 'Fuite dans la jungle avec les deux Rahuris. ',\n        context: 'Pendant la nuit, Batea à un rendez vous secret',\n        summary: 'Pendant la nuit, Batea à un rendez vous secret. S\\'ensuit une filature, puis une course poursuite ' +\n          'dans la jungle pour capturer Batea et le messager qu\\'il envoie à la CCA. Liani se révèle être aussi à la ' +\n          'solde de la CCA, et s\\'enfuit dans la jungle. '\n      })\n      await dispatch('addComment', 'Le messager est abandonné ligoté dans la jungle')\n      await dispatch('updateScene', {\n        name: 'Enquête de grenouilles. ',\n        context: 'Read reçoit la visite de Lechtouille',\n        summary: 'Pendant la même nuit, Read reçoit la visite de Lechtouille, ' +\n          'une coqui (grenouille messagère des morts). Il guide les personnages à Soryana, le royaume des morts. ' +\n          'Quand il realise qu\\'il est dans la grotte qui abrite le nom de ses ancêtres, Batea se repent et promet ' +\n          'd\\'aider les personnages. À Soryana, ils apprennent que des ancêtres disparaissent. En retournant dans le ' +\n          'monde des vivants, ils suivent une piste de coqui (mortes?) qui les mène à un cabanon dans la jungle. ' +\n          'Ils y libèrent un (2?) ancêtre apathique, qu\\'ils ramènent à son village à Soryana. '\n      })\n      await dispatch('updateScene', {\n        name: 'Combat contre l\\'Hexe',\n        context: 'Les personnages sont maintenant à l\\'affût au cabanon, dans l\\'espoir de retrouver son maléfique ' +\n          'propriétaire. ',\n        summary: 'L\\'Hexe qui habite là tombe entre les mains des personnages, mais les ancêtres qui l\\'accompagnent ' +\n          's\\'interposent. Après avoir été blessés, ils se transforment en mabuya. '\n      })\n      await dispatch('updateScene', {\n        name: 'Il faut sauver les anciens',\n        context: '',\n        summary: 'De retour à Soryana, ils apprennent comment les libérer, et qui chercher pour trouver un objet cher ' +\n          'aux ancêtres de leur vivant. \\n' +\n          'Tit\\'Nan leur demande leur aide avec une palourde géante. Après 2 échecs, un peu d\\'explosif en viendra ' +\n          'finalement à bout. Elle leur donnera une belle perle (1 de richesse) en remerciement. Elle les conduits ' +\n          'ensuite à sa grand mère, Grand-Mère Nan, qui leur confiera le bracelet d\\'esclave de Karaya. \\n' +\n          '\\n' +\n          'Kabu le chasseur, fils de Nasa, leur confie la conque de son père. Après un bref passage à Soryana pour ' +\n          'bénir les objets, Kabu les guide jusqu\\'au seul temple en ruines qu\\'il connaisse dans la jungle, où ils ' +\n          'ramènent Karaya à la raison. \\n' +\n          '\\n' +\n          'Ils cherchent ensuite Nasa au large de son village. À la tombée de la nuit, un serpent de mer attaque leur ' +\n          'bateau de pêche. Une fois le serpent mis hors d\\'état de nuire, Nasa apparaît, et les personnages le ' +\n          'ramènent à lui. '\n      })\n      await dispatch('updateScene', {\n        name: 'Quand on arrive en ville...',\n        context: '',\n        summary: 'Les personnages cherchent à se procurer une grande quantité de poudre pour faire péter le fort. ' +\n          'Après avoir contacté Tit\\'Nan et grand-mère Nan sans succès, ils retournent discrètement au port où ils ' +\n          'sont maintenant recherchés. Sur la route, un flash de lumière leur indique que quelqu\\'un les à repéré. ' +\n          'Ils visitent un peu rudement Qidan le tailleur de harpon, un contact de Batea dont le père (Beeron) est ' +\n          'enfermé au fort et qui a toutes les raisons d\\'en vouloir à la CCA (et à Batea). Il leur indique que le ' +\n          'capitaine du port a toutes les cargaisons listés dans son registre. Que sinon, il doivent pouvoir en ' +\n          'fabriquer à base de charbon, de salpètre (conservateur pour le poisson) et de souffre (du volcan). \\n' +\n          'De retour se planquer chez Batea, ils le surprennent au milieu de la nuit en pleine discussion mouvementé ' +\n          'avec Liani.'\n      })\n      await dispatch('updateScene', {\n        name: '',\n        context: '',\n        summary: ''\n      })\n\n      await dispatch('createNewGame', { name: 'Arrrhh !!', tags: ['Pirates'] })\n      for (let i = 0; i < 3; i++) {\n        await dispatch('updateCharacter', {\n          name: randomName(),\n          isActive: true,\n          isPlayer: true,\n          aspects: [\n            await dispatch('getRandom', { query: '__aspect', tags: ['__entity'] }),\n            await dispatch('getRandom', { query: '__aspect', tags: ['__entity'] }),\n            await dispatch('getRandom', { query: '__aspect', tags: ['__entity'] })\n          ]\n        })\n      }\n      for (let i = 0; i < 5; i++) {\n        await dispatch('updateCharacter', {\n          name: randomName(),\n          isActive: true,\n          isPlayer: false,\n          aspects: [\n            await dispatch('getRandom', { query: '__aspect', tags: ['__entity'] }),\n            await dispatch('getRandom', { query: '__aspect', tags: ['__entity'] }),\n            await dispatch('getRandom', { query: '__aspect', tags: ['__entity'] })\n          ]\n        })\n        await dispatch('updatePlace', { name: await dispatch('getRandom', { query: '__place_aspect' }), isActive: true })\n        await dispatch('updateGoal', { label: await dispatch('getRandom', { query: '__goal' }), isActive: true })\n      }\n      await dispatch('updateScene', {\n        name: 'A la taverne du \"Poney Fringant\"',\n        context: 'Bonne ambiance au \"Poney Fringant\", l\\'alcool coule à flot, quand soudain... Un matelot ouvre la porte en grand fracas: \"Les bernards-l\\'hermite attaquent !\"',\n        summary: 'Grosse chouffe, une attaque de crustacés, les personnages sauvent une fillette'\n      })\n      for (let i = 0; i < 5; i++) {\n        await dispatch('randomEvent')\n      }\n      await dispatch('updateScene', {\n        name: ''\n      })\n      for (let i = 0; i < 5; i++) {\n        await dispatch('randomEvent')\n      }\n      await dispatch('closeCurrentGame')\n      // Matt le fermier\n      await dispatch('createNewGame', {\n        name: 'Matt le fermier et les îles flottantes',\n        tags: ['Dragons', 'Moyen-Age', 'Fantasy', 'Pirates']\n      })\n      await dispatch('updateScene', {\n        index: -1,\n        name: 'L\\'Effondrement',\n        context: 'Matt est en train de travailler dans son champ quand soudain le sol se met à trembler !'\n      })\n\n      await dispatch('updateGoal', { isActive: true, label: 'Survivre' })\n      await dispatch('updateCharacter', { isActive: true, isPlayer: true, name: 'Matt le fermier' })\n\n      await dispatch('updateSceneLog', { icon: 'fas fa-bolt', mechanical: 'Matt va voir rassurer les chevaux qui paniquent' })\n      await dispatch('updateSceneLog', {\n        icon: 'fas fa-bolt',\n        mechanical: 'La borduere de l\\'enclot tombe dans le vide suite à une secousse plus forte que les autres'\n      })\n    },\n    async createNewGame ({ commit, state }, game: RSGame) {\n      commit('newGame', await rsGameModule.save(game))\n    },\n    async listSavedGames ({ commit }) {\n      commit('savedGames', (await rsGameModule.list()).reverse())\n    },\n    async loadSavedGame ({ commit }, id) {\n      const game = await rsGameModule.get(id)\n      const characterPromise = rsGameModule.characters(game).list()\n      const placesPromise = rsGameModule.places(game).list()\n      const goalsPromise = rsGameModule.goals(game).list()\n      const scenesPromise = rsGameModule.scenes(game).list()\n      await Promise.all([characterPromise, placesPromise, goalsPromise, scenesPromise])\n      const [characters, places, goals, scenes] = [\n        await characterPromise,\n        await placesPromise,\n        await goalsPromise,\n        await scenesPromise\n      ]\n      const sceneIndex = scenes.length - 1\n      const scene = sceneIndex >= 0 ? scenes[sceneIndex] : undefined\n      const logs = scene ? await rsGameModule.logs(scene).list() : []\n      commit('loadGame', { game, characters, places, goals, scenes, sceneIndex, logs })\n    },\n    async deleteGame ({ commit }, id) {\n      await rsGameModule.remove(id)\n      commit('deleteGame', id)\n    },\n    closeCurrentGame ({ commit }) {\n      commit('closeGame')\n    },\n    async updateScene ({ commit, state, dispatch }, payload: RSScene) {\n      if (!state.current) throw Error('No loaded game')\n      const isNew = !payload.id\n      await rsGameModule.scenes(state.current.game).save(payload)\n      if (isNew) {\n        const index = state.current.scenes.findIndex(s => s.id === payload.id)\n        await dispatch('loadScene', index)\n      }\n    },\n    async loadScene ({ commit, state }, index: number) {\n      if (!state.current) throw Error('No loaded game')\n      commit('loadScene', { index, logs: [] })\n      const logs = await rsGameModule.logs(state.current.scenes[index]).list()\n      commit('loadScene', { index, logs })\n    },\n    async updateCharacter ({ commit, state }, payload: RSCharacter) {\n      if (!state.current) throw Error('No loaded game')\n      await rsGameModule.characters(state.current.game).save(payload)\n    },\n    async updatePlace ({ commit, state }, payload: RSPlace) {\n      if (!state.current) throw Error('No loaded game')\n      await rsGameModule.places(state.current.game).save(payload)\n    },\n    async updateSceneLog ({ commit, state }, payload: RSLog) {\n      if (!state.current) throw Error('No loaded game')\n      const scene = state.current.scenes[state.current.sceneIndex]\n      await rsGameModule.logs(scene).save(payload)\n    },\n    async updateGoal ({ commit, state }, payload: RSGoal) {\n      if (!state.current) throw Error('No loaded game')\n      await rsGameModule.goals(state.current.game).save(payload)\n    },\n    getCharacterById ({ state }, id: string): RSCharacter {\n      if (!state.current) throw Error('No loaded game')\n      const res = state.current.characters.find(p => p.id === id)\n      if (!res) throw new Error(`Can't find character: '${id}'`)\n      return res\n    },\n    getGoalById ({ state }, id: string): RSGoal {\n      if (!state.current) throw Error('No loaded game')\n      const res = state.current.goals.find(p => p.id === id)\n      if (!res) throw new Error(`Can't find goal: '${id}'`)\n      return res\n    },\n    getPlaceById ({ state }, id: string): RSPlace {\n      if (!state.current) throw Error('No loaded game')\n      const res = state.current.places.find(p => p.id === id)\n      if (!res) throw new Error(`Can't find place: '${id}'`)\n      return res\n    },\n    getSceneById ({ state }, id: string): RSScene {\n      if (!state.current) throw Error('No loaded game')\n      const res = state.current.scenes.find(p => p.id === id)\n      if (!res) throw new Error(`Can't find scene: '${id}'`)\n      return res\n    },\n    getLogById ({ state }, id: string): RSLog {\n      if (!state.current) throw Error('No loaded game')\n      const res = state.current.logs.find(p => p.id === id)\n      if (!res) throw new Error(`Can't find log: '${id}'`)\n      return res\n    },\n    async randomAnswer ({ dispatch, state }, payload: string) {\n      if (!state.current) throw Error('No loaded game')\n      if (!(state.current.sceneIndex === state.current.scenes.length - 1)) throw Error('Not on last scene')\n      let answer = ''\n      const number = Math.random()\n      if (number < 0.1) {\n        answer = 'oui, et en plus...'\n      } else if (number < 0.4) {\n        answer = 'oui'\n      } else if (number < 0.5) {\n        answer = 'oui, mais...'\n      } else if (number < 0.6) {\n        answer = 'non, mais...'\n      } else if (number < 0.9) {\n        answer = 'non'\n      } else {\n        answer = 'non, et en plus...'\n      }\n      await dispatch('updateSceneLog', { icon: 'far fa-question-circle', mechanical: payload + ' ' + answer })\n      if (Math.random() < 0.1) {\n        await dispatch('randomEvent')\n      }\n    },\n    async randomEvent ({ dispatch, getters, state }) {\n      if (!state.current) throw Error('No loaded game')\n      if (!(state.current.sceneIndex === state.current.scenes.length - 1)) throw Error('Not on last scene')\n      let mechanical = ''\n      let relatedAspects: string[] | undefined\n      while (true) {\n        const d100 = Math.floor(Math.random() * 100) + 1\n        if (d100 <= 7) {\n          mechanical = 'Evénement lointain'\n        } else if (d100 <= 28) {\n          if (getters.activeNonPlayerCharacters.length === 0) {\n            continue\n          }\n          const item: RSCharacter = randomize(getters.activeNonPlayerCharacters)\n          mechanical = 'Action du PNJ \"' + item.name + '\"'\n          relatedAspects = item.aspects\n        } else if (d100 <= 35) {\n          await dispatch('updateCharacter', { name: randomName(), isActive: true, isPlayer: false })\n          const lastOne = getters.activeNonPlayerCharacters.length - 1\n          const item: RSCharacter = getters.activeNonPlayerCharacters[lastOne]\n          mechanical = 'Nouveau PNJ \"' + item.name + '\"'\n          relatedAspects = item.aspects\n        } else if (d100 <= 45) {\n          if (getters.activeNonPlayerCharacters.length === 0) {\n            continue\n          }\n          if (getters.activeGoals.length === 0) {\n            continue\n          }\n          const item: RSGoal = randomize(getters.activeGoals)\n          mechanical = 'Rapprochement d\\'objectif: \"' + item.label + '\"'\n        } else if (d100 <= 52) {\n          if (getters.activeGoals.length === 0) {\n            continue\n          }\n          const item: RSGoal = randomize(getters.activeGoals)\n          mechanical = 'Eloignement d\\'objectif: \"' + item.label + '\"'\n        } else if (d100 <= 55) {\n          if (getters.activeGoals.length === 0) {\n            continue\n          }\n          const item: RSGoal = randomize(getters.activeGoals)\n          mechanical = 'Objectif terminé: \"' + item.label + '\"'\n        } else if (d100 <= 67) {\n          if (getters.activePlayerCharacters.length === 0) {\n            continue\n          }\n          const item: RSCharacter = randomize(getters.activePlayerCharacters)\n          mechanical = 'Événement négatif pour le PJ \"' + item.name + '\"'\n          relatedAspects = item.aspects\n        } else if (d100 <= 75) {\n          if (getters.activePlayerCharacters.length === 0) {\n            continue\n          }\n          const item: RSCharacter = randomize(getters.activePlayerCharacters)\n          mechanical = 'Événement positif pour le PJ \"' + item.name + '\"'\n          relatedAspects = item.aspects\n        } else if (d100 <= 83) {\n          mechanical = 'Événement ambigu'\n        } else if (d100 <= 92) {\n          if (getters.activeNonPlayerCharacters.length === 0) {\n            continue\n          }\n          const item: RSCharacter = randomize(getters.activeNonPlayerCharacters)\n          mechanical = 'Événement négatif pour le PNJ \"' + item.name + '\"'\n          relatedAspects = item.aspects\n        } else {\n          if (getters.activeNonPlayerCharacters.length === 0) {\n            continue\n          }\n          const item: RSCharacter = randomize(getters.activeNonPlayerCharacters)\n          mechanical = 'Événement positif pour un PNJ \"' + item.name + '\"'\n          relatedAspects = item.aspects\n        }\n        break\n      }\n      const inspirations = relatedAspects?.length && Math.random() < 0.5 ? [randomize(relatedAspects)] : [\n        await dispatch('getRandom', { query: '__action' }),\n        await dispatch('getRandom', { query: '__action_object' })\n      ]\n      await dispatch('updateSceneLog', { icon: 'fas fa-bolt', mechanical, inspirations })\n    },\n    async getRandom (\n      { state /* , dispatch */ },\n      // { tag, tagSet }: { tag: string; tagSet: string[] }\n      { query: tag, tags = [] }: { query: string; tags?: string[]}\n    ): Promise<string> { // { res: string; tagSet: string[] }> {\n      return state.tagStorage.getRandom(tag, tags) ?? 'N/A'\n    },\n    async addComment ({ dispatch, state }, comment: string) {\n      if (!state.current) throw Error('No loaded game')\n      if (!(state.current.sceneIndex === state.current.scenes.length - 1)) throw Error('Not on last scene')\n      await dispatch('updateSceneLog', { icon: 'far fa-comments', interpretation: comment })\n    },\n    showRemoteStorageWidget ({ commit }) {\n      widget.attach('remotestorage-widget')\n    },\n    async init ({ state, dispatch, commit }) {\n      await dispatch('listSavedGames')\n      rsGameModule.onChange(e => {\n        console.debug('CHANGE: ' + e.relativePath, e)\n        const elts = e.relativePath.split('/')\n        const newValue = e.origin === 'conflict' && e?.oldValue?.createdDate > e?.newValue?.createdDate ? e.oldValue : e.newValue\n\n        if (elts.length === 3) {\n          // games/<id>/content\n          console.debug('Reloading games')\n          dispatch('listSavedGames')\n        } else if (e.newValue) {\n          // games/<id>/...\n          const gameId = elts.slice(0, 2).join('/')\n          if (state?.current?.game?.id === gameId) {\n            if (elts.length === 4) {\n              // games/<id>/<type>/<id>\n              switch (elts[2]) {\n                case 'characters':\n                  return commit('updateCharacter', newValue)\n                case 'places':\n                  return commit('updatePlace', newValue)\n                case 'goals':\n                  return commit('updateGoal', newValue)\n                default:\n              }\n            } else if (elts.length >= 5) {\n              // games/<id>/scenes/<id>/content\n              // games/<id>/scenes/<id>/logs/<id>\n              const changedSceneId = elts.slice(0, 4).join('/')\n              const currentScenes = state?.current?.scenes\n              const currentSceneIndex = state?.current?.sceneIndex ?? -1\n              const currentSceneId = currentScenes?.[currentSceneIndex]?.id\n              switch (elts[4]) {\n                case 'content':\n                  return commit('updateScene', newValue)\n                case 'logs':\n                  if (currentSceneId === changedSceneId) {\n                    return commit('updateSceneLog', newValue)\n                  }\n                  break\n                default:\n              }\n            } else {\n              console.error('Unsupported id: ', elts)\n            }\n          }\n        }\n      })\n      remoteStorage.caching.enable('/gm_emulator/')\n    }\n  },\n  modules: {}\n})\n\nexport default store\n\nremoteStorage.on('ready', () => store.dispatch('init'))\n","import Vue from 'vue'\nimport VueRouter, { RouteConfig } from 'vue-router'\nimport Home from '@/views/Home.vue'\nimport LoadGame from '@/views/LoadGame.vue'\nimport Game from '@/views/Game.vue'\nimport Tags from '@/views/Tags.vue'\nimport ListsView from '@/views/Lists.vue'\nimport store from '@/store'\n\nVue.use(VueRouter)\n\nconst routes: Array<RouteConfig> = [\n  {\n    path: '/game',\n    name: 'Game',\n    component: Game,\n    alias: '/',\n    meta: {\n      title: 'GMEmulator - Jeu'\n    },\n    beforeEnter (to, from, next) {\n      console.log('current.game: ', store.state.current?.game)\n      if (store.state.current?.game) {\n        next()\n      } else {\n        next('/load')\n      }\n    }\n  },\n  {\n    path: '/load',\n    name: 'LoadGame',\n    component: LoadGame,\n    meta: {\n      title: 'GMEmulator - Chargement'\n    }\n  },\n  {\n    path: '/tags',\n    name: 'Tags',\n    component: Tags,\n    meta: {\n      title: 'GMEmulator - Tags'\n    }\n  },\n  {\n    path: '/lists',\n    name: 'Lists',\n    component: ListsView,\n    meta: {\n      title: 'GMEmulator - Personages'\n    }\n  },\n  {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue')\n  }\n]\n\nconst router = new VueRouter({\n  routes\n})\n\nexport default router\n","import Vue from 'vue'\nimport Vuetify from 'vuetify/lib'\nimport '@fortawesome/fontawesome-free/css/all.css' // Ensure you are using css-loader\n\nVue.use(Vuetify)\n\nexport default new Vuetify({\n  theme: {\n    options: {\n      customProperties: true\n    },\n    themes: {\n      light: {\n        primary: '#006e5a',\n        secondary: '#6e0045',\n        accent: '#40807a',\n        error: '#FF5252',\n        info: '#2196F3',\n        success: '#4CAF50',\n        warning: '#FFC107'\n      }\n    }\n  },\n  icons: {\n    iconfont: 'fa',\n    values: {\n      delete: 'fa-times'\n    }\n  }\n})\n","import Vue from 'vue'\nimport App from './App.vue'\nimport './registerServiceWorker'\nimport router from './router'\nimport store from './store'\nimport vuetify from './plugins/vuetify'\n\nVue.config.productionTip = false\n\nnew Vue({\n  router,\n  store,\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n"],"sourceRoot":""}